(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gi,Ft,Uo,Vn,Va,Jo,Os,$o,ou,Ws,zs,Qo,Hr={},tc=[],qA=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,cu=Array.isArray;function Mn(t,e){for(var n in e)t[n]=e[n];return t}function lu(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ec(t,e,n){var r,i,s,u={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:u[s]=e[s];if(arguments.length>2&&(u.children=arguments.length>3?Gi.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)u[s]===void 0&&(u[s]=t.defaultProps[s]);return Di(t,u,r,i,null)}function Di(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Uo,__i:-1,__u:0};return i==null&&Ft.vnode!=null&&Ft.vnode(s),s}function Xr(t){return t.children}function vi(t,e){this.props=t,this.context=e}function ar(t,e){if(e==null)return t.__?ar(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ar(t):null}function nc(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return nc(t)}}function Hs(t){(!t.__d&&(t.__d=!0)&&Vn.push(t)&&!xi.__r++||Va!==Ft.debounceRendering)&&((Va=Ft.debounceRendering)||Jo)(xi)}function xi(){var t,e,n,r,i,s,u,a;for(Vn.sort(Os);t=Vn.shift();)t.__d&&(e=Vn.length,r=void 0,s=(i=(n=t).__v).__e,u=[],a=[],n.__P&&((r=Mn({},i)).__v=i.__v+1,Ft.vnode&&Ft.vnode(r),hu(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,u,s??ar(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,sc(u,r,a),r.__e!=s&&nc(r)),Vn.length>e&&Vn.sort(Os));xi.__r=0}function rc(t,e,n,r,i,s,u,a,c,h,m){var p,d,g,M,v,P,B=r&&r.__k||tc,S=e.length;for(c=ZA(n,e,B,c,S),p=0;p<S;p++)(g=n.__k[p])!=null&&(d=g.__i===-1?Hr:B[g.__i]||Hr,g.__i=p,P=hu(t,g,d,i,s,u,a,c,h,m),M=g.__e,g.ref&&d.ref!=g.ref&&(d.ref&&pu(d.ref,null,g),m.push(g.ref,g.__c||M,g)),v==null&&M!=null&&(v=M),4&g.__u||d.__k===g.__k?c=ic(g,c,t):typeof g.type=="function"&&P!==void 0?c=P:M&&(c=M.nextSibling),g.__u&=-7);return n.__e=v,c}function ZA(t,e,n,r,i){var s,u,a,c,h,m=n.length,p=m,d=0;for(t.__k=new Array(i),s=0;s<i;s++)(u=e[s])!=null&&typeof u!="boolean"&&typeof u!="function"?(c=s+d,(u=t.__k[s]=typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?Di(null,u,null,null,null):cu(u)?Di(Xr,{children:u},null,null,null):u.constructor===void 0&&u.__b>0?Di(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=t,u.__b=t.__b+1,a=null,(h=u.__i=jA(u,n,c,p))!==-1&&(p--,(a=n[h])&&(a.__u|=2)),a==null||a.__v===null?(h==-1&&d--,typeof u.type!="function"&&(u.__u|=4)):h!=c&&(h==c-1?d--:h==c+1?d++:(h>c?d--:d++,u.__u|=4))):t.__k[s]=null;if(p)for(s=0;s<m;s++)(a=n[s])!=null&&!(2&a.__u)&&(a.__e==r&&(r=ar(a)),uc(a,a));return r}function ic(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=ic(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=ar(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function jA(t,e,n,r){var i,s,u=t.key,a=t.type,c=e[n];if(c===null||c&&u==c.key&&a===c.type&&!(2&c.__u))return n;if(r>(c!=null&&!(2&c.__u)?1:0))for(i=n-1,s=n+1;i>=0||s<e.length;){if(i>=0){if((c=e[i])&&!(2&c.__u)&&u==c.key&&a===c.type)return i;i--}if(s<e.length){if((c=e[s])&&!(2&c.__u)&&u==c.key&&a===c.type)return s;s++}}return-1}function Ra(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||qA.test(e)?n:n+"px"}function di(t,e,n,r,i){var s;t:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Ra(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Ra(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace($o,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=ou,t.addEventListener(e,s?zs:Ws,s)):t.removeEventListener(e,s?zs:Ws,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function La(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=ou++;else if(e.t<n.u)return;return n(Ft.event?Ft.event(e):e)}}}function hu(t,e,n,r,i,s,u,a,c,h){var m,p,d,g,M,v,P,B,S,O,w,_,k,I,T,H,G,Z=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=e.__e=n.__e]),(m=Ft.__b)&&m(e);t:if(typeof Z=="function")try{if(B=e.props,S="prototype"in Z&&Z.prototype.render,O=(m=Z.contextType)&&r[m.__c],w=m?O?O.props.value:m.__:r,n.__c?P=(p=e.__c=n.__c).__=p.__E:(S?e.__c=p=new Z(B,w):(e.__c=p=new vi(B,w),p.constructor=Z,p.render=KA),O&&O.sub(p),p.props=B,p.state||(p.state={}),p.context=w,p.__n=r,d=p.__d=!0,p.__h=[],p._sb=[]),S&&p.__s==null&&(p.__s=p.state),S&&Z.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Mn({},p.__s)),Mn(p.__s,Z.getDerivedStateFromProps(B,p.__s))),g=p.props,M=p.state,p.__v=e,d)S&&Z.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),S&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(S&&Z.getDerivedStateFromProps==null&&B!==g&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(B,w),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(B,p.__s,w)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(p.props=B,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(W){W&&(W.__=e)}),_=0;_<p._sb.length;_++)p.__h.push(p._sb[_]);p._sb=[],p.__h.length&&u.push(p);break t}p.componentWillUpdate!=null&&p.componentWillUpdate(B,p.__s,w),S&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(g,M,v)})}if(p.context=w,p.props=B,p.__P=t,p.__e=!1,k=Ft.__r,I=0,S){for(p.state=p.__s,p.__d=!1,k&&k(e),m=p.render(p.props,p.state,p.context),T=0;T<p._sb.length;T++)p.__h.push(p._sb[T]);p._sb=[]}else do p.__d=!1,k&&k(e),m=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++I<25);p.state=p.__s,p.getChildContext!=null&&(r=Mn(Mn({},r),p.getChildContext())),S&&!d&&p.getSnapshotBeforeUpdate!=null&&(v=p.getSnapshotBeforeUpdate(g,M)),a=rc(t,cu(H=m!=null&&m.type===Xr&&m.key==null?m.props.children:m)?H:[H],e,n,r,i,s,u,a,c,h),p.base=e.__e,e.__u&=-161,p.__h.length&&u.push(p),P&&(p.__E=p.__=null)}catch(W){if(e.__v=null,c||s!=null)if(W.then){for(e.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else for(G=s.length;G--;)lu(s[G]);else e.__e=n.__e,e.__k=n.__k;Ft.__e(W,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=XA(n.__e,e,n,r,i,s,u,c,h);return(m=Ft.diffed)&&m(e),128&e.__u?void 0:a}function sc(t,e,n){for(var r=0;r<n.length;r++)pu(n[r],n[++r],n[++r]);Ft.__c&&Ft.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Ft.__e(s,i.__v)}})}function XA(t,e,n,r,i,s,u,a,c){var h,m,p,d,g,M,v,P=n.props,B=e.props,S=e.type;if(S=="svg"?i="http://www.w3.org/2000/svg":S=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(h=0;h<s.length;h++)if((g=s[h])&&"setAttribute"in g==!!S&&(S?g.localName==S:g.nodeType==3)){t=g,s[h]=null;break}}if(t==null){if(S==null)return document.createTextNode(B);t=document.createElementNS(i,S,B.is&&B),a&&(Ft.__m&&Ft.__m(e,s),a=!1),s=null}if(S===null)P===B||a&&t.data===B||(t.data=B);else{if(s=s&&Gi.call(t.childNodes),P=n.props||Hr,!a&&s!=null)for(P={},h=0;h<t.attributes.length;h++)P[(g=t.attributes[h]).name]=g.value;for(h in P)if(g=P[h],h!="children"){if(h=="dangerouslySetInnerHTML")p=g;else if(!(h in B)){if(h=="value"&&"defaultValue"in B||h=="checked"&&"defaultChecked"in B)continue;di(t,h,null,g,i)}}for(h in B)g=B[h],h=="children"?d=g:h=="dangerouslySetInnerHTML"?m=g:h=="value"?M=g:h=="checked"?v=g:a&&typeof g!="function"||P[h]===g||di(t,h,g,P[h],i);if(m)a||p&&(m.__html===p.__html||m.__html===t.innerHTML)||(t.innerHTML=m.__html),e.__k=[];else if(p&&(t.innerHTML=""),rc(t,cu(d)?d:[d],e,n,r,S=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,u,s?s[0]:n.__k&&ar(n,0),a,c),s!=null)for(h=s.length;h--;)lu(s[h]);a||(h="value",S=="progress"&&M==null?t.removeAttribute("value"):M!==void 0&&(M!==t[h]||S=="progress"&&!M||S=="option"&&M!==P[h])&&di(t,h,M,P[h],i),h="checked",v!==void 0&&v!==t[h]&&di(t,h,v,P[h],i))}return t}function pu(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Ft.__e(i,n)}}function uc(t,e,n){var r,i;if(Ft.unmount&&Ft.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||pu(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Ft.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&uc(r[i],e,n||typeof t.type!="function");n||lu(t.__e),t.__c=t.__=t.__e=void 0}function KA(t,e,n){return this.constructor(t,n)}function ac(t,e,n){var r,i,s,u;e==document&&(e=document.documentElement),Ft.__&&Ft.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],u=[],hu(e,t=(!r&&n||e).__k=ec(Xr,null,[t]),i||Hr,Hr,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?Gi.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,u),sc(s,t,u)}function oc(t,e){ac(t,e,oc)}function cc(t,e){var n={__c:e="__cC"+Qo++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=new Set,(s={})[e]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&i.forEach(function(a){a.__e=!0,Hs(a)})},this.sub=function(u){i.add(u);var a=u.componentWillUnmount;u.componentWillUnmount=function(){i&&i.delete(u),a&&a.call(u)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Gi=tc.slice,Ft={__e:function(t,e,n,r){for(var i,s,u;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),u=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),u=i.__d),u)return i.__E=i}catch(a){t=a}throw t}},Uo=0,vi.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Mn({},this.state),typeof t=="function"&&(t=t(Mn({},n),this.props)),t&&Mn(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Hs(this))},vi.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Hs(this))},vi.prototype.render=Xr,Vn=[],Jo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Os=function(t,e){return t.__v.__b-e.__v.__b},xi.__r=0,$o=/(PointerCapture)$|Capture$/i,ou=0,Ws=La(!1),zs=La(!0),Qo=0;var YA=0;function vn(t,e,n,r,i,s){e||(e={});var u,a,c=e;if("ref"in c)for(a in c={},e)a=="ref"?u=e[a]:c[a]=e[a];var h={type:t,props:c,key:n,ref:u,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--YA,__i:-1,__u:0,__source:i,__self:s};if(typeof t=="function"&&(u=t.defaultProps))for(a in u)c[a]===void 0&&(c[a]=u[a]);return Ft.vnode&&Ft.vnode(h),h}var qr,qt,bs,Ga,Oa=0,lc=[],jt=Ft,Wa=jt.__b,za=jt.__r,Ha=jt.diffed,qa=jt.__c,Za=jt.unmount,ja=jt.__;function mu(t,e){jt.__h&&jt.__h(qt,t,Oa||e),Oa=0;var n=qt.__H||(qt.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function UA(t,e,n){var r=mu(qr++,2);if(r.t=t,!r.__c&&(r.__=[eC(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],h=r.t(c,a);c!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=qt,!qt.u)){var i=function(a,c,h){if(!r.__c.__H)return!0;var m=r.__c.__H.__.filter(function(d){return!!d.__c});if(m.every(function(d){return!d.__N}))return!s||s.call(this,a,c,h);var p=r.__c.props!==a;return m.forEach(function(d){if(d.__N){var g=d.__[0];d.__=d.__N,d.__N=void 0,g!==d.__[0]&&(p=!0)}}),s&&s.call(this,a,c,h)||p};qt.u=!0;var s=qt.shouldComponentUpdate,u=qt.componentWillUpdate;qt.componentWillUpdate=function(a,c,h){if(this.__e){var m=s;s=void 0,i(a,c,h),s=m}u&&u.call(this,a,c,h)},qt.shouldComponentUpdate=i}return r.__N||r.__}function JA(t,e){var n=mu(qr++,4);!jt.__s&&hc(n.__H,e)&&(n.__=t,n.i=e,qt.__h.push(n))}function $A(t,e){var n=mu(qr++,7);return hc(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function QA(){for(var t;t=lc.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(bi),t.__H.__h.forEach(qs),t.__H.__h=[]}catch(e){t.__H.__h=[],jt.__e(e,t.__v)}}jt.__b=function(t){qt=null,Wa&&Wa(t)},jt.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ja&&ja(t,e)},jt.__r=function(t){za&&za(t),qr=0;var e=(qt=t.__c).__H;e&&(bs===qt?(e.__h=[],qt.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(bi),e.__h.forEach(qs),e.__h=[],qr=0)),bs=qt},jt.diffed=function(t){Ha&&Ha(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(lc.push(e)!==1&&Ga===jt.requestAnimationFrame||((Ga=jt.requestAnimationFrame)||tC)(QA)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),bs=qt=null},jt.__c=function(t,e){e.some(function(n){try{n.__h.forEach(bi),n.__h=n.__h.filter(function(r){return!r.__||qs(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],jt.__e(r,n.__v)}}),qa&&qa(t,e)},jt.unmount=function(t){Za&&Za(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{bi(r)}catch(i){e=i}}),n.__H=void 0,e&&jt.__e(e,n.__v))};var Xa=typeof requestAnimationFrame=="function";function tC(t){var e,n=function(){clearTimeout(r),Xa&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Xa&&(e=requestAnimationFrame(n))}function bi(t){var e=qt,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),qt=e}function qs(t){var e=qt;t.__c=t.__(),qt=e}function hc(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function eC(t,e){return typeof e=="function"?e(t):e}let Tn,Vr;const nC=(t,e)=>{if(Tn=void 0,e&&e.type==="click"){if(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button!==0)return t;const n=e.target.closest("a[href]"),r=n&&n.getAttribute("href");if(!n||n.origin!=location.origin||/^#/.test(r)||!/^(_?self)?$/i.test(n.target)||Vr&&(typeof Vr=="string"?!r.startsWith(Vr):!Vr.test(r)))return t;Tn=!0,e.preventDefault(),e=n.href.replace(location.origin,"")}else typeof e=="string"?Tn=!0:e&&e.url?(Tn=!e.replace,e=e.url):e=location.pathname+location.search;return Tn===!0?history.pushState(null,"",e):Tn===!1&&history.replaceState(null,"",e),e};function pc(t){const[e,n]=UA(nC,t.url||location.pathname+location.search);t.scope&&(Vr=t.scope);const r=Tn===!0,i=$A(()=>{const s=new URL(e,location.origin),u=s.pathname.replace(/\/+$/g,"")||"/";return{url:e,path:u,query:Object.fromEntries(s.searchParams),route:(a,c)=>n({url:a,replace:c}),wasPush:r}},[e]);return JA(()=>(addEventListener("click",n),addEventListener("popstate",n),()=>{removeEventListener("click",n),removeEventListener("popstate",n)}),[]),ec(pc.ctx.Provider,{value:i},t.children)}Promise.resolve();pc.ctx=cc({});cc({});const Ka=Ft.__b;Ft.__b=t=>{t.type&&t.type._forwarded&&t.ref&&(t.props.ref=t.ref,t.ref=null),Ka&&Ka(t)};const Ya=Ft.__e;Ft.__e=(t,e,n)=>{if(t&&t.then){let r=e;for(;r=r.__;)if(r.__c&&r.__c.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),e.__k||(e.__k=[]),r.__c.__c(t,e)}Ya&&Ya(t,e,n)};let Ua;function rC(t,e){if(typeof window>"u")return;let n=document.querySelector("script[type=isodata]");e=e||n&&n.parentNode||document.body,!Ua&&n?oc(t,e):ac(t,e),Ua=!0}/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var iC=2e3,et={s:1,n:0,d:1};function sn(t,e){if(isNaN(t=parseInt(t,10)))throw Mi();return t*e}function Gt(t,e){if(e===0)throw du();var n=Object.create(_t.prototype);n.s=t<0?-1:1,t=t<0?-t:t;var r=tr(t,e);return n.n=t/r,n.d=e/r,n}function Ja(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r===0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var fe=function(t,e){var n=0,r=1,i=1,s=0,u=0,a=0,c=1,h=1,m=0,p=1,d=1,g=1,M=1e7,v;if(t!=null)if(e!==void 0){if(n=t,r=e,i=n*r,n%1!==0||r%1!==0)throw oC()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)n=t.n,r=t.d,"s"in t&&(n*=t.s);else if(0 in t)n=t[0],1 in t&&(r=t[1]);else throw Mi();i=n*r;break}case"number":{if(t<0&&(i=t,t=-t),t%1===0)n=t;else if(t>0){for(t>=1&&(h=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=h);p<=M&&g<=M;)if(v=(m+d)/(p+g),t===v){p+g<=M?(n=m+d,r=p+g):g>p?(n=d,r=g):(n=m,r=p);break}else t>v?(m+=d,p+=g):(d+=m,g+=p),p>M?(n=d,r=g):(n=m,r=p);n*=h}else(isNaN(t)||isNaN(e))&&(r=n=NaN);break}case"string":{if(p=t.match(/\d+|./g),p===null)throw Mi();if(p[m]==="-"?(i=-1,m++):p[m]==="+"&&m++,p.length===m+1?u=sn(p[m++],i):p[m+1]==="."||p[m]==="."?(p[m]!=="."&&(s=sn(p[m++],i)),m++,(m+1===p.length||p[m+1]==="("&&p[m+3]===")"||p[m+1]==="'"&&p[m+3]==="'")&&(u=sn(p[m],i),c=Math.pow(10,p[m].length),m++),(p[m]==="("&&p[m+2]===")"||p[m]==="'"&&p[m+2]==="'")&&(a=sn(p[m+1],i),h=Math.pow(10,p[m+1].length)-1,m+=3)):p[m+1]==="/"||p[m+1]===":"?(u=sn(p[m],i),c=sn(p[m+2],1),m+=3):p[m+3]==="/"&&p[m+1]===" "&&(s=sn(p[m],i),u=sn(p[m+2],i),c=sn(p[m+4],1),m+=5),p.length<=m){r=c*h,i=n=a+r*s+h*u;break}}default:throw Mi()}if(r===0)throw du();et.s=i<0?-1:1,et.n=Math.abs(n),et.d=Math.abs(r)};function sC(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)e&1&&(r=r*t%n);return r}function uC(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(e===1)return 0;for(var n=10%e,r=1;n!==1;r++)if(n=n*10%e,r>iC)return 0;return r}function aC(t,e,n){for(var r=1,i=sC(10,n,e),s=0;s<300;s++){if(r===i)return s;r=r*10%e,i=i*10%e}return 0}function tr(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function _t(t,e){if(fe(t,e),this instanceof _t)t=tr(et.d,et.n),this.s=et.s,this.n=et.n/t,this.d=et.d/t;else return Gt(et.s*et.n,et.d)}var du=function(){return new Error("Division by Zero")},Mi=function(){return new Error("Invalid argument")},oC=function(){return new Error("Parameters must be integer")};_t.prototype={s:1,n:0,d:1,abs:function(){return Gt(this.n,this.d)},neg:function(){return Gt(-this.s*this.n,this.d)},add:function(t,e){return fe(t,e),Gt(this.s*this.n*et.d+et.s*this.d*et.n,this.d*et.d)},sub:function(t,e){return fe(t,e),Gt(this.s*this.n*et.d-et.s*this.d*et.n,this.d*et.d)},mul:function(t,e){return fe(t,e),Gt(this.s*et.s*this.n*et.n,this.d*et.d)},div:function(t,e){return fe(t,e),Gt(this.s*et.s*this.n*et.d,this.d*et.n)},clone:function(){return Gt(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new _t(NaN);if(t===void 0)return Gt(this.s*this.n%this.d,1);if(fe(t,e),et.n===0&&this.d===0)throw du();return Gt(this.s*(et.d*this.n)%(et.n*this.d),et.d*this.d)},gcd:function(t,e){return fe(t,e),Gt(tr(et.n,this.n)*tr(et.d,this.d),et.d*this.d)},lcm:function(t,e){return fe(t,e),et.n===0&&this.n===0?Gt(0,1):Gt(et.n*this.n,tr(et.n,this.n)*tr(et.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):Gt(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):Gt(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):Gt(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,e){return fe(t,e),Gt(this.s*Math.round(this.n*et.d/(this.d*et.n))*et.n,et.d)},inverse:function(){return Gt(this.s*this.d,this.n)},pow:function(t,e){if(fe(t,e),et.d===1)return et.s<0?Gt(Math.pow(this.s*this.d,et.n),Math.pow(this.n,et.n)):Gt(Math.pow(this.s*this.n,et.n),Math.pow(this.d,et.n));if(this.s<0)return null;var n=Ja(this.n),r=Ja(this.d),i=1,s=1;for(var u in n)if(u!=="1"){if(u==="0"){i=0;break}if(n[u]*=et.n,n[u]%et.d===0)n[u]/=et.d;else return null;i*=Math.pow(u,n[u])}for(var u in r)if(u!=="1"){if(r[u]*=et.n,r[u]%et.d===0)r[u]/=et.d;else return null;s*=Math.pow(u,r[u])}return et.s<0?Gt(s,i):Gt(i,s)},equals:function(t,e){return fe(t,e),this.s*this.n*et.d===et.s*et.n*this.d},compare:function(t,e){fe(t,e);var n=this.s*this.n*et.d-et.s*et.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var i=Gt(n[r-1],1),s=r-2;s>=0;s--)i=i.inverse().add(n[s]);if(Math.abs(i.sub(e).valueOf())<t)return i.mul(this.s)}return this},divisible:function(t,e){return fe(t,e),!(!(et.n*this.d)||this.n*et.d%(et.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),i===1?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),i===1?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do r.push(Math.floor(e/n)),t=e%n,e=n,n=t;while(e!==1);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=uC(e,n),i=aC(e,n,r),s=this.s<0?"-":"";if(s+=e/n|0,e%=n,e*=10,e&&(s+="."),r){for(var u=i;u--;)s+=e/n|0,e%=n,e*=10;s+="(";for(var u=r;u--;)s+=e/n|0,e%=n,e*=10;s+=")"}else for(var u=t;e&&u--;)s+=e/n|0,e%=n,e*=10;return s}};const fu="strudel.log";let cC=1e3,$a,Qa;function Kt(t,e,n={}){let r=performance.now();$a===t&&r-Qa<cC||($a=t,Qa=r,console.log(`%c${t}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(fu,{detail:{message:t,type:e,data:n}})))}Kt.key=fu;const lC=t=>/^[a-gA-G][#bs]*[0-9]$/.test(t),qn=t=>/^[a-gA-G][#bsf]*[0-9]?$/.test(t),mc=t=>{var i;if(typeof t!="string")return[];const[e,n="",r]=((i=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/))==null?void 0:i.slice(1))||[];return e?[e,n,r?Number(r):void 0]:[]},hC={c:0,d:2,e:4,f:5,g:7,a:9,b:11},pC={"#":1,b:-1,s:1,f:-1},In=(t,e=3)=>{const[n,r,i=e]=mc(t);if(!n)throw new Error('not a note: "'+t+'"');const s=hC[n.toLowerCase()],u=(r==null?void 0:r.split("").reduce((a,c)=>a+pC[c],0))||0;return(Number(i)+1)*12+s+u},or=t=>Math.pow(2,(t-69)/12)*440,gu=t=>12*Math.log(t/440)/Math.LN2+69,mC=(t,e)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:r}=t;if(typeof n=="number")return gu(n);if(typeof r=="string")return In(r);if(typeof r=="number")return r;if(!e)throw new Error("valueToMidi: expected freq or note to be set");return e},dC=(t,e)=>(t-e)*1e3,dc=t=>or(typeof t=="number"?t:In(t)),fC=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],gC=t=>{const e=Math.floor(t/12)-1;return fC[t%12]+e},we=(t,e)=>(t%e+e)%e;function fc(t,e=0){return isNaN(Number(t))?(Kt(`"${t}" is not a number, falling back to ${e}`,"warning"),e):t}const AC=(t,e)=>we(Math.round(fc(t??0,0)),e),CC=t=>{let{value:e,context:n}=t,r=e;if(typeof r=="object"&&!Array.isArray(r)&&(r=r.note||r.n||r.value,r===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(e)}`);if(typeof r=="number"&&n.type!=="frequency")r=or(t.value);else if(typeof r=="number"&&n.type==="frequency")r=t.value;else if(typeof r!="string"||!qn(r))throw new Error("not a note: "+JSON.stringify(r));return r},gc=t=>{let{value:e,context:n}=t;if(typeof e=="object")return e.freq?e.freq:dc(e.note||e.n||e.value);if(typeof e=="number"&&n.type!=="frequency")e=or(t.value);else if(typeof e=="string"&&qn(e))e=or(In(t.value));else if(typeof e!="number")throw new Error("not a note or frequency: "+e);return e},Ac=(t,e)=>t.slice(e).concat(t.slice(0,e)),Cc=(...t)=>t.reduce((e,n)=>(...r)=>e(n(...r)),e=>e),yC=(...t)=>Cc(...t.reverse()),fr=t=>t.filter(e=>e!=null),an=t=>[].concat(...t),er=t=>t,DC=(t,e)=>t,Au=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t);function bt(t,e,n=t.length){const r=function i(...s){if(s.length>=n)return t.apply(this,s);{const u=function(...a){return i.apply(this,s.concat(a))};return e&&e(u,s),u}};return e&&e(r,[]),r}function Cu(t){const e=Number(t);if(!isNaN(e))return e;if(qn(t))return In(t);throw new Error(`cannot parse as numeral: "${t}"`)}function yu(t,e){return(...n)=>t(...n.map(e))}function Ee(t){return yu(t,Cu)}function yc(t){const e=Number(t);if(!isNaN(e))return e;const n={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[t];if(typeof n<"u")return n;throw new Error(`cannot parse as fractional: "${t}"`)}const vC=t=>yu(t,yc),Du=function(t,e){return[e.slice(0,t),e.slice(t)]},vu=(t,e,n)=>e.map((r,i)=>t(r,n[i])),Dc=function(t){const e=[];for(let n=0;n<t.length-1;++n)e.push([t[n],t[n+1]]);return e},bu=(t,e,n)=>Math.min(Math.max(t,e),n),bC=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],MC=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],EC=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],FC=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],PC=["I","Ro","Ha","Ni","Ho","He","To"],_C=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],BC=(t,e="letters")=>{const n=(e==="solfeggio"?bC:e==="indian"?MC:e==="german"?EC:e==="byzantine"?FC:e==="japanese"?PC:_C)[t%12],r=Math.floor(t/12)-1;return n+r};function wC(t){var e={};return t.filter(function(n){return e.hasOwn(n)?!1:e[n]=!0})}function xC(t){return t.sort().filter(function(e,n,r){return!n||e!=r[n-1]})}function vc(t){return t.sort((e,n)=>e.compare(n)).filter(function(e,n,r){return!n||e.ne(r[n-1])})}function bc(t){const e=new TextEncoder().encode(t);return btoa(String.fromCharCode(...e))}function Mc(t){const e=new Uint8Array(atob(t).split("").map(n=>n.charCodeAt(0)));return new TextDecoder().decode(e)}function IC(t){return encodeURIComponent(bc(t))}function SC(t){return Mc(decodeURIComponent(t))}function Ec(t,e){return Array.isArray(t)?t.map(e):Object.fromEntries(Object.entries(t).map(([n,r],i)=>[n,e(r,n,i)]))}_t.prototype.sam=function(){return this.floor()};_t.prototype.nextSam=function(){return this.sam().add(1)};_t.prototype.wholeCycle=function(){return new Xt(this.sam(),this.nextSam())};_t.prototype.cyclePos=function(){return this.sub(this.sam())};_t.prototype.lt=function(t){return this.compare(t)<0};_t.prototype.gt=function(t){return this.compare(t)>0};_t.prototype.lte=function(t){return this.compare(t)<=0};_t.prototype.gte=function(t){return this.compare(t)>=0};_t.prototype.eq=function(t){return this.compare(t)==0};_t.prototype.ne=function(t){return this.compare(t)!=0};_t.prototype.max=function(t){return this.gt(t)?this:t};_t.prototype.maximum=function(...t){return t=t.map(e=>new _t(e)),t.reduce((e,n)=>n.max(e),this)};_t.prototype.min=function(t){return this.lt(t)?this:t};_t.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};_t.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};_t.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};_t.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};_t.prototype.show=function(){return this.s*this.n+"/"+this.d};_t.prototype.or=function(t){return this.eq(0)?t:this};const K=t=>_t(t),kC=(...t)=>{if(t=fr(t),t.length!==0)return t.reduce((e,n)=>e.gcd(n),K(1))},on=(...t)=>{if(t=fr(t),t.length!==0)return t.reduce((e,n)=>e===void 0||n===void 0?void 0:e.lcm(n),K(1))};K._original=_t;class Xt{constructor(e,n){this.begin=K(e),this.end=K(n)}get spanCycles(){const e=[];var n=this.begin;const r=this.end,i=r.sam();if(n.equals(r))return[new Xt(n,r)];for(;r.gt(n);){if(n.sam().equals(i)){e.push(new Xt(n,this.end));break}const s=n.nextSam();e.push(new Xt(n,s)),n=s}return e}get duration(){return this.end.sub(this.begin)}cycleArc(){const e=this.begin.cyclePos(),n=e.add(this.duration);return new Xt(e,n)}withTime(e){return new Xt(e(this.begin),e(this.end))}withEnd(e){return new Xt(this.begin,e(this.end))}withCycle(e){const n=this.begin.sam(),r=n.add(e(this.begin.sub(n))),i=n.add(e(this.end.sub(n)));return new Xt(r,i)}intersection(e){const n=this.begin.max(e.begin),r=this.end.min(e.end);if(!n.gt(r)&&!(n.equals(r)&&(n.equals(this.end)&&this.begin.lt(this.end)||n.equals(e.end)&&e.begin.lt(e.end))))return new Xt(n,r)}intersection_e(e){const n=this.intersection(e);if(n==null)throw"TimeSpans do not intersect";return n}midpoint(){return this.begin.add(this.duration.div(K(2)))}equals(e){return this.begin.equals(e.begin)&&this.end.equals(e.end)}show(){return this.begin.show()+" → "+this.end.show()}}class Ht{constructor(e,n,r,i={},s=!1){this.whole=e,this.part=n,this.value=r,this.context=i,this.stateful=s,s&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){var n,r;let e;return typeof((n=this.value)==null?void 0:n.duration)=="number"?e=K(this.value.duration):e=this.whole.end.sub(this.whole.begin),typeof((r=this.value)==null?void 0:r.clip)=="number"?e.mul(this.value.clip):e}get endClipped(){return this.whole.begin.add(this.duration)}isActive(e){return this.whole.begin<=e&&this.endClipped>=e}isInPast(e){return e>this.endClipped}isInNearPast(e,n){return n-e<=this.endClipped}isInFuture(e){return e<this.whole.begin}isInNearFuture(e,n){return n<this.whole.begin&&n>this.whole.begin-e}isWithinTime(e,n){return this.whole.begin<=n&&this.endClipped>=e}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(e){const n=this.whole?e(this.whole):void 0;return new Ht(n,e(this.part),this.value,this.context)}withValue(e){return new Ht(this.whole,this.part,e(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(e){var n;return(n=this.context.tags)==null?void 0:n.includes(e)}resolveState(e){if(this.stateful&&this.hasOnset()){console.log("stateful");const n=this.value,[r,i]=n(e);return[r,new Ht(this.whole,this.part,i,this.context,!1)]}return[e,this]}spanEquals(e){return this.whole==null&&e.whole==null||this.whole.equals(e.whole)}equals(e){return this.spanEquals(e)&&this.part.equals(e.part)&&this.value===e.value}show(e=!1){const n=typeof this.value=="object"?e?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var r="";if(this.whole==null)r="~"+this.part.show;else{var i=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(r=this.whole.begin.show()+" ⇜ "),i||(r+="("),r+=this.part.show(),i||(r+=")"),this.whole.end.equals(this.part.end)||(r+=" ⇝ "+this.whole.end.show())}return"[ "+r+" | "+n+" ]"}showWhole(e=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?e?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(e){const n=this;return{...n.context,...e.context,locations:(n.context.locations||[]).concat(e.context.locations||[])}}setContext(e){return new Ht(this.whole,this.part,this.value,e)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}}class cr{constructor(e,n={}){this.span=e,this.controls=n}setSpan(e){return new cr(e,this.controls)}withSpan(e){return this.setSpan(e(this.span))}setControls(e){return new cr(this.span,e)}}function NC(t,e,n){if((e==null?void 0:e.value)!==void 0&&Object.keys(e).length===1)return Kt("[warn]: Can't do arithmetic on control pattern."),t;const r=Object.keys(t).filter(i=>Object.keys(e).includes(i));return Object.assign({},t,e,Object.fromEntries(r.map(i=>[i,n(t[i],e[i])])))}bt((t,e)=>t*e);bt((t,e)=>e.map(t));function Fc(t,e=60){let n=0,r=K(0),i=[""],s="";for(;i[0].length<e;){const u=t.queryArc(n,n+1),a=u.filter(m=>m.hasOnset()).map(m=>m.duration),c=kC(...a),h=c.inverse();i=i.map(m=>m+"|"),s+="|";for(let m=0;m<h;m++){const[p,d]=[r,r.add(c)],g=u.filter(v=>v.whole.begin.lte(p)&&v.whole.end.gte(d)),M=g.length-i.length;M>0&&(i=i.concat(Array(M).fill(s))),i=i.map((v,P)=>{const B=g[P];if(B){const S=B.whole.begin.eq(p)?""+B.value:"-";return v+S}return v+"."}),s+=".",r=r.add(c)}n++}return i.join(`
`)}let Zs,We=!0;const TC=function(t){We=!!t},Pc=t=>Zs=t;let nt=class ee{constructor(e,n=void 0){this.query=e,this._Pattern=!0,this.tactus=n}get tactus(){return this.__tactus}set tactus(e){this.__tactus=e===void 0?void 0:K(e)}setTactus(e){return this.tactus=e,this}withTactus(e){return We?new ee(this.query,this.tactus===void 0?void 0:e(this.tactus)):this}get hasTactus(){return this.tactus!==void 0}withValue(e){const n=new ee(r=>this.query(r).map(i=>i.withValue(e)));return n.tactus=this.tactus,n}fmap(e){return this.withValue(e)}appWhole(e,n){const r=this,i=function(s){const u=r.query(s),a=n.query(s),c=function(h,m){const p=h.part.intersection(m.part);if(p!=null)return new Ht(e(h.whole,m.whole),p,h.value(m.value),m.combineContext(h))};return an(u.map(h=>fr(a.map(m=>c(h,m)))))};return new ee(i)}appBoth(e){const n=this,r=function(s,u){if(!(s==null||u==null))return s.intersection_e(u)},i=n.appWhole(r,e);return We&&(i.tactus=on(e.tactus,n.tactus)),i}appLeft(e){const n=this,r=function(s){const u=[];for(const a of n.query(s)){const c=e.query(s.setSpan(a.wholeOrPart()));for(const h of c){const m=a.whole,p=a.part.intersection(h.part);if(p){const d=a.value(h.value),g=h.combineContext(a),M=new Ht(m,p,d,g);u.push(M)}}}return u},i=new ee(r);return i.tactus=this.tactus,i}appRight(e){const n=this,r=function(s){const u=[];for(const a of e.query(s)){const c=n.query(s.setSpan(a.wholeOrPart()));for(const h of c){const m=a.whole,p=h.part.intersection(a.part);if(p){const d=h.value(a.value),g=a.combineContext(h),M=new Ht(m,p,d,g);u.push(M)}}}return u},i=new ee(r);return i.tactus=e.tactus,i}bindWhole(e,n){const r=this,i=function(s){const u=function(c,h){return new Ht(e(c.whole,h.whole),h.part,h.value,Object.assign({},c.context,h.context,{locations:(c.context.locations||[]).concat(h.context.locations||[])}))},a=function(c){return n(c.value).query(s.setSpan(c.part)).map(h=>u(c,h))};return an(r.query(s).map(c=>a(c)))};return new ee(i)}bind(e){const n=function(r,i){if(!(r==null||i==null))return r.intersection_e(i)};return this.bindWhole(n,e)}join(){return this.bind(er)}outerBind(e){return this.bindWhole(n=>n,e).setTactus(this.tactus)}outerJoin(){return this.outerBind(er)}innerBind(e){return this.bindWhole((n,r)=>r,e)}innerJoin(){return this.innerBind(er)}resetJoin(e=!1){const n=this;return new ee(r=>n.discreteOnly().query(r).map(i=>i.value.late(e?i.whole.begin:i.whole.begin.cyclePos()).query(r).map(s=>new Ht(s.whole?s.whole.intersection(i.whole):void 0,s.part.intersection(i.part),s.value).setContext(i.combineContext(s))).filter(s=>s.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const e=this;function n(r){const i=e.discreteOnly().query(r);function s(u){const a=u.value._focusSpan(u.wholeOrPart()).query(r.setSpan(u.part));function c(h,m){let p;if(m.whole&&h.whole&&(p=m.whole.intersection(h.whole),!p))return;const d=m.part.intersection(h.part);if(!d)return;const g=m.combineContext(h);return new Ht(p,d,m.value,g)}return a.map(h=>c(u,h))}return an(i.map(s)).filter(u=>u)}return new ee(n)}squeezeBind(e){return this.fmap(e).squeezeJoin()}queryArc(e,n,r={}){try{return this.query(new cr(new Xt(e,n),r))}catch(i){return Kt(`[query]: ${i.message}`,"error"),[]}}splitQueries(){const e=this,n=r=>an(r.span.spanCycles.map(i=>e.query(r.setSpan(i))));return new ee(n)}withQuerySpan(e){return new ee(n=>this.query(n.withSpan(e)))}withQuerySpanMaybe(e){const n=this;return new ee(r=>{const i=r.withSpan(e);return i.span?n.query(i):[]})}withQueryTime(e){return new ee(n=>this.query(n.withSpan(r=>r.withTime(e))))}withHapSpan(e){return new ee(n=>this.query(n).map(r=>r.withSpan(e)))}withHapTime(e){return this.withHapSpan(n=>n.withTime(e))}withHaps(e){const n=new ee(r=>e(this.query(r),r));return n.tactus=this.tactus,n}withHap(e){return this.withHaps(n=>n.map(e))}setContext(e){return this.withHap(n=>n.setContext(e))}withContext(e){const n=this.withHap(r=>r.setContext(e(r.context)));return this.__pure!==void 0&&(n.__pure=this.__pure,n.__pure_loc=this.__pure_loc),n}stripContext(){return this.withHap(e=>e.setContext({}))}withLoc(e,n){const r={start:e,end:n},i=this.withContext(s=>{const u=(s.locations||[]).concat([r]);return{...s,locations:u}});return this.__pure&&(i.__pure=this.__pure,i.__pure_loc=r),i}filterHaps(e){return new ee(n=>this.query(n).filter(e))}filterValues(e){return new ee(n=>this.query(n).filter(r=>e(r.value))).setTactus(this.tactus)}removeUndefineds(){return this.filterValues(e=>e!=null)}onsetsOnly(){return this.filterHaps(e=>e.hasOnset())}discreteOnly(){return this.filterHaps(e=>e.whole)}defragmentHaps(){return this.discreteOnly().withHaps(e=>{const n=[];for(var r=0;r<e.length;++r){for(var i=!0,s=e[r];i;){const c=JSON.stringify(e[r].value);for(var u=!1,a=r+1;a<e.length;a++){const h=e[a];if(s.whole.equals(h.whole)){if(s.part.begin.eq(h.part.end)){if(c===JSON.stringify(h.value)){s=new Ht(s.whole,new Xt(h.part.begin,s.part.end),s.value),e.splice(a,1),u=!0;break}}else if(h.part.begin.eq(s.part.end)&&c==JSON.stringify(h.value)){s=new Ht(s.whole,new Xt(s.part.begin,h.part.end),s.value),e.splice(a,1),u=!0;break}}}i=u}n.push(s)}return n})}firstCycle(e=!1){var n=this;return e||(n=n.stripContext()),n.query(new cr(new Xt(K(0),K(1))))}get firstCycleValues(){return this.firstCycle().map(e=>e.value)}get showFirstCycle(){return this.firstCycle().map(e=>`${e.value}: ${e.whole.begin.toFraction()} - ${e.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(e=>e.sort((n,r)=>n.part.begin.sub(r.part.begin).or(n.part.end.sub(r.part.end)).or(n.whole.begin.sub(r.whole.begin).or(n.whole.end.sub(r.whole.end)))))}asNumber(){return this.fmap(Cu)}_opIn(e,n){return this.fmap(n).appLeft($(e))}_opOut(e,n){return this.fmap(n).appRight($(e))}_opMix(e,n){return this.fmap(n).appBoth($(e))}_opSqueeze(e,n){const r=$(e);return this.fmap(i=>r.fmap(s=>n(i)(s))).squeezeJoin()}_opSqueezeOut(e,n){const r=this;return $(e).fmap(i=>r.fmap(s=>n(s)(i))).squeezeJoin()}_opReset(e,n){return $(e).fmap(r=>this.fmap(i=>n(i)(r))).resetJoin()}_opRestart(e,n){return $(e).fmap(r=>this.fmap(i=>n(i)(r))).restartJoin()}layer(...e){return Vt(...e.map(n=>n(this)))}superimpose(...e){return this.stack(...e.map(n=>n(this)))}stack(...e){return Vt(this,...e)}sequence(...e){return xe(this,...e)}seq(...e){return xe(this,...e)}cat(...e){return nr(this,...e)}fastcat(...e){return Se(this,...e)}slowcat(...e){return Zn(this,...e)}onTrigger(e,n=!0){return this.withHap(r=>r.setContext({...r.context,onTrigger:(...i)=>{var s,u;(u=(s=r.context).onTrigger)==null||u.call(s,...i),e(...i)},dominantTrigger:r.context.dominantTrigger||n}))}log(e=(r,i)=>`[hap] ${i.showWhole(!0)}`,n=(r,i)=>({hap:i})){return this.onTrigger((...r)=>{Kt(e(...r),void 0,n(...r))},!1)}logValues(e=er){return this.log((n,r)=>e(r.value))}drawLine(){return console.log(Fc(this)),this}};function VC(t,e){let n=[];return e.forEach(r=>{const i=n.findIndex(([s])=>t(r,s));i===-1?n.push([r]):n[i].push(r)}),n}const RC=(t,e)=>t.spanEquals(e);nt.prototype.collect=function(){return this.withHaps(t=>VC(RC,t).map(e=>new Ht(e[0].whole,e[0].part,e,{})))};nt.prototype.arpWith=function(t){return this.collect().fmap(e=>$(t(e))).innerJoin().withHap(e=>new Ht(e.whole,e.part,e.value.value,e.combineContext(e.value)))};nt.prototype.arp=function(t){return this.arpWith(e=>t.fmap(n=>e[n%e.length]))};function fi(t){return!Array.isArray(t)&&typeof t=="object"}function LC(t,e,n){return fi(t)||fi(e)?(fi(t)||(t={value:t}),fi(e)||(e={value:e}),NC(t,e,n)):n(t,e)}(function(){const t={set:[(n,r)=>r],keep:[n=>n],keepif:[(n,r)=>r?n:void 0],add:[Ee((n,r)=>n+r)],sub:[Ee((n,r)=>n-r)],mul:[Ee((n,r)=>n*r)],div:[Ee((n,r)=>n/r)],mod:[Ee(we)],pow:[Ee(Math.pow)],band:[Ee((n,r)=>n&r)],bor:[Ee((n,r)=>n|r)],bxor:[Ee((n,r)=>n^r)],blshift:[Ee((n,r)=>n<<r)],brshift:[Ee((n,r)=>n>>r)],lt:[(n,r)=>n<r],gt:[(n,r)=>n>r],lte:[(n,r)=>n<=r],gte:[(n,r)=>n>=r],eq:[(n,r)=>n==r],eqt:[(n,r)=>n===r],ne:[(n,r)=>n!=r],net:[(n,r)=>n!==r],and:[(n,r)=>n&&r],or:[(n,r)=>n||r],func:[(n,r)=>r(n)]},e=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart"];for(const[n,[r,i]]of Object.entries(t)){nt.prototype["_"+n]=function(s){return this.fmap(u=>r(u,s))},Object.defineProperty(nt.prototype,n,{get:function(){const s=this,u=(...a)=>s[n].in(...a);for(const a of e)u[a.toLowerCase()]=function(...c){var h=s;c=xe(c),i&&(h=i(h),c=i(c));var m;return n==="keepif"?(m=h["_op"+a](c,p=>d=>r(p,d)),m=m.removeUndefineds()):m=h["_op"+a](c,p=>d=>LC(p,d,r)),m};return u.squeezein=u.squeeze,u}});for(const s of e)nt.prototype[s.toLowerCase()]=function(...u){return this.set[s.toLowerCase()](u)}}nt.prototype.struct=function(...n){return this.keepif.out(...n)},nt.prototype.structAll=function(...n){return this.keep.out(...n)},nt.prototype.mask=function(...n){return this.keepif.in(...n)},nt.prototype.maskAll=function(...n){return this.keep.in(...n)},nt.prototype.reset=function(...n){return this.keepif.reset(...n)},nt.prototype.resetAll=function(...n){return this.keep.reset(...n)},nt.prototype.restart=function(...n){return this.keepif.restart(...n)},nt.prototype.restartAll=function(...n){return this.keep.restart(...n)}})();const GC=Vt,OC=Vt,WC=wu,gr=t=>new nt(()=>[],t),Bt=gr(1),je=gr(0);function ie(t){function e(r){return r.span.spanCycles.map(i=>new Ht(K(i.begin).wholeCycle(),i,t))}const n=new nt(e,1);return n.__pure=t,n}function Mu(t){return t instanceof nt||(t==null?void 0:t._Pattern)}function $(t){return Mu(t)?t:Zs&&typeof t=="string"?Zs(t):ie(t)}function Vt(...t){t=t.map(r=>Array.isArray(r)?xe(...r):$(r));const e=r=>an(t.map(i=>i.query(r))),n=new nt(e);return We&&(n.tactus=on(...t.map(r=>r.tactus))),n}function Eu(t,e){if(e=e.map(s=>Array.isArray(s)?xe(...s):$(s)),e.length===0)return Bt;if(e.length===1)return e[0];const[n,...r]=e.map(s=>s.tactus),i=We?n.maximum(...r):void 0;return Vt(...t(i,e))}function _c(...t){return Eu((e,n)=>n.map(r=>r.tactus.eq(e)?r:Ie(r,gr(e.sub(r.tactus)))),t)}function Bc(...t){return Eu((e,n)=>n.map(r=>r.tactus.eq(e)?r:Ie(gr(e.sub(r.tactus)),r)),t)}function wc(...t){return Eu((e,n)=>n.map(r=>{if(r.tactus.eq(e))return r;const i=gr(e.sub(r.tactus).div(2));return Ie(i,r,i)}),t)}function zC(t,...e){const[n,...r]=e.map(u=>u.tactus),i=n.maximum(...r),s={centre:wc,left:_c,right:Bc,expand:Vt,repeat:(...u)=>Vc(i,...u)};return t.inhabit(s).fmap(u=>u(...e)).innerJoin().setTactus(i)}function Zn(...t){if(t=t.map(r=>Array.isArray(r)?Se(...r):$(r)),t.length==1)return t[0];const e=function(r){const i=r.span,s=we(i.begin.sam(),t.length),u=t[s];if(!u)return[];const a=i.begin.floor().sub(i.begin.div(t.length).floor());return u.withHapTime(c=>c.add(a)).query(r.setSpan(i.withTime(c=>c.sub(a))))},n=We?on(...t.map(r=>r.tactus)):void 0;return new nt(e).splitQueries().setTactus(n)}function Fu(...t){t=t.map($);const e=function(n){var i;const r=Math.floor(n.span.begin)%t.length;return((i=t[r])==null?void 0:i.query(n))||[]};return new nt(e).splitQueries()}function nr(...t){return Zn(...t)}function xc(...t){const e=t.reduce((n,[r])=>n+r,0);return t=t.map(([n,r])=>[n,r.fast(n)]),Ie(...t).slow(e)}function Se(...t){let e=Zn(...t);return t.length>1&&(e=e._fast(t.length),e.tactus=t.length),e}function xe(...t){return Se(...t)}function Ic(...t){return Se(...t)}function js(t){return Array.isArray(t)?t.length==0?[Bt,0]:t.length==1?js(t[0]):[Se(...t.map(e=>js(e)[0])),t.length]:[$(t),1]}const HC=bt((t,e)=>$(e).mask(t)),qC=bt((t,e)=>$(e).struct(t)),ZC=bt((t,e)=>$(e).superimpose(...t)),jC=bt((t,e)=>$(e).set(t)),XC=bt((t,e)=>$(e).keep(t)),KC=bt((t,e)=>$(e).keepif(t)),YC=bt((t,e)=>$(e).add(t)),UC=bt((t,e)=>$(e).sub(t)),JC=bt((t,e)=>$(e).mul(t)),$C=bt((t,e)=>$(e).div(t)),QC=bt((t,e)=>$(e).mod(t)),t2=bt((t,e)=>$(e).pow(t)),e2=bt((t,e)=>$(e).band(t)),n2=bt((t,e)=>$(e).bor(t)),r2=bt((t,e)=>$(e).bxor(t)),i2=bt((t,e)=>$(e).blshift(t)),s2=bt((t,e)=>$(e).brshift(t)),u2=bt((t,e)=>$(e).lt(t)),a2=bt((t,e)=>$(e).gt(t)),o2=bt((t,e)=>$(e).lte(t)),c2=bt((t,e)=>$(e).gte(t)),l2=bt((t,e)=>$(e).eq(t)),h2=bt((t,e)=>$(e).eqt(t)),p2=bt((t,e)=>$(e).ne(t)),m2=bt((t,e)=>$(e).net(t)),d2=bt((t,e)=>$(e).and(t)),f2=bt((t,e)=>$(e).or(t)),g2=bt((t,e)=>$(e).func(t));function L(t,e,n=!0,r=!1,i=s=>s.innerJoin()){if(Array.isArray(t)){const a={};for(const c of t)a[c]=L(c,e,n);return a}const s=e.length;var u;return n?u=function(...a){a=a.map($);const c=a[a.length-1];let h;if(s===1)h=e(c);else{const m=a.slice(0,-1);if(m.every(p=>p.__pure!=null)){const p=m.map(g=>g.__pure),d=m.filter(g=>g.__pure_loc).map(g=>g.__pure_loc);h=e(...p,c),h=h.withContext(g=>{const M=(g.locations||[]).concat(d);return{...g,locations:M}})}else{const[p,...d]=m;let g=(...M)=>e(...M,c);g=bt(g,null,s-1),h=i(d.reduce((M,v)=>M.appLeft(v),p.fmap(g)))}}return r&&(h.tactus=c.tactus),h}:u=function(...a){a=a.map($);const c=e(...a);return r&&(c.tactus=a[a.length-1].tactus),c},nt.prototype[t]=function(...a){if(s===2&&a.length!==1)a=[xe(...a)];else if(s!==a.length+1)throw new Error(`.${t}() expects ${s-1} inputs but got ${a.length}.`);return a=a.map($),u(...a,this)},s>1&&(nt.prototype["_"+t]=function(...a){return e(...a,this)}),bt(u,null,s)}function Oi(t,e,n=!0,r=!1,i=s=>s.stepJoin()){return L(t,e,n,r,i)}const A2=L("round",function(t){return t.asNumber().fmap(e=>Math.round(e))}),C2=L("floor",function(t){return t.asNumber().fmap(e=>Math.floor(e))}),y2=L("ceil",function(t){return t.asNumber().fmap(e=>Math.ceil(e))}),D2=L("toBipolar",function(t){return t.fmap(e=>e*2-1)}),v2=L("fromBipolar",function(t){return t.fmap(e=>(e+1)/2)}),b2=L("range",function(t,e,n){return n.mul(e-t).add(t)}),M2=L("rangex",function(t,e,n){return n._range(Math.log(t),Math.log(e)).fmap(Math.exp)}),E2=L("range2",function(t,e,n){return n.fromBipolar()._range(t,e)}),F2=L("ratio",t=>t.fmap(e=>Array.isArray(e)?e.slice(1).reduce((n,r)=>n/r,e[0]):e)),P2=L("compress",function(t,e,n){return t=K(t),e=K(e),t.gt(e)||t.gt(1)||e.gt(1)||t.lt(0)||e.lt(0)?Bt:n._fastGap(K(1).div(e.sub(t)))._late(t)}),{compressSpan:_2,compressspan:B2}=L(["compressSpan","compressspan"],function(t,e){return e._compress(t.begin,t.end)}),{fastGap:w2,fastgap:x2}=L(["fastGap","fastgap"],function(t,e){const n=function(i){const s=i.begin.sam(),u=i.begin.sub(s).mul(t).min(1),a=i.end.sub(s).mul(t).min(1);if(!(u>=1))return new Xt(s.add(u),s.add(a))},r=function(i){const s=i.part.begin,u=i.part.end,a=s.sam(),c=s.sub(a).div(t).min(1),h=u.sub(a).div(t).min(1),m=new Xt(a.add(c),a.add(h)),p=i.whole?new Xt(m.begin.sub(s.sub(i.whole.begin).div(t)),m.end.add(i.whole.end.sub(u).div(t))):void 0;return new Ht(p,m,i.value,i.context)};return e.withQuerySpanMaybe(n).withHap(r).splitQueries()}),I2=L("focus",function(t,e,n){return t=K(t),e=K(e),n._fast(K(1).div(e.sub(t))).late(t.cyclePos())}),{focusSpan:S2,focusspan:k2}=L(["focusSpan","focusspan"],function(t,e){return e._focus(t.begin,t.end)}),N2=L("ply",function(t,e){const n=e.fmap(r=>ie(r)._fast(t)).squeezeJoin();return We&&(n.tactus=K(t).mulmaybe(e.tactus)),n}),{fast:T2,density:LF}=L(["fast","density"],function(t,e){return t===0?Bt:(t=K(t),e.withQueryTime(n=>n.mul(t)).withHapTime(n=>n.div(t)).setTactus(e.tactus))},!0,!0),V2=L("hurry",function(t,e){return e._fast(t).mul(ie({speed:t}))}),{slow:R2,sparsity:L2}=L(["slow","sparsity"],function(t,e){return t===0?Bt:e._fast(K(1).div(t))}),G2=L("inside",function(t,e,n){return e(n._slow(t))._fast(t)}),O2=L("outside",function(t,e,n){return e(n._fast(t))._slow(t)}),W2=L("lastOf",function(t,e,n){const r=Array(t-1).fill(n);return r.push(e(n)),Fu(...r)}),{firstOf:z2,every:H2}=L(["firstOf","every"],function(t,e,n){const r=Array(t-1).fill(n);return r.unshift(e(n)),Fu(...r)}),q2=L("apply",function(t,e){return t(e)}),Z2=L("cpm",function(t,e){return e._fast(t/60/1)}),j2=L("early",function(t,e){return t=K(t),e.withQueryTime(n=>n.add(t)).withHapTime(n=>n.sub(t))},!0,!0),Sc=L("late",function(t,e){return t=K(t),e._early(K(0).sub(t))},!0,!0),X2=L("zoom",function(t,e,n){if(e=K(e),t=K(t),t.gte(e))return je;const r=e.sub(t),i=We?n.tactus.mulmaybe(r):void 0;return n.withQuerySpan(s=>s.withCycle(u=>u.mul(r).add(t))).withHapSpan(s=>s.withCycle(u=>u.sub(t).div(r))).splitQueries().setTactus(i)}),{zoomArc:K2,zoomarc:Y2}=L(["zoomArc","zoomarc"],function(t,e){return e.zoom(t.begin,t.end)}),U2=L("linger",function(t,e){return t==0?Bt:t<0?e._zoom(t.add(1),1)._slow(t):e._zoom(0,t)._slow(t)},!0,!0),J2=L("segment",function(t,e){return e.struct(ie(!0)._fast(t)).setTactus(t)}),$2=L("swingBy",(t,e,n)=>n.inside(e,Sc(Ic(0,t/2)))),Q2=L("swing",(t,e)=>e.swingBy(1/3,t)),{invert:ty,inv:ey}=L(["invert","inv"],function(t){return t.fmap(e=>!e)},!0,!0),ny=L("when",function(t,e,n){return t?e(n):n}),ry=L("off",function(t,e,n){return Vt(n,e(n.late(t)))}),iy=L("brak",function(t){return t.when(Zn(!1,!0),e=>Se(e,Bt)._late(.25))}),kc=L("rev",function(t){const e=function(n){const r=n.span,i=r.begin.sam(),s=r.begin.nextSam(),u=function(a){const c=a.withTime(m=>i.add(s.sub(m))),h=c.begin;return c.begin=c.end,c.end=h,c};return t.query(n.setSpan(u(r))).map(a=>a.withSpan(u))};return new nt(e).splitQueries()},!1,!0),sy=L("pressBy",function(t,e){return e.fmap(n=>ie(n).compress(t,1)).squeezeJoin()}),uy=L("press",function(t){return t._pressBy(.5)});nt.prototype.hush=function(){return Bt};const ay=L("palindrome",function(t){return t.lastOf(2,kc)},!0,!0),{juxBy:oy,juxby:cy}=L(["juxBy","juxby"],function(t,e,n){t/=2;const r=function(u,a,c){return a in u?u[a]:c},i=n.withValue(u=>Object.assign({},u,{pan:r(u,"pan",.5)-t})),s=e(n.withValue(u=>Object.assign({},u,{pan:r(u,"pan",.5)+t})));return Vt(i,s).setTactus(We?on(i.tactus,s.tactus):void 0)}),ly=L("jux",function(t,e){return e._juxBy(1,t,e)}),{echoWith:hy,echowith:py,stutWith:my,stutwith:dy}=L(["echoWith","echowith","stutWith","stutwith"],function(t,e,n,r){return Vt(...Au(0,t-1).map(i=>n(r.late(K(e).mul(i)),i)))}),fy=L("echo",function(t,e,n,r){return r._echoWith(t,e,(i,s)=>i.gain(Math.pow(n,s)))}),gy=L("stut",function(t,e,n,r){return r._echoWith(t,n,(i,s)=>i.gain(Math.pow(e,s)))}),Pu=function(t,e,n=!1){return t=K(t),Zn(...Au(0,t.sub(1)).map(r=>n?e.late(K(r).div(t)):e.early(K(r).div(t))))},Ay=L("iter",function(t,e){return Pu(t,e,!1)},!0,!0),{iterBack:Cy,iterback:yy}=L(["iterBack","iterback"],function(t,e){return Pu(t,e,!0)},!0,!0),{repeatCycles:Dy}=L("repeatCycles",function(t,e){return new nt(function(n){const r=n.span.begin.sam(),i=r.div(t).sam(),s=r.sub(i);return n=n.withSpan(u=>u.withTime(a=>a.sub(s))),e.query(n).map(u=>u.withSpan(a=>a.withTime(c=>c.add(s))))}).splitQueries()},!0,!0),_u=function(t,e,n,r=!1,i=!1){const s=Array(t-1).fill(!1);s.unshift(!0);const u=Pu(t,xe(...s),!r);return i||(n=n.repeatCycles(t)),n.when(u,e)},{chunk:vy,slowchunk:by,slowChunk:My}=L(["chunk","slowchunk","slowChunk"],function(t,e,n){return _u(t,e,n,!1,!1)}),{chunkBack:Ey,chunkback:Fy}=L(["chunkBack","chunkback"],function(t,e,n){return _u(t,e,n,!0)}),{fastchunk:Py,fastChunk:_y}=L(["fastchunk","fastChunk"],function(t,e,n){return _u(t,e,n,!1,!0)}),By=L("bypass",function(t,e){return t=!!parseInt(t),t?Bt:e},!0,!0),wy=L("ribbon",(t,e,n)=>n.early(t).restart(ie(1).slow(e))),xy=L("hsla",(t,e,n,r,i)=>i.color(`hsla(${t}turn,${e*100}%,${n*100}%,${r})`)),Iy=L("hsl",(t,e,n,r)=>r.color(`hsl(${t}turn,${e*100}%,${n*100}%)`));nt.prototype.tag=function(t){return this.withContext(e=>({...e,tags:(e.tags||[]).concat([t])}))};nt.prototype.stepJoin=function(){const t=this,e=Ie(...Xs(Ks(t.queryArc(0,1)))).tactus,n=function(r){const i=t.early(r.span.begin.sam()).query(r.setSpan(new Xt(K(0),K(1))));return Ie(...Xs(Ks(i))).query(r)};return new nt(n,e)};function Xs(t){const e=t.filter((s,u)=>u.hasTactus).reduce((s,u)=>s.add(u),K(0)),n=fr(t.map((s,u)=>u.tactus)).reduce((s,u)=>s.add(u),K(0)),r=e.eq(0)?void 0:n.div(e);function i(s,u){return u.tactus===void 0?[s.mulmaybe(r),u]:[u.tactus,u]}return t.map(s=>i(...s))}function Ks(t){const e=an(t.map(r=>[r.part.begin,r.part.end])),n=vc([K(0),K(1),...e]);return Dc(n).map(r=>[r[1].sub(r[0]),Vt(...Nc(new Xt(...r),t).map(i=>i.value.withHap(s=>s.setContext(s.combineContext(i)))))])}function Nc(t,e){return fr(e.map(n=>Tc(t,n)))}function Tc(t,e){const n=t.intersection(e.part);if(n!=null)return new Ht(e.whole,n,e.value,e.context)}const Sy=L("steps",function(t,e){return e.tactus===void 0?e:e.tactus.eq(K(0))?je:e.fast(K(t).div(e.tactus))});function Bu(t,...e){const n=e.map(i=>js(i));if(n.length==0)return Bt;t==0&&(t=n[0][1]);const r=[];for(const i of n)i[1]!=0&&(t==i[1]?r.push(i[0]):r.push(i[0]._fast(K(t).div(K(i[1])))));return Vt(...r)}function Vc(t,...e){return e.length==0?Bt:Array.isArray(e[0])?Bu(t,...e):wu(...e).steps(t)}function wu(...t){if(Array.isArray(t[0]))return Bu(0,...t);if(t=t.filter(s=>s.hasTactus),t.length==0)return Bt;const e=t[0].tactus;if(e.eq(K(0)))return je;const[n,...r]=t,i=Vt(n,...r.map(s=>s._slow(s.tactus.div(e))));return i.tactus=e,i}function Ie(...t){if(t.length===0)return je;const e=u=>Array.isArray(u)?u:[u.tactus,u];if(t=t.map(e),t.find(u=>u[0]===void 0)){const u=t.map(c=>c[0]).filter(c=>c!==void 0);if(u.length===0)return Se(...t.map(c=>c[1]));if(u.length===t.length)return je;const a=u.reduce((c,h)=>c.add(h),K(0)).div(u.length);for(let c of t)c[0]===void 0&&(c[0]=a)}if(t.length==1){const u=$(t[0][1]);return u.tactus=t[0][0],u}const n=t.map(u=>u[0]).reduce((u,a)=>u.add(a),K(0));let r=K(0);const i=[];for(const[u,a]of t){if(K(u).eq(0))continue;const c=r.add(u);i.push($(a)._compress(r.div(n),c.div(n))),r=c}const s=Vt(...i);return s.tactus=n,s}const ky=Ie,xu=Ie;function Ny(...t){t=t.map(i=>Array.isArray(i)?i.map($):[$(i)]);const e=on(...t.map(i=>K(i.length)));let n=[];for(let i=0;i<e;++i)n.push(...t.map(s=>s.length==0?Bt:s[i%s.length]));n=n.filter(i=>i.hasTactus&&i.tactus>0);const r=n.reduce((i,s)=>i.add(s.tactus),K(0));return n=Ie(...n),n.tactus=r,n}const Ty=Oi("s_add",function(t,e){if(!e.hasTactus||e.tactus.lte(0)||(t=K(t),t.eq(0)))return je;const n=t<0;n&&(t=t.abs());const r=t.div(e.tactus);return r.lte(0)?je:r.gte(1)?e:n?e.zoom(K(1).sub(r),1):e.zoom(0,r)}),Vy=Oi("s_sub",function(t,e){return e.hasTactus?(t=K(t),t.lt(0)?e.s_add(K(0).sub(e.tactus.add(t))):e.s_add(e.tactus.sub(t))):je}),Ry=Oi("s_expand",function(t,e){return e.withTactus(n=>n.mul(K(t)))}),Ly=Oi("s_contract",function(t,e){return e.withTactus(n=>n.div(K(t)))});nt.prototype.s_taperlist=function(t,e){const n=this;if(!n.hasTactus)return[n];if(e=e-1,e===0)return[n];const r=[],i=t>0;t=K(Math.abs(t));const s=n.tactus.sub(t.mul(K(e))).max(K(0));for(let u=0;u<e;++u)r.push(n.zoom(0,s.add(t.mul(K(u))).div(n.tactus)));return r.push(n),i&&r.reverse(),r};const Gy=(t,e,n)=>n.s_taperlist(t,e),Oy=L("s_taper",function(t,e,n){if(!n.hasTactus)return je;const r=n.s_taperlist(t,e),i=Ie(...r);return i.tactus=r.reduce((s,u)=>s.add(u.tactus),K(0)),i},!0,!1,t=>t.stepJoin());nt.prototype.s_tour=function(...t){return Ie(...[].concat(...t.map((e,n)=>[...t.slice(0,t.length-n),this,...t.slice(t.length-n)]),this,...t))};const Wy=function(t,...e){return t.s_tour(...e)},zy=L("chop",function(t,e){const n=Array.from({length:t},(i,s)=>s).map(i=>({begin:i/t,end:(i+1)/t})),r=function(i){return xe(n.map(s=>Object.assign({},i,s)))};return e.squeezeBind(r).setTactus(We?K(t).mulmaybe(e.tactus):void 0)}),Hy=L("striate",function(t,e){const n=Array.from({length:t},(i,s)=>s).map(i=>({begin:i/t,end:(i+1)/t})),r=Zn(...n);return e.set(r)._fast(t).setTactus(We?K(t).mulmaybe(e.tactus):void 0)}),Rc=function(t,e,n=.5){return e.speed(1/t*n).unit("c").slow(t)},Lc=L("slice",function(t,e,n){return t.innerBind(r=>e.outerBind(i=>n.outerBind(s=>{s=s instanceof Object?s:{s};const u=Array.isArray(r)?r[i]:i/r,a=Array.isArray(r)?r[i+1]:(i+1)/r;return ie({begin:u,end:a,_slices:r,...s})}))).setTactus(e.tactus)},!1),qy=L("splice",function(t,e,n){const r=Lc(t,e,n);return new nt(i=>{const s=i.controls._cps||1;return r.query(i).map(u=>u.withValue(a=>({speed:s/a._slices/u.whole.duration*(a.speed||1),unit:"c",...a})))}).setTactus(e.tactus)},!1),{loopAt:Zy,loopat:jy}=L(["loopAt","loopat"],function(t,e){return new nt(n=>Rc(t,e,n.controls._cps).query(n))}),Xy=L("fit",t=>t.withHaps((e,n)=>e.map(r=>r.withValue(i=>({...i,speed:(n.controls._cps||1)/r.whole.duration,unit:"c"}))))),{loopAtCps:Ky,loopatcps:Yy}=L(["loopAtCps","loopatcps"],function(t,e,n){return Rc(t,n,e)}),Uy=t=>ie(1).withValue(()=>$(t())).innerJoin();let to=t=>t<.5?1:1-(t-.5)/.5,Gc=(t,e,n)=>{e=$(e),t=$(t),n=$(n);let r=e.fmap(s=>({gain:to(s)})),i=e.fmap(s=>({gain:to(1-s)}));return Vt(t.mul(r),n.mul(i))};nt.prototype.xfade=function(t,e){return Gc(this,t,e)};function Wi(t){let e=Array.isArray(t);t=e?t:[t];const n=t[0],r=u=>{let a;if(typeof u=="object"&&u.value!==void 0&&(a={...u},u=u.value,delete a.value),e&&Array.isArray(u)){const c=a||{};return u.forEach((h,m)=>{m<t.length&&(c[t[m]]=h)}),c}else return a?(a[n]=u,a):{[n]:u}},i=(...u)=>xe(...u).withValue(r),s=function(...u){return u.length?this.set(i(...u)):this.fmap(r)};return nt.prototype[n]=s,i}function x(t,...e){const n=Array.isArray(t)?t[0]:t;let r={};return r[n]=Wi(t),e.forEach(i=>{r[i]=r[n],nt.prototype[i]=nt.prototype[n]}),r}const{s:Oc,sound:Lr}=x(["s","n","gain"],"sound"),{source:Wc,src:zc}=x("source","src"),{n:Hc}=x("n"),{note:Nt}=x(["note","n"]),{accelerate:qc}=x("accelerate"),{velocity:Zc}=x("velocity"),{gain:jc}=x("gain"),{postgain:Xc}=x("postgain"),{amp:Kc}=x("amp"),{attack:Yc,att:Uc}=x("attack","att"),{fmh:Jc}=x(["fmh","fmi"],"fmh"),{fmi:$c,fm:Qc}=x(["fmi","fmh"],"fm"),{fmenv:tl}=x("fmenv"),{fmattack:el}=x("fmattack"),{fmdecay:nl}=x("fmdecay"),{fmsustain:rl}=x("fmsustain"),{fmrelease:il}=x("fmrelease"),{fmvelocity:sl}=x("fmvelocity"),{bank:ul}=x("bank"),{analyze:al}=x("analyze"),{fft:ol}=x("fft"),{decay:cl,dec:ll}=x("decay","dec"),{sustain:hl,sus:pl}=x("sustain","sus"),{release:ml,rel:dl}=x("release","rel"),{hold:fl}=x("hold"),{bandf:gl,bpf:Al,bp:Cl}=x(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:yl,bpq:Dl}=x("bandq","bpq"),{begin:vl}=x("begin"),{end:bl}=x("end"),{loop:Ml}=x("loop"),{loopBegin:El,loopb:Fl}=x("loopBegin","loopb"),{loopEnd:Pl,loope:_l}=x("loopEnd","loope"),{crush:Bl}=x("crush"),{coarse:wl}=x("coarse"),{drive:xl}=x("drive"),{channels:Il,ch:Sl}=x("channels","ch"),{phaserrate:kl,phasr:Nl}=x("phaserrate","phasr"),{phaser:Tl,ph:Vl}=x(["phaser","phaserdepth","phasercenter","phasersweep"],"ph"),{phasersweep:Rl,phs:Ll}=x("phasersweep","phs"),{phasercenter:Gl,phc:Ol}=x("phasercenter","phc"),{phaserdepth:Wl,phd:zl,phasdp:Hl}=x("phaserdepth","phd","phasdp"),{channel:ql}=x("channel"),{cut:Zl}=x("cut"),{cutoff:jl,ctf:Xl,lpf:Kl,lp:Yl}=x(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:Ul,lpe:Jl}=x("lpenv","lpe"),{hpenv:$l,hpe:Ql}=x("hpenv","hpe"),{bpenv:th,bpe:eh}=x("bpenv","bpe"),{lpattack:nh,lpa:rh}=x("lpattack","lpa"),{hpattack:ih,hpa:sh}=x("hpattack","hpa"),{bpattack:uh,bpa:ah}=x("bpattack","bpa"),{lpdecay:oh,lpd:ch}=x("lpdecay","lpd"),{hpdecay:lh,hpd:hh}=x("hpdecay","hpd"),{bpdecay:ph,bpd:mh}=x("bpdecay","bpd"),{lpsustain:dh,lps:fh}=x("lpsustain","lps"),{hpsustain:gh,hps:Ah}=x("hpsustain","hps"),{bpsustain:Ch,bps:yh}=x("bpsustain","bps"),{lprelease:Dh,lpr:vh}=x("lprelease","lpr"),{hprelease:bh,hpr:Mh}=x("hprelease","hpr"),{bprelease:Eh,bpr:Fh}=x("bprelease","bpr"),{ftype:Ph}=x("ftype"),{fanchor:_h}=x("fanchor"),{vib:Bh,vibrato:wh,v:xh}=x(["vib","vibmod"],"vibrato","v"),{noise:Ih}=x("noise"),{vibmod:Sh,vmod:kh}=x(["vibmod","vib"],"vmod"),{hcutoff:Nh,hpf:Th,hp:Vh}=x(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:Rh,hpq:Lh}=x("hresonance","hpq"),{resonance:Gh,lpq:Oh}=x("resonance","lpq"),{djf:Wh}=x("djf"),{delay:zh}=x(["delay","delaytime","delayfeedback"]),{delayfeedback:Hh,delayfb:qh,dfb:Zh}=x("delayfeedback","delayfb","dfb"),{delaytime:jh,delayt:Xh,dt:Kh}=x("delaytime","delayt","dt"),{lock:Yh}=x("lock"),{detune:Uh,det:Jh}=x("detune","det"),{unison:$h}=x("unison"),{spread:Qh}=x("spread"),{dry:t0}=x("dry"),{fadeTime:e0,fadeOutTime:n0}=x("fadeTime","fadeOutTime"),{fadeInTime:r0}=x("fadeInTime"),{freq:i0}=x("freq"),{pattack:s0,patt:u0}=x("pattack","patt"),{pdecay:a0,pdec:o0}=x("pdecay","pdec"),{psustain:c0,psus:l0}=x("psustain","psus"),{prelease:h0,prel:p0}=x("prelease","prel"),{penv:m0}=x("penv"),{pcurve:d0}=x("pcurve"),{panchor:f0}=x("panchor"),{gate:g0,gat:A0}=x("gate","gat"),{leslie:C0}=x("leslie"),{lrate:y0}=x("lrate"),{lsize:D0}=x("lsize"),{activeLabel:v0}=x("activeLabel"),{label:b0}=x(["label","activeLabel"]),{degree:M0}=x("degree"),{mtranspose:E0}=x("mtranspose"),{ctranspose:F0}=x("ctranspose"),{harmonic:P0}=x("harmonic"),{stepsPerOctave:_0}=x("stepsPerOctave"),{octaveR:B0}=x("octaveR"),{nudge:w0}=x("nudge"),{octave:x0}=x("octave"),{orbit:I0}=x("orbit"),{overgain:S0}=x("overgain"),{overshape:k0}=x("overshape"),{pan:N0}=x("pan"),{panspan:T0}=x("panspan"),{pansplay:V0}=x("pansplay"),{panwidth:R0}=x("panwidth"),{panorient:L0}=x("panorient"),{rate:G0}=x("rate"),{slide:O0}=x("slide"),{semitone:W0}=x("semitone"),{voice:z0}=x("voice"),{chord:H0}=x("chord"),{dictionary:q0,dict:Z0}=x("dictionary","dict"),{anchor:j0}=x("anchor"),{offset:X0}=x("offset"),{octaves:K0}=x("octaves"),{mode:Y0}=x(["mode","anchor"]),{room:U0}=x(["room","size"]),{roomlp:J0,rlp:$0}=x("roomlp","rlp"),{roomdim:Q0,rdim:tp}=x("roomdim","rdim"),{roomfade:ep,rfade:np}=x("roomfade","rfade"),{ir:rp,iresponse:ip}=x(["ir","i"],"iresponse"),{roomsize:sp,size:up,sz:ap,rsize:op}=x("roomsize","size","sz","rsize"),{shape:cp}=x(["shape","shapevol"]),{distort:lp,dist:hp}=x(["distort","distortvol"],"dist"),{compressor:pp}=x(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:mp}=x("compressorKnee"),{compressorRatio:dp}=x("compressorRatio"),{compressorAttack:fp}=x("compressorAttack"),{compressorRelease:gp}=x("compressorRelease"),{speed:Ap}=x("speed"),{unit:Cp}=x("unit"),{squiz:yp}=x("squiz"),{vowel:Dp}=x("vowel"),{waveloss:vp}=x("waveloss"),{density:Jy}=x("density"),{expression:bp}=x("expression"),{sustainpedal:Mp}=x("sustainpedal"),{tremolodepth:Ep,tremdp:Fp}=x("tremolodepth","tremdp"),{tremolorate:Pp,tremr:_p}=x("tremolorate","tremr"),{fshift:Bp}=x("fshift"),{fshiftnote:wp}=x("fshiftnote"),{fshiftphase:xp}=x("fshiftphase"),{triode:Ip}=x("triode"),{krush:Sp}=x("krush"),{kcutoff:kp}=x("kcutoff"),{octer:Np}=x("octer"),{octersub:Tp}=x("octersub"),{octersubsub:Vp}=x("octersubsub"),{ring:Rp}=x("ring"),{ringf:Lp}=x("ringf"),{ringdf:Gp}=x("ringdf"),{freeze:Op}=x("freeze"),{xsdelay:Wp}=x("xsdelay"),{tsdelay:zp}=x("tsdelay"),{real:Hp}=x("real"),{imag:qp}=x("imag"),{enhance:Zp}=x("enhance"),{partials:jp}=x("partials"),{comb:Xp}=x("comb"),{smear:Kp}=x("smear"),{scram:Yp}=x("scram"),{binshift:Up}=x("binshift"),{hbrick:Jp}=x("hbrick"),{lbrick:$p}=x("lbrick"),{midichan:Qp}=x("midichan"),{control:t1}=x("control"),{ccn:e1}=x("ccn"),{ccv:n1}=x("ccv"),{polyTouch:r1}=x("polyTouch"),{midibend:i1}=x("midibend"),{miditouch:s1}=x("miditouch"),{ctlNum:u1}=x("ctlNum"),{frameRate:a1}=x("frameRate"),{frames:o1}=x("frames"),{hours:c1}=x("hours"),{midicmd:l1}=x("midicmd"),{minutes:h1}=x("minutes"),{progNum:p1}=x("progNum"),{seconds:m1}=x("seconds"),{songPtr:d1}=x("songPtr"),{uid:f1}=x("uid"),{val:g1}=x("val"),{cps:A1}=x("cps"),{clip:C1,legato:y1}=x("clip","legato"),{duration:D1,dur:v1}=x("duration","dur"),{zrand:b1}=x("zrand"),{curve:M1}=x("curve"),{deltaSlide:E1}=x("deltaSlide"),{pitchJump:F1}=x("pitchJump"),{pitchJumpTime:P1}=x("pitchJumpTime"),{lfo:_1,repeatTime:B1}=x("lfo","repeatTime"),{znoise:w1}=x("znoise"),{zmod:x1}=x("zmod"),{zcrush:I1}=x("zcrush"),{zdelay:S1}=x("zdelay"),{tremolo:k1}=x("tremolo"),{zzfx:N1}=x("zzfx"),{color:T1,colour:V1}=x(["color","colour"]);let Iu=(...t)=>t.reduce((e,n)=>Object.assign(e,{[n]:Wi(n)}),{});const R1=L("adsr",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,r,i,s]=t;return e.set({attack:n,decay:r,sustain:i,release:s})}),L1=L("ad",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,r=n]=t;return e.attack(n).decay(r)}),G1=L("ds",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,r=0]=t;return e.set({decay:n,sustain:r})}),O1=L("ar",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,r=n]=t;return e.set({attack:n,release:r})}),$y=Object.freeze(Object.defineProperty({__proto__:null,accelerate:qc,activeLabel:v0,ad:L1,adsr:R1,amp:Kc,analyze:al,anchor:j0,ar:O1,att:Uc,attack:Yc,bandf:gl,bandq:yl,bank:ul,begin:vl,binshift:Up,bp:Cl,bpa:ah,bpattack:uh,bpd:mh,bpdecay:ph,bpe:eh,bpenv:th,bpf:Al,bpq:Dl,bpr:Fh,bprelease:Eh,bps:yh,bpsustain:Ch,ccn:e1,ccv:n1,ch:Sl,channel:ql,channels:Il,chord:H0,clip:C1,coarse:wl,color:T1,colour:V1,comb:Xp,compressor:pp,compressorAttack:fp,compressorKnee:mp,compressorRatio:dp,compressorRelease:gp,control:t1,cps:A1,createParam:Wi,createParams:Iu,crush:Bl,ctf:Xl,ctlNum:u1,ctranspose:F0,curve:M1,cut:Zl,cutoff:jl,dec:ll,decay:cl,degree:M0,delay:zh,delayfb:qh,delayfeedback:Hh,delayt:Xh,delaytime:jh,deltaSlide:E1,density:Jy,det:Jh,detune:Uh,dfb:Zh,dict:Z0,dictionary:q0,dist:hp,distort:lp,djf:Wh,drive:xl,dry:t0,ds:G1,dt:Kh,dur:v1,duration:D1,end:bl,enhance:Zp,expression:bp,fadeInTime:r0,fadeOutTime:n0,fadeTime:e0,fanchor:_h,fft:ol,fm:Qc,fmattack:el,fmdecay:nl,fmenv:tl,fmh:Jc,fmi:$c,fmrelease:il,fmsustain:rl,fmvelocity:sl,frameRate:a1,frames:o1,freeze:Op,freq:i0,fshift:Bp,fshiftnote:wp,fshiftphase:xp,ftype:Ph,gain:jc,gat:A0,gate:g0,harmonic:P0,hbrick:Jp,hcutoff:Nh,hold:fl,hours:c1,hp:Vh,hpa:sh,hpattack:ih,hpd:hh,hpdecay:lh,hpe:Ql,hpenv:$l,hpf:Th,hpq:Lh,hpr:Mh,hprelease:bh,hps:Ah,hpsustain:gh,hresonance:Rh,imag:qp,ir:rp,iresponse:ip,kcutoff:kp,krush:Sp,label:b0,lbrick:$p,legato:y1,leslie:C0,lfo:_1,lock:Yh,loop:Ml,loopBegin:El,loopEnd:Pl,loopb:Fl,loope:_l,lp:Yl,lpa:rh,lpattack:nh,lpd:ch,lpdecay:oh,lpe:Jl,lpenv:Ul,lpf:Kl,lpq:Oh,lpr:vh,lprelease:Dh,lps:fh,lpsustain:dh,lrate:y0,lsize:D0,midibend:i1,midichan:Qp,midicmd:l1,miditouch:s1,minutes:h1,mode:Y0,mtranspose:E0,n:Hc,noise:Ih,note:Nt,nudge:w0,octave:x0,octaveR:B0,octaves:K0,octer:Np,octersub:Tp,octersubsub:Vp,offset:X0,orbit:I0,overgain:S0,overshape:k0,pan:N0,panchor:f0,panorient:L0,panspan:T0,pansplay:V0,panwidth:R0,partials:jp,patt:u0,pattack:s0,pcurve:d0,pdec:o0,pdecay:a0,penv:m0,ph:Vl,phasdp:Hl,phaser:Tl,phasercenter:Gl,phaserdepth:Wl,phaserrate:kl,phasersweep:Rl,phasr:Nl,phc:Ol,phd:zl,phs:Ll,pitchJump:F1,pitchJumpTime:P1,polyTouch:r1,postgain:Xc,prel:p0,prelease:h0,progNum:p1,psus:l0,psustain:c0,rate:G0,rdim:tp,real:Hp,registerControl:x,rel:dl,release:ml,repeatTime:B1,resonance:Gh,rfade:np,ring:Rp,ringdf:Gp,ringf:Lp,rlp:$0,room:U0,roomdim:Q0,roomfade:ep,roomlp:J0,roomsize:sp,rsize:op,s:Oc,scram:Yp,seconds:m1,semitone:W0,shape:cp,size:up,slide:O0,smear:Kp,songPtr:d1,sound:Lr,source:Wc,speed:Ap,spread:Qh,squiz:yp,src:zc,stepsPerOctave:_0,sus:pl,sustain:hl,sustainpedal:Mp,sz:ap,tremdp:Fp,tremolo:k1,tremolodepth:Ep,tremolorate:Pp,tremr:_p,triode:Ip,tsdelay:zp,uid:f1,unison:$h,unit:Cp,v:xh,val:g1,velocity:Zc,vib:Bh,vibmod:Sh,vibrato:wh,vmod:kh,voice:z0,vowel:Dp,waveloss:vp,xsdelay:Wp,zcrush:I1,zdelay:S1,zmod:x1,znoise:w1,zrand:b1,zzfx:N1},Symbol.toStringTag,{value:"Module"})),Qy=function(t,e){const[n,r]=t,[i,s]=e,[u,a]=Du(r,i);return[[r,n-r],[vu((c,h)=>c.concat(h),u,s),a]]},tD=function(t,e){const[n,r]=t,[i,s]=e,[u,a]=Du(n,s);return[[n,r-n],[vu((c,h)=>c.concat(h),i,u),a]]},W1=function(t,e){const[n,r]=t;return Math.min(n,r)<=1?[t,e]:W1(...n>r?Qy(t,e):tD(t,e))},z1=function(t,e){const n=t<0;t=Math.abs(t);const r=e-t,i=Array(t).fill([1]),s=Array(r).fill([0]),u=W1([t,r],[i,s]),a=an(u[1][0]).concat(an(u[1][1]));return n?a.map(c=>c===0?1:0):a},Su=function(t,e,n){const r=z1(t,e);return n?Ac(r,-n):r},eD=L("euclid",function(t,e,n){return n.struct(Su(t,e,0))}),{euclidrot:nD,euclidRot:rD}=L(["euclidrot","euclidRot"],function(t,e,n,r){return r.struct(Su(t,e,n))}),H1=function(t,e,n,r){if(t<1)return Bt;const i=Su(t,e,n).join("").split("1").slice(1).map(s=>[s.length+1,!0]);return r.struct(xu(...i))},iD=L(["euclidLegato"],function(t,e,n){return H1(t,e,0,n)}),sD=L(["euclidLegatoRot"],function(t,e,n,r){return H1(t,e,n,r)});function q1(t,e,n=.05,r=.1,i=.1,s=globalThis.setInterval,u=globalThis.clearInterval,a=!0){let c=0,h=0,m=10**4,p=.01;const d=B=>n=B(n);i=i||r/2;const g=()=>{const B=t(),S=B+r+i;for(h===0&&(h=B+p);h<S;)h=a?Math.round(h*m)/m:h,e(h,n,c,B),h+=n,c++};let M;const v=()=>{P(),g(),M=s(g,r*1e3)},P=()=>{M!==void 0&&u(M),M=void 0};return{setDuration:d,start:v,stop:()=>{c=0,h=0,P()},pause:()=>P(),duration:n,interval:r,getPhase:()=>h,minLatency:p}}function uD(t){return new nt(e=>[new Ht(void 0,e.span,t)])}const He=t=>{const e=n=>[new Ht(void 0,n.span,t(n.span.midpoint()))];return new nt(e)},ku=He(t=>1-t%1),Z1=ku.toBipolar(),zi=He(t=>t%1),j1=zi.toBipolar(),Nu=He(t=>Math.sin(Math.PI*2*t)),X1=Nu.fromBipolar(),aD=X1._early(K(1).div(4)),oD=Nu._early(K(1).div(4)),K1=He(t=>Math.floor(t*2%2)),cD=K1.toBipolar(),lD=Se(ku,zi),hD=Se(Z1,j1),Y1=He(er);let Tu=0,Vu=0;typeof window<"u"&&document.addEventListener("mousemove",t=>{Tu=t.clientY/document.body.clientHeight,Vu=t.clientX/document.body.clientWidth});const pD=He(()=>Tu),mD=He(()=>Tu),dD=He(()=>Vu),fD=He(()=>Vu),gD=t=>{const e=t<<13^t,n=e>>17^e;return n<<5^n},AD=t=>t-Math.trunc(t),CD=t=>gD(Math.trunc(AD(t/300)*536870912)),yD=t=>t%536870912/536870912,Ys=t=>Math.abs(yD(CD(t))),DD=t=>zi.range(0,t).floor().segment(t),pe=He(Ys),vD=pe.toBipolar(),Ru=t=>pe.fmap(e=>e<t),bD=t=>$(t).fmap(Ru).innerJoin(),MD=Ru(.5),U1=t=>pe.fmap(e=>Math.trunc(e*t)),ED=t=>$(t).fmap(U1).innerJoin(),Ke=function(t,e,n=!0){const r=Array.isArray(t),i=Object.keys(t).length;return t=Ec(t,$),i===0?Bt:e.fmap(s=>{let u=s;return r&&(u=n?Math.round(u)%i:bu(Math.round(u),0,t.length-1)),t[u]})},J1=function(t,e){return Array.isArray(e)&&([e,t]=[t,e]),FD(t,e)},FD=L("pick",function(t,e){return Ke(t,e,!1).innerJoin()}),$1=L("pickmod",function(t,e){return Ke(t,e,!0).innerJoin()}),PD=L("pickF",function(t,e,n){return n.apply(J1(t,e))}),_D=L("pickmodF",function(t,e,n){return n.apply($1(t,e))}),BD=L("pickOut",function(t,e){return Ke(t,e,!1).outerJoin()}),wD=L("pickmodOut",function(t,e){return Ke(t,e,!0).outerJoin()}),xD=L("pickRestart",function(t,e){return Ke(t,e,!1).restartJoin()}),ID=L("pickmodRestart",function(t,e){return Ke(t,e,!0).restartJoin()}),SD=L("pickReset",function(t,e){return Ke(t,e,!1).resetJoin()}),kD=L("pickmodReset",function(t,e){return Ke(t,e,!0).resetJoin()}),{inhabit:ND,pickSqueeze:TD}=L(["inhabit","pickSqueeze"],function(t,e){return Ke(t,e,!1).squeezeJoin()}),{inhabitmod:VD,pickmodSqueeze:RD}=L(["inhabitmod","pickmodSqueeze"],function(t,e){return Ke(t,e,!0).squeezeJoin()}),LD=(t,e)=>(e=e.map($),e.length==0?Bt:t.fmap(n=>{const r=we(Math.round(n),e.length);return e[r]}).squeezeJoin()),Lu=(t,e)=>(e=e.map($),e.length==0?Bt:t.range(0,e.length).fmap(n=>{const r=Math.min(Math.max(Math.floor(n),0),e.length-1);return e[r]})),Hi=(t,e)=>Lu(t,e).outerJoin(),Gu=(t,e)=>Lu(t,e).innerJoin(),GD=(...t)=>Hi(pe,t);nt.prototype.choose=function(...t){return Hi(this,t)};nt.prototype.choose2=function(...t){return Hi(this.fromBipolar(),t)};const Q1=(...t)=>Gu(pe.segment(1),t),OD=Q1,tm=function(t,...e){const n=e.map(a=>$(a[0])),r=[];let i=0;for(const a of e)i+=a[1],r.push(i);const s=i,u=function(a){const c=a*s;return n[r.findIndex(h=>h>c,r)]};return t.fmap(u)},WD=(...t)=>tm(...t).outerJoin(),zD=(...t)=>WD(pe,...t),em=(...t)=>tm(pe.segment(1),...t).innerJoin(),HD=em,nm=t=>{const e=t.fmap(Math.floor),n=t.fmap(s=>Math.floor(s)+1),r=s=>6*s**5-15*s**4+10*s**3,i=s=>u=>a=>u+r(s)*(a-u);return t.sub(e).fmap(i).appBoth(e.fmap(Ys)).appBoth(n.fmap(Ys))},qD=nm(Y1.fmap(t=>Number(t))),ZD=L("degradeByWith",(t,e,n)=>n.fmap(r=>i=>r).appLeft(t.filterValues(r=>r>e))),jD=L("degradeBy",function(t,e){return e._degradeByWith(pe,t)}),XD=L("degrade",t=>t._degradeBy(.5)),KD=L("undegradeBy",function(t,e){return e._degradeByWith(pe.fmap(n=>1-n),t)}),YD=L("undegrade",t=>t._undegradeBy(.5)),UD=L("sometimesBy",function(t,e,n){return $(t).fmap(r=>Vt(n._degradeBy(r),e(n._undegradeBy(1-r)))).innerJoin()}),JD=L("sometimes",function(t,e){return e._sometimesBy(.5,t)}),$D=L("someCyclesBy",function(t,e,n){return $(t).fmap(r=>Vt(n._degradeByWith(pe._segment(1),r),e(n._degradeByWith(pe.fmap(i=>1-i)._segment(1),1-r)))).innerJoin()}),QD=L("someCycles",function(t,e){return e._someCyclesBy(.5,t)}),t3=L("often",function(t,e){return e.sometimesBy(.75,t)}),e3=L("rarely",function(t,e){return e.sometimesBy(.25,t)}),n3=L("almostNever",function(t,e){return e.sometimesBy(.1,t)}),r3=L("almostAlways",function(t,e){return e.sometimesBy(.9,t)}),i3=L("never",function(t,e){return e}),s3=L("always",function(t,e){return t(e)});let ir;try{ir=window==null?void 0:window.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let eo=ir==null?void 0:ir.getVoices();function u3(t,e,n){ir.cancel();const r=new SpeechSynthesisUtterance(t);r.lang=e,eo=ir.getVoices();const i=eo.filter(s=>s.lang.includes(e));typeof n=="number"?r.voice=i[n%i.length]:typeof n=="string"&&(r.voice=i.find(s=>s.name===s)),speechSynthesis.speak(r)}const a3=L("speak",function(t,e,n){return n.onTrigger((r,i)=>{u3(i.value,t,e)})}),Ii=async(...t)=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="fulfilled").map(r=>r.value);return e.forEach((r,i)=>{r.status==="rejected"&&console.warn(`evalScope: module with index ${i} could not be loaded:`,r.reason)}),n.forEach(r=>{Object.entries(r).forEach(([i,s])=>{globalThis[i]=s})}),n};function o3(t,e={}){const{wrapExpression:n=!0,wrapAsync:r=!0}=e;n&&(t=`{${t}}`),r&&(t=`(async ()=>${t})()`);const i=`"use strict";return (${t})`;return Function(i)()}const rm=async(t,e)=>{let n={};if(e){const r=e(t);t=r.output,n=r}return{mode:"javascript",pattern:await o3(t,{wrapExpression:!!e}),meta:n}};class c3{constructor({onTrigger:e,onToggle:n,getTime:r}){this.started=!1,this.cps=.5,this.lastTick=0,this.getTime=r,this.time_at_last_tick_message=0,this.num_cycles_at_cps_change=0,this.onToggle=n,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker_time_dif,this.worker=new SharedWorker(new URL(""+new URL("clockworker--4w5RvGG-DTVdoFfR.js",import.meta.url).href,import.meta.url)),this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");let i=0;const s=20,u=10**3,a=(m,p,d)=>{const g=r()-(m+p)+d;if(this.worker_time_dif==null)this.worker_time_dif=g;else{const M=Math.round((this.worker_time_dif*i+g*1)/(i+1)*u)/u;M!=this.worker_time_dif&&(i=4),this.worker_time_dif=M}i=Math.min(i+1,s)},c=m=>{const{num_cycles_at_cps_change:p,cps:d,num_seconds_at_cps_change:g,num_seconds_since_cps_change:M,begin:v,end:P,tickdeadline:B,cycle:S}=m;this.cps=d,this.cycle=S,a(g,M,B),h(v,P,p,g),this.time_at_last_tick_message=this.getTime()},h=(m,p,d,g)=>{this.started!==!1&&this.pattern.queryArc(m,p,{_cps:this.cps}).forEach(M=>{if(M.hasOnset()){const v=(M.whole.begin-d)/this.cps+g+this.latency+this.worker_time_dif,P=M.duration/this.cps;e==null||e(M,0,P,this.cps,v)}})};this.channel.onmessage=m=>{if(!this.started)return;const{payload:p,type:d}=m.data;switch(d){case"tick":c(p)}}}sendMessage(e,n){this.worker.port.postMessage({type:e,payload:n,id:this.id})}now(){const e=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+e}setCps(e=1){this.sendMessage("cpschange",{cps:e})}setCycle(e){this.sendMessage("setcycle",{cycle:e})}setStarted(e){var n;this.sendMessage("toggle",{started:e}),this.started=e,(n=this.onToggle)==null||n.call(this,e)}start(){Kt("[cyclist] start"),this.setStarted(!0)}stop(){this.worker_time_dif=null,Kt("[cyclist] stop"),this.setStarted(!1)}setPattern(e,n=!1){this.pattern=e,n&&!this.started&&this.start()}log(e,n,r){const i=r.filter(s=>s.hasOnset());console.log(`${e.toFixed(4)} - ${n.toFixed(4)} ${Array(i.length).fill("I").join("")}`)}}class im{constructor({interval:e,onTrigger:n,onToggle:r,onError:i,getTime:s,latency:u=.1,setInterval:a,clearInterval:c}){this.started=!1,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=s,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=r,this.latency=u,this.clock=q1(s,(h,m,p,d)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=h),this.num_ticks_since_cps_change++;const g=this.num_ticks_since_cps_change*m*this.cps;try{const M=this.lastEnd;this.lastBegin=M;const v=this.num_cycles_at_cps_change+g;if(this.lastEnd=v,this.lastTick=h,h<d){console.log("skip query: too late");return}this.pattern.queryArc(M,v,{_cps:this.cps}).forEach(P=>{if(P.hasOnset()){const B=(P.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+u,S=P.duration/this.cps,O=B-h;n==null||n(P,O,S,this.cps,B)}})}catch(M){Kt(`[cyclist] error: ${M.message}`),i==null||i(M)}},e,.1,.1,a,c)}now(){if(!this.started)return 0;const e=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+e*this.cps}setStarted(e){var n;this.started=e,(n=this.onToggle)==null||n.call(this,e)}start(){if(this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");Kt("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){Kt("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){Kt("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}setPattern(e,n=!1){this.pattern=e,n&&!this.started&&this.start()}setCps(e=.5){this.cps!==e&&(this.cps=e,this.num_ticks_since_cps_change=0)}log(e,n,r){const i=r.filter(s=>s.hasOnset());console.log(`${e.toFixed(4)} - ${n.toFixed(4)} ${Array(i.length).fill("I").join("")}`)}}let Us;function Js(){if(!Us)throw new Error("no time set! use setTime to define a time source");return Us()}function Ou(t){Us=t}function l3({defaultOutput:t,onEvalError:e,beforeEval:n,afterEval:r,getTime:i,transpiler:s,onToggle:u,editPattern:a,onUpdateState:c,sync:h=!1,setInterval:m,clearInterval:p}){const d={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},g=q=>{Object.assign(d,q),d.isDirty=d.code!==d.activeCode,d.error=d.evalError||d.schedulerError,c==null||c(d)},M={onTrigger:sm({defaultOutput:t,getTime:i}),getTime:i,onToggle:q=>{g({started:q}),u==null||u(q)},setInterval:m,clearInterval:p},v=h&&typeof SharedWorker<"u"?new c3(M):new im(M);let P={},B=0,S;const O=function(){return P={},B=0,S=void 0,Bt},w=(q,X=!0)=>{q=(a==null?void 0:a(q))||q,v.setPattern(q,X)};Ou(()=>v.now());const _=()=>v.stop(),k=()=>v.start(),I=()=>v.pause(),T=()=>v.toggle(),H=q=>v.setCps(q),G=q=>v.setCps(q/60),Z=function(q){return S=q,Bt},W=()=>{nt.prototype.p=function(X){return X.startsWith("_")||X.endsWith("_")?Bt:(X==="$"&&(X=`$${B}`,B++),P[X]=this,this)},nt.prototype.q=function(X){return Bt};try{for(let X=1;X<10;++X)Object.defineProperty(nt.prototype,`d${X}`,{get(){return this.p(X)},configurable:!0}),Object.defineProperty(nt.prototype,`p${X}`,{get(){return this.p(X)},configurable:!0}),nt.prototype[`q${X}`]=Bt}catch(X){console.warn("injectPatternMethods: error:",X)}const q=L("cpm",function(X,ht){return ht._fast(X/60/v.cps)});return Ii({all:Z,hush:O,cpm:q,setCps:H,setcps:H,setCpm:G,setcpm:G})};return{scheduler:v,evaluate:async(q,X=!0,ht=!0)=>{if(!q)throw new Error("no code to evaluate");try{g({code:q,pending:!0}),await W(),await(n==null?void 0:n({code:q})),ht&&O();let{pattern:tt,meta:at}=await rm(q,s);if(Object.keys(P).length&&(tt=Vt(...Object.values(P))),S&&(tt=S(tt)),!Mu(tt)){const ot=`got "${typeof evaluated}" instead of pattern`;throw new Error(ot+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return Kt("[eval] code updated"),w(tt,X),g({miniLocations:(at==null?void 0:at.miniLocations)||[],widgets:(at==null?void 0:at.widgets)||[],activeCode:q,pattern:tt,evalError:void 0,schedulerError:void 0,pending:!1}),r==null||r({code:q,pattern:tt,meta:at}),tt}catch(tt){Kt(`[eval] error: ${tt.message}`,"error"),console.error(tt),g({evalError:tt,pending:!1}),e==null||e(tt)}},start:k,stop:_,pause:I,setCps:H,setPattern:w,setCode:q=>g({code:q}),toggle:T,state:d}}const sm=({getTime:t,defaultOutput:e})=>async(n,r,i,s,u)=>{try{(!n.context.onTrigger||!n.context.dominantTrigger)&&await e(n,r,i,s,u),n.context.onTrigger&&await n.context.onTrigger(t()+r,n,t(),s,u)}catch(a){Kt(`[cyclist] error: ${a.message}`,"error")}},h3=function(t,e={}){const n=document.getElementById("code"),r="background-image:url("+t+");background-size:contain;";n.style=r;const{className:i}=n,s=(a,c)=>{({style:()=>n.style=r+";"+c,className:()=>n.className=c+" "+i})[a]()},u=Object.entries(e).filter(([a,c])=>typeof c=="function");Object.entries(e).filter(([a,c])=>typeof c=="string").forEach(([a,c])=>s(a,c)),u.length},p3=()=>{const t=document.getElementById("code");t&&(t.style="")};Kt("🌀 @strudel/core loaded 🌀");globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel/core".`);globalThis._strudelLoaded=!0;const um=Object.freeze(Object.defineProperty({__proto__:null,Cyclist:im,Fraction:K,Hap:Ht,Pattern:nt,State:cr,TimeSpan:Xt,__chooseWith:Lu,_brandBy:Ru,_fitslice:Nc,_irand:U1,_match:Tc,_mod:we,_polymeterListSteps:Bu,_retime:Xs,_slices:Ks,accelerate:qc,activeLabel:v0,ad:L1,add:YC,adsr:R1,almostAlways:r3,almostNever:n3,always:s3,amp:Kc,analyze:al,anchor:j0,and:d2,apply:q2,ar:O1,arrange:xc,att:Uc,attack:Yc,backgroundImage:h3,band:e2,bandf:gl,bandq:yl,bank:ul,base64ToUnicode:Mc,begin:vl,binshift:Up,bjork:z1,blshift:i2,bor:n2,bp:Cl,bpa:ah,bpattack:uh,bpd:mh,bpdecay:ph,bpe:eh,bpenv:th,bpf:Al,bpq:Dl,bpr:Fh,bprelease:Eh,bps:yh,bpsustain:Ch,brak:iy,brand:MD,brandBy:bD,brshift:s2,bxor:r2,bypass:By,calculateTactus:TC,cat:nr,ccn:e1,ccv:n1,ceil:y2,ch:Sl,channel:ql,channels:Il,choose:GD,chooseCycles:Q1,chooseInWith:Gu,chooseWith:Hi,chop:zy,chord:H0,chunk:vy,chunkBack:Ey,chunkback:Fy,clamp:bu,cleanupUi:p3,clip:C1,coarse:wl,code2hash:IC,color:T1,colour:V1,comb:Xp,compose:yC,compress:P2,compressSpan:_2,compressor:pp,compressorAttack:fp,compressorKnee:mp,compressorRatio:dp,compressorRelease:gp,compressspan:B2,constant:DC,control:t1,controls:$y,cosine:aD,cosine2:oD,cpm:Z2,cps:A1,createClock:q1,createParam:Wi,createParams:Iu,crush:Bl,ctf:Xl,ctlNum:u1,ctranspose:F0,curry:bt,curve:M1,cut:Zl,cutoff:jl,dec:ll,decay:cl,degrade:XD,degradeBy:jD,degradeByWith:ZD,degree:M0,delay:zh,delayfb:qh,delayfeedback:Hh,delayt:Xh,delaytime:jh,deltaSlide:E1,det:Jh,detune:Uh,dfb:Zh,dict:Z0,dictionary:q0,dist:hp,distort:lp,div:$C,djf:Wh,drawLine:Fc,drive:xl,dry:t0,ds:G1,dt:Kh,dur:v1,duration:D1,early:j2,echo:fy,echoWith:hy,echowith:py,end:bl,enhance:Zp,eq:l2,eqt:h2,euclid:eD,euclidLegato:iD,euclidLegatoRot:sD,euclidRot:rD,euclidrot:nD,evalScope:Ii,evaluate:rm,every:H2,expression:bp,fadeInTime:r0,fadeOutTime:n0,fadeTime:e0,fanchor:_h,fast:T2,fastChunk:_y,fastGap:w2,fastcat:Se,fastchunk:Py,fastgap:x2,fft:ol,firstOf:z2,fit:Xy,flatten:an,floor:C2,fm:Qc,fmattack:el,fmdecay:nl,fmenv:tl,fmh:Jc,fmi:$c,fmrelease:il,fmsustain:rl,fmvelocity:sl,focus:I2,focusSpan:S2,focusspan:k2,fractionalArgs:vC,frameRate:a1,frames:o1,freeze:Op,freq:i0,freqToMidi:gu,fromBipolar:v2,fshift:Bp,fshiftnote:wp,fshiftphase:xp,ftype:Ph,func:g2,gain:jc,gap:gr,gat:A0,gate:g0,getEventOffsetMs:dC,getFreq:dc,getFrequency:gc,getPlayableNoteValue:CC,getSoundIndex:AC,getTime:Js,getTrigger:sm,gt:a2,gte:c2,harmonic:P0,hash2code:SC,hbrick:Jp,hcutoff:Nh,hold:fl,hours:c1,hp:Vh,hpa:sh,hpattack:ih,hpd:hh,hpdecay:lh,hpe:Ql,hpenv:$l,hpf:Th,hpq:Lh,hpr:Mh,hprelease:bh,hps:Ah,hpsustain:gh,hresonance:Rh,hsl:Iy,hsla:xy,hurry:V2,id:er,imag:qp,inhabit:ND,inhabitmod:VD,inside:G2,inv:ey,invert:ty,ir:rp,irand:ED,iresponse:ip,isNote:qn,isNoteWithOctave:lC,isPattern:Mu,isaw:ku,isaw2:Z1,iter:Ay,iterBack:Cy,iterback:yy,jux:ly,juxBy:oy,juxby:cy,kcutoff:kp,keep:XC,keepif:KC,krush:Sp,label:b0,lastOf:W2,late:Sc,lbrick:$p,legato:y1,leslie:C0,lfo:_1,linger:U2,listRange:Au,lock:Yh,logKey:fu,logger:Kt,loop:Ml,loopAt:Zy,loopAtCps:Ky,loopBegin:El,loopEnd:Pl,loopat:jy,loopatcps:Yy,loopb:Fl,loope:_l,lp:Yl,lpa:rh,lpattack:nh,lpd:ch,lpdecay:oh,lpe:Jl,lpenv:Ul,lpf:Kl,lpq:Oh,lpr:vh,lprelease:Dh,lps:fh,lpsustain:dh,lrate:y0,lsize:D0,lt:u2,lte:o2,mapArgs:yu,mask:HC,midi2note:gC,midiToFreq:or,midibend:i1,midichan:Qp,midicmd:l1,miditouch:s1,minutes:h1,mod:QC,mode:Y0,mouseX:fD,mouseY:mD,mousex:dD,mousey:pD,mtranspose:E0,mul:JC,n:Hc,nanFallback:fc,ne:p2,net:m2,never:i3,noise:Ih,note:Nt,noteToMidi:In,nothing:je,nudge:w0,numeralArgs:Ee,objectMap:Ec,octave:x0,octaveR:B0,octaves:K0,octer:Np,octersub:Tp,octersubsub:Vp,off:ry,offset:X0,often:t3,or:f2,orbit:I0,outside:O2,overgain:S0,overshape:k0,pairs:Dc,palindrome:ay,pan:N0,panchor:f0,panorient:L0,panspan:T0,pansplay:V0,panwidth:R0,parseFractional:yc,parseNumeral:Cu,partials:jp,patt:u0,pattack:s0,pcurve:d0,pdec:o0,pdecay:a0,penv:m0,perlin:qD,perlinWith:nm,ph:Vl,phasdp:Hl,phaser:Tl,phasercenter:Gl,phaserdepth:Wl,phaserrate:kl,phasersweep:Rl,phasr:Nl,phc:Ol,phd:zl,phs:Ll,pick:J1,pickF:PD,pickOut:BD,pickReset:SD,pickRestart:xD,pickSqueeze:TD,pickmod:$1,pickmodF:_D,pickmodOut:wD,pickmodReset:kD,pickmodRestart:ID,pickmodSqueeze:RD,pipe:Cc,pitchJump:F1,pitchJumpTime:P1,ply:N2,pm:WC,polyTouch:r1,polyrhythm:GC,postgain:Xc,pow:t2,pr:OC,prel:p0,prelease:h0,press:uy,pressBy:sy,progNum:p1,psus:l0,psustain:c0,pure:ie,rand:pe,rand2:vD,randcat:OD,range:b2,range2:E2,rangex:M2,rarely:e3,rate:G0,ratio:F2,rdim:tp,real:Hp,ref:Uy,register:L,registerControl:x,reify:$,rel:dl,release:ml,removeUndefineds:fr,repeatCycles:Dy,repeatTime:B1,repl:l3,resonance:Gh,rev:kc,rfade:np,ribbon:wy,ring:Rp,ringdf:Gp,ringf:Lp,rlp:$0,room:U0,roomdim:Q0,roomfade:ep,roomlp:J0,roomsize:sp,rotate:Ac,round:A2,rsize:op,run:DD,s:Oc,s_add:Ty,s_alt:Ny,s_cat:Ie,s_contract:Ly,s_expand:Ry,s_polymeter:wu,s_polymeterSteps:Vc,s_sub:Vy,s_taper:Oy,s_taperlist:Gy,s_tour:Wy,saw:zi,saw2:j1,scram:Yp,seconds:m1,segment:J2,semitone:W0,seq:Ic,sequence:xe,set:jC,setStringParser:Pc,setTime:Ou,shape:cp,signal:He,silence:Bt,sine:X1,sine2:Nu,size:up,slice:Lc,slide:O0,slow:R2,slowChunk:My,slowcat:Zn,slowcatPrime:Fu,slowchunk:by,smear:Kp,sol2note:BC,someCycles:QD,someCyclesBy:$D,sometimes:JD,sometimesBy:UD,songPtr:d1,sound:Lr,source:Wc,sparsity:L2,speak:a3,speed:Ap,splice:qy,splitAt:Du,spread:Qh,square:K1,square2:cD,squeeze:LD,squiz:yp,src:zc,stack:Vt,stackBy:zC,stackCentre:wc,stackLeft:_c,stackRight:Bc,steady:uD,steps:Sy,stepsPerOctave:_0,striate:Hy,struct:qC,stut:gy,stutWith:my,stutwith:dy,sub:UC,superimpose:ZC,sus:pl,sustain:hl,sustainpedal:Mp,swing:Q2,swingBy:$2,sz:ap,time:Y1,timeCat:xu,timecat:ky,toBipolar:D2,tokenizeNote:mc,tremdp:Fp,tremolo:k1,tremolodepth:Ep,tremolorate:Pp,tremr:_p,tri:lD,tri2:hD,triode:Ip,tsdelay:zp,uid:f1,undegrade:YD,undegradeBy:KD,unicodeToBase64:bc,uniq:wC,uniqsort:xC,uniqsortr:vc,unison:$h,unit:Cp,v:xh,val:g1,valueToMidi:mC,velocity:Zc,vib:Bh,vibmod:Sh,vibrato:wh,vmod:kh,voice:z0,vowel:Dp,waveloss:vp,wchoose:zD,wchooseCycles:em,when:ny,wrandcat:HD,xfade:Gc,xsdelay:Wp,zcrush:I1,zdelay:S1,zipWith:vu,zmod:x1,znoise:w1,zoom:X2,zoomArc:K2,zoomarc:Y2,zrand:b1,zzfx:N1},Symbol.toStringTag,{value:"Module"}));if(typeof DelayNode<"u"){class t extends DelayNode{constructor(n,r,i,s){super(n),r=Math.abs(r),this.delayTime.value=i;const u=n.createGain();u.gain.value=Math.min(Math.abs(s),.995),this.feedback=u.gain;const a=n.createGain();return a.gain.value=r,this.delayGain=a,this.connect(u),this.connect(a),u.connect(this),this.connect=c=>a.connect(c),this}start(n){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,n+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(e,n,r){return new t(this,e,n,r)}}var Wu={};Wu.generateReverb=function(t,e){for(var n=t.audioContext||new AudioContext,r=n.sampleRate,i=t.numChannels||2,s=t.decayTime*1.5,u=Math.round(t.decayTime*r),a=Math.round(s*r),c=Math.round((t.fadeInTime||0)*r),h=Math.pow(1/1e3,1/u),m=n.createBuffer(i,a,r),p=0;p<i;p++){for(var d=m.getChannelData(p),g=0;g<a;g++)d[g]=f3()*Math.pow(h,g);for(var g=0;g<c;g++)d[g]*=g/c}m3(m,t.lpFreqStart||0,t.lpFreqEnd||0,t.decayTime,e)};Wu.generateGraph=function(t,e,n,r,i){var s=document.createElement("canvas");s.width=e,s.height=n;var u=s.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,s.width,s.height),u.fillStyle="#fff";for(var a=e/t.length,c=n/(i-r),h=0;h<t.length;h++)u.fillRect(h*a,n-(t[h]-r)*c,1,1);return s};var m3=function(t,e,n,r,i){if(e==0){i(t);return}var s=d3(t),u=new OfflineAudioContext(t.numberOfChannels,s[0].length,t.sampleRate),a=u.createBufferSource();a.buffer=t;var c=u.createBiquadFilter();e=Math.min(e,t.sampleRate/2),n=Math.min(n,t.sampleRate/2),c.type="lowpass",c.Q.value=1e-4,c.frequency.setValueAtTime(e,0),c.frequency.linearRampToValueAtTime(n,r),a.connect(c),c.connect(u.destination),a.start(),u.oncomplete=function(h){i(h.renderedBuffer)},u.startRendering(),window.filterNode=c},d3=function(t){for(var e=[],n=0;n<t.numberOfChannels;n++)e[n]=t.getChannelData(n);return e},f3=function(){return Math.random()*2-1};typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(t,e){const n=e.sampleRate*t,r=this.createBuffer(e.numberOfChannels,e.length,e.sampleRate);for(let i=0;i<e.numberOfChannels;i++){let s=e.getChannelData(i),u=r.getChannelData(i);for(let a=0;a<n;a++)u[a]=s[a]||0}return r},AudioContext.prototype.createReverb=function(t,e,n,r,i){const s=this.createConvolver();return s.generate=(u=2,a=.1,c=15e3,h=1e3,m)=>{s.duration=u,s.fade=a,s.lp=c,s.dim=h,s.ir=m,m?s.buffer=this.adjustLength(u,m):Wu.generateReverb({audioContext:this,numChannels:2,decayTime:u,fadeInTime:a,lpFreqStart:c,lpFreqEnd:h},p=>{s.buffer=p})},s.generate(t,e,n,r,i),s});var no={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class t extends GainNode{constructor(n,r){if(super(n),!no[r])throw new Error("vowel: unknown vowel "+r);const{gains:i,qs:s,freqs:u}=no[r],a=n.createGain();for(let c=0;c<5;c++){const h=n.createGain();h.gain.value=i[c];const m=n.createBiquadFilter();m.type="bandpass",m.Q.value=s[c],m.frequency.value=u[c],this.connect(m),m.connect(h),h.connect(a)}return a.gain.value=8,this.connect=c=>a.connect(c),this}}AudioContext.prototype.createVowelFilter=function(e){return new t(this,e)}}let am=t=>console.log(t);const Oe=(...t)=>am(...t),om=t=>{am=t},g3=t=>{var i;if(typeof t!="string")return[];const[e,n="",r]=((i=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/))==null?void 0:i.slice(1))||[];return e?[e,n,r?Number(r):void 0]:[]},A3={c:0,d:2,e:4,f:5,g:7,a:9,b:11},C3={"#":1,b:-1,s:1,f:-1},qi=(t,e=3)=>{const[n,r,i=e]=g3(t);if(!n)throw new Error('not a note: "'+t+'"');const s=A3[n.toLowerCase()],u=(r==null?void 0:r.split("").reduce((a,c)=>a+C3[c],0))||0;return(Number(i)+1)*12+s+u},cm=t=>Math.pow(2,(t-69)/12)*440,lr=(t,e,n)=>Math.min(Math.max(t,e),n),y3=t=>12*Math.log(t/440)/Math.LN2+69,D3=(t,e)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:r}=t;return typeof n=="number"?y3(n):typeof r=="string"?qi(r):typeof r=="number"?r:e};function cn(t,e=0,n){return isNaN(Number(t))?(!n&&Oe(`"${t}" is not a number, falling back to ${e}`,"warning"),e):t}const lm=(t,e)=>(t%e+e)%e,ro=(t,e)=>lm(Math.round(cn(t,0)),e),v3="data:application/javascript;base64,Ly8gY29hcnNlLCBjcnVzaCwgYW5kIHNoYXBlIHByb2Nlc3NvcnMgYWRhcHRlZCBmcm9tIGRrdHIwJ3Mgd2ViZGlydDogaHR0cHM6Ly9naXRodWIuY29tL2RrdHIwL1dlYkRpcnQvYmxvYi81Y2UzZDY5ODM2MmM1NGQ2ZTFiNjhhY2M0N2ViMjk1NWFjNjJjNzkzL2Rpc3QvQXVkaW9Xb3JrbGV0cy5qcwovLyBMSUNFTlNFIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ka3RyMC9XZWJEaXJ0L2Jsb2IvbWFpbi9MSUNFTlNFCi8vIFRPRklYOiBUSElTIEZJTEUgRE9FUyBOT1QgU1VQUE9SVCBJTVBPUlRTIE9OIERFUE9MWU1FTlQKY29uc3QgY2xhbXAgPSAobnVtLCBtaW4sIG1heCkgPT4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpOwpjb25zdCBfbW9kID0gKG4sIG0pID0+ICgobiAlIG0pICsgbSkgJSBtOwoKY29uc3QgYmxvY2tTaXplID0gMTI4OwovLyBhZGp1c3Qgd2F2ZXNoYXBlIHRvIHJlbW92ZSBmcmVxdWVuY2llcyBhYm92ZSBueXF1aXN0IHRvIHByZXZlbnQgYWxpYXNpbmcKLy8gcmVmZXJlbmNlZCBmcm9tIGh0dHBzOi8vd3d3Lmt2cmF1ZGlvLmNvbS9mb3J1bS92aWV3dG9waWMucGhwP3Q9Mzc1NTE3CmZ1bmN0aW9uIHBvbHlCbGVwKHBoYXNlLCBkdCkgewogIC8vIDAgPD0gcGhhc2UgPCAxCiAgaWYgKHBoYXNlIDwgZHQpIHsKICAgIHBoYXNlIC89IGR0OwogICAgLy8gMiAqIChwaGFzZSAtIHBoYXNlXjIvMiAtIDAuNSkKICAgIHJldHVybiBwaGFzZSArIHBoYXNlIC0gcGhhc2UgKiBwaGFzZSAtIDE7CiAgfQoKICAvLyAtMSA8IHBoYXNlIDwgMAogIGVsc2UgaWYgKHBoYXNlID4gMSAtIGR0KSB7CiAgICBwaGFzZSA9IChwaGFzZSAtIDEpIC8gZHQ7CiAgICAvLyAyICogKHBoYXNlXjIvMiArIHBoYXNlICsgMC41KQogICAgcmV0dXJuIHBoYXNlICogcGhhc2UgKyBwaGFzZSArIHBoYXNlICsgMTsKICB9CgogIC8vIDAgb3RoZXJ3aXNlCiAgZWxzZSB7CiAgICByZXR1cm4gMDsKICB9Cn0KCmNvbnN0IHdhdmVzaGFwZXMgPSB7CiAgdHJpKHBoYXNlLCBza2V3ID0gMC41KSB7CiAgICBjb25zdCB4ID0gMSAtIHNrZXc7CiAgICBpZiAocGhhc2UgPj0gc2tldykgewogICAgICByZXR1cm4gMSAvIHggLSBwaGFzZSAvIHg7CiAgICB9CiAgICByZXR1cm4gcGhhc2UgLyBza2V3OwogIH0sCiAgc2luZShwaGFzZSkgewogICAgcmV0dXJuIE1hdGguc2luKE1hdGguUEkgKiAyICogcGhhc2UpICogMC41ICsgMC41OwogIH0sCiAgcmFtcChwaGFzZSkgewogICAgcmV0dXJuIHBoYXNlOwogIH0sCiAgc2F3KHBoYXNlKSB7CiAgICByZXR1cm4gMSAtIHBoYXNlOwogIH0sCgogIHNxdWFyZShwaGFzZSwgc2tldyA9IDAuNSkgewogICAgaWYgKHBoYXNlID49IHNrZXcpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICByZXR1cm4gMTsKICB9LAogIGN1c3RvbShwaGFzZSwgdmFsdWVzID0gWzAsIDFdKSB7CiAgICBjb25zdCBudW1QYXJ0cyA9IHZhbHVlcy5sZW5ndGggLSAxOwogICAgY29uc3QgY3VyclBhcnQgPSBNYXRoLmZsb29yKHBoYXNlICogbnVtUGFydHMpOwoKICAgIGNvbnN0IHBhcnRMZW5ndGggPSAxIC8gbnVtUGFydHM7CiAgICBjb25zdCBzdGFydFZhbCA9IGNsYW1wKHZhbHVlc1tjdXJyUGFydF0sIDAsIDEpOwogICAgY29uc3QgZW5kVmFsID0gY2xhbXAodmFsdWVzW2N1cnJQYXJ0ICsgMV0sIDAsIDEpOwogICAgY29uc3QgeTIgPSBlbmRWYWw7CiAgICBjb25zdCB5MSA9IHN0YXJ0VmFsOwogICAgY29uc3QgeDEgPSAwOwogICAgY29uc3QgeDIgPSBwYXJ0TGVuZ3RoOwogICAgY29uc3Qgc2xvcGUgPSAoeTIgLSB5MSkgLyAoeDIgLSB4MSk7CiAgICByZXR1cm4gc2xvcGUgKiAocGhhc2UgLSBwYXJ0TGVuZ3RoICogY3VyclBhcnQpICsgc3RhcnRWYWw7CiAgfSwKICBzYXdibGVwKHBoYXNlLCBkdCkgewogICAgY29uc3QgdiA9IDIgKiBwaGFzZSAtIDE7CiAgICByZXR1cm4gdiAtIHBvbHlCbGVwKHBoYXNlLCBkdCk7CiAgfSwKfTsKCmNvbnN0IHdhdmVTaGFwZU5hbWVzID0gT2JqZWN0LmtleXMod2F2ZXNoYXBlcyk7CmNsYXNzIExGT1Byb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsgbmFtZTogJ3RpbWUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAnZW5kJywgZGVmYXVsdFZhbHVlOiAwIH0sCiAgICAgIHsgbmFtZTogJ2ZyZXF1ZW5jeScsIGRlZmF1bHRWYWx1ZTogMC41IH0sCiAgICAgIHsgbmFtZTogJ3NrZXcnLCBkZWZhdWx0VmFsdWU6IDAuNSB9LAogICAgICB7IG5hbWU6ICdkZXB0aCcsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdwaGFzZW9mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdzaGFwZScsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdkY29mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2U7CiAgfQoKICBpbmNyZW1lbnRQaGFzZShkdCkgewogICAgdGhpcy5waGFzZSArPSBkdDsKICAgIGlmICh0aGlzLnBoYXNlID4gMS4wKSB7CiAgICAgIHRoaXMucGhhc2UgPSB0aGlzLnBoYXNlIC0gMTsKICAgIH0KICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbWV0ZXJzLmVuZFswXSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKICAgIGNvbnN0IGZyZXF1ZW5jeSA9IHBhcmFtZXRlcnNbJ2ZyZXF1ZW5jeSddWzBdOwoKICAgIGNvbnN0IHRpbWUgPSBwYXJhbWV0ZXJzWyd0aW1lJ11bMF07CiAgICBjb25zdCBkZXB0aCA9IHBhcmFtZXRlcnNbJ2RlcHRoJ11bMF07CiAgICBjb25zdCBza2V3ID0gcGFyYW1ldGVyc1snc2tldyddWzBdOwogICAgY29uc3QgcGhhc2VvZmZzZXQgPSBwYXJhbWV0ZXJzWydwaGFzZW9mZnNldCddWzBdOwoKICAgIGNvbnN0IGRjb2Zmc2V0ID0gcGFyYW1ldGVyc1snZGNvZmZzZXQnXVswXTsKICAgIGNvbnN0IHNoYXBlID0gd2F2ZVNoYXBlTmFtZXNbcGFyYW1ldGVyc1snc2hhcGUnXVswXV07CgogICAgY29uc3QgYmxvY2tTaXplID0gb3V0cHV0WzBdLmxlbmd0aCA/PyAwOwoKICAgIGlmICh0aGlzLnBoYXNlID09IG51bGwpIHsKICAgICAgdGhpcy5waGFzZSA9IF9tb2QodGltZSAqIGZyZXF1ZW5jeSArIHBoYXNlb2Zmc2V0LCAxKTsKICAgIH0KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgY29uc3QgZHQgPSBmcmVxdWVuY3kgLyBzYW1wbGVSYXRlOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG1vZHZhbCA9ICh3YXZlc2hhcGVzW3NoYXBlXSh0aGlzLnBoYXNlLCBza2V3KSArIGRjb2Zmc2V0KSAqIGRlcHRoOwogICAgICAgIG91dHB1dFtpXVtuXSA9IG1vZHZhbDsKICAgICAgfQogICAgICB0aGlzLmluY3JlbWVudFBoYXNlKGR0KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2xmby1wcm9jZXNzb3InLCBMRk9Qcm9jZXNzb3IpOwoKY2xhc3MgQ29hcnNlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjb2Fyc2UnLCBkZWZhdWx0VmFsdWU6IDEgfV07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IGNvYXJzZSA9IHBhcmFtZXRlcnMuY29hcnNlWzBdID8/IDA7CiAgICBjb2Fyc2UgPSBNYXRoLm1heCgxLCBjb2Fyc2UpOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gbiAlIGNvYXJzZSA9PT0gMCA/IGlucHV0W2ldW25dIDogb3V0cHV0W2ldW24gLSAxXTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQp9CnJlZ2lzdGVyUHJvY2Vzc29yKCdjb2Fyc2UtcHJvY2Vzc29yJywgQ29hcnNlUHJvY2Vzc29yKTsKCmNsYXNzIENydXNoUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjcnVzaCcsIGRlZmF1bHRWYWx1ZTogMCB9XTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBsZXQgY3J1c2ggPSBwYXJhbWV0ZXJzLmNydXNoWzBdID8/IDg7CiAgICBjcnVzaCA9IE1hdGgubWF4KDEsIGNydXNoKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5wb3coMiwgY3J1c2ggLSAxKTsKICAgICAgICBvdXRwdXRbaV1bbl0gPSBNYXRoLnJvdW5kKGlucHV0W2ldW25dICogeCkgLyB4OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2NydXNoLXByb2Nlc3NvcicsIENydXNoUHJvY2Vzc29yKTsKCmNsYXNzIFNoYXBlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnc2hhcGUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAncG9zdGdhaW4nLCBkZWZhdWx0VmFsdWU6IDEgfSwKICAgIF07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IHNoYXBlID0gcGFyYW1ldGVycy5zaGFwZVswXTsKICAgIHNoYXBlID0gc2hhcGUgPCAxID8gc2hhcGUgOiAxLjAgLSA0ZS0xMDsKICAgIHNoYXBlID0gKDIuMCAqIHNoYXBlKSAvICgxLjAgLSBzaGFwZSk7CiAgICBjb25zdCBwb3N0Z2FpbiA9IE1hdGgubWF4KDAuMDAxLCBNYXRoLm1pbigxLCBwYXJhbWV0ZXJzLnBvc3RnYWluWzBdKSk7CgogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gKCgoMSArIHNoYXBlKSAqIGlucHV0W2ldW25dKSAvICgxICsgc2hhcGUgKiBNYXRoLmFicyhpbnB1dFtpXVtuXSkpKSAqIHBvc3RnYWluOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ3NoYXBlLXByb2Nlc3NvcicsIFNoYXBlUHJvY2Vzc29yKTsKCmZ1bmN0aW9uIGZhc3RfdGFuaCh4KSB7CiAgY29uc3QgeDIgPSB4ICogeDsKICByZXR1cm4gKHggKiAoMjcuMCArIHgyKSkgLyAoMjcuMCArIDkuMCAqIHgyKTsKfQpjb25zdCBfUEkgPSAzLjE0MTU5MjY1MzU5OwovL2FkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vVGhlQm91dGVpbGxhY0JlYXIvd2ViYXVkaW93b3JrbGV0LXdhc20/dGFiPU1JVC0xLW92LWZpbGUKY2xhc3MgTGFkZGVyUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZnJlcXVlbmN5JywgZGVmYXVsdFZhbHVlOiA1MDAgfSwKICAgICAgeyBuYW1lOiAncScsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdkcml2ZScsIGRlZmF1bHRWYWx1ZTogMC42OSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogICAgdGhpcy5wMCA9IFswLCAwXTsKICAgIHRoaXMucDEgPSBbMCwgMF07CiAgICB0aGlzLnAyID0gWzAsIDBdOwogICAgdGhpcy5wMyA9IFswLCAwXTsKICAgIHRoaXMucDMyID0gWzAsIDBdOwogICAgdGhpcy5wMzMgPSBbMCwgMF07CiAgICB0aGlzLnAzNCA9IFswLCAwXTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHRoaXMuc3RhcnRlZCA9IGhhc0lucHV0OwoKICAgIGNvbnN0IHJlc29uYW5jZSA9IHBhcmFtZXRlcnMucVswXTsKICAgIGNvbnN0IGRyaXZlID0gY2xhbXAoTWF0aC5leHAocGFyYW1ldGVycy5kcml2ZVswXSksIDAuMSwgMjAwMCk7CgogICAgbGV0IGN1dG9mZiA9IHBhcmFtZXRlcnMuZnJlcXVlbmN5WzBdOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICBjdXRvZmYgPSAoY3V0b2ZmICogMiAqIF9QSSkgLyBzYW1wbGVSYXRlOwogICAgY3V0b2ZmID0gY3V0b2ZmID4gMSA/IDEgOiBjdXRvZmY7CgogICAgY29uc3QgayA9IE1hdGgubWluKDgsIHJlc29uYW5jZSAqIDAuNCk7CiAgICAvLyAgICAgICAgICAgICAgIGRyaXZlIG1ha2V1cCAgKiByZXNvbmFuY2Ugdm9sdW1lIGxvc3MgbWFrZXVwCiAgICBsZXQgbWFrZXVwZ2FpbiA9ICgxIC8gZHJpdmUpICogTWF0aC5taW4oMS43NSwgMSArIGspOwoKICAgIGZvciAobGV0IG4gPSAwOyBuIDwgYmxvY2tTaXplOyBuKyspIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG91dCA9IHRoaXMucDNbaV0gKiAwLjM2MDg5MSArIHRoaXMucDMyW2ldICogMC40MTcyOSArIHRoaXMucDMzW2ldICogMC4xNzc4OTYgKyB0aGlzLnAzNFtpXSAqIDAuMDQzOTcyNTsKCiAgICAgICAgdGhpcy5wMzRbaV0gPSB0aGlzLnAzM1tpXTsKICAgICAgICB0aGlzLnAzM1tpXSA9IHRoaXMucDMyW2ldOwogICAgICAgIHRoaXMucDMyW2ldID0gdGhpcy5wM1tpXTsKCiAgICAgICAgdGhpcy5wMFtpXSArPSAoZmFzdF90YW5oKGlucHV0W2ldW25dICogZHJpdmUgLSBrICogb3V0KSAtIGZhc3RfdGFuaCh0aGlzLnAwW2ldKSkgKiBjdXRvZmY7CiAgICAgICAgdGhpcy5wMVtpXSArPSAoZmFzdF90YW5oKHRoaXMucDBbaV0pIC0gZmFzdF90YW5oKHRoaXMucDFbaV0pKSAqIGN1dG9mZjsKICAgICAgICB0aGlzLnAyW2ldICs9IChmYXN0X3RhbmgodGhpcy5wMVtpXSkgLSBmYXN0X3RhbmgodGhpcy5wMltpXSkpICogY3V0b2ZmOwogICAgICAgIHRoaXMucDNbaV0gKz0gKGZhc3RfdGFuaCh0aGlzLnAyW2ldKSAtIGZhc3RfdGFuaCh0aGlzLnAzW2ldKSkgKiBjdXRvZmY7CgogICAgICAgIG91dHB1dFtpXVtuXSA9IG91dCAqIG1ha2V1cGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignbGFkZGVyLXByb2Nlc3NvcicsIExhZGRlclByb2Nlc3Nvcik7CgpjbGFzcyBEaXN0b3J0UHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZGlzdG9ydCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdwb3N0Z2FpbicsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBjb25zdCBzaGFwZSA9IE1hdGguZXhwbTEocGFyYW1ldGVycy5kaXN0b3J0WzBdKTsKICAgIGNvbnN0IHBvc3RnYWluID0gTWF0aC5tYXgoMC4wMDEsIE1hdGgubWluKDEsIHBhcmFtZXRlcnMucG9zdGdhaW5bMF0pKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBvdXRwdXRbaV1bbl0gPSAoKCgxICsgc2hhcGUpICogaW5wdXRbaV1bbl0pIC8gKDEgKyBzaGFwZSAqIE1hdGguYWJzKGlucHV0W2ldW25dKSkpICogcG9zdGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignZGlzdG9ydC1wcm9jZXNzb3InLCBEaXN0b3J0UHJvY2Vzc29yKTsKCi8vIFNVUEVSU0FXCmZ1bmN0aW9uIGxlcnAoYSwgYiwgbikgewogIHJldHVybiBuICogKGIgLSBhKSArIGE7Cn0KCmZ1bmN0aW9uIGdldFVuaXNvbkRldHVuZSh1bmlzb24sIGRldHVuZSwgdm9pY2VJbmRleCkgewogIGlmICh1bmlzb24gPCAyKSB7CiAgICByZXR1cm4gMDsKICB9CiAgcmV0dXJuIGxlcnAoLWRldHVuZSAqIDAuNSwgZGV0dW5lICogMC41LCB2b2ljZUluZGV4IC8gKHVuaXNvbiAtIDEpKTsKfQpjbGFzcyBTdXBlclNhd09zY2lsbGF0b3JQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2UgPSBbXTsKICB9CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsKICAgICAgICBuYW1lOiAnYmVnaW4nLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMCwKICAgICAgICBtYXg6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwKICAgICAgICBtaW46IDAsCiAgICAgIH0sCgogICAgICB7CiAgICAgICAgbmFtZTogJ2VuZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1heDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXVlbmN5JywKICAgICAgICBkZWZhdWx0VmFsdWU6IDQ0MCwKICAgICAgICBtaW46IE51bWJlci5FUFNJTE9OLAogICAgICB9LAoKICAgICAgewogICAgICAgIG5hbWU6ICdwYW5zcHJlYWQnLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMC40LAogICAgICAgIG1pbjogMCwKICAgICAgICBtYXg6IDEsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXNwcmVhZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLjIsCiAgICAgICAgbWluOiAwLAogICAgICB9LAogICAgICB7CiAgICAgICAgbmFtZTogJ2RldHVuZScsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAndm9pY2VzJywKICAgICAgICBkZWZhdWx0VmFsdWU6IDUsCiAgICAgICAgbWluOiAxLAogICAgICB9LAogICAgXTsKICB9CiAgcHJvY2VzcyhpbnB1dCwgb3V0cHV0cywgcGFyYW1zKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA8PSBwYXJhbXMuYmVnaW5bMF0pIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbXMuZW5kWzBdKSB7CiAgICAgIC8vIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IHR5cGU6ICdvbmVuZGVkJyB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgbGV0IGZyZXF1ZW5jeSA9IHBhcmFtcy5mcmVxdWVuY3lbMF07CiAgICAvL2FwcGx5IGRldHVuZSBpbiBjZW50cwogICAgZnJlcXVlbmN5ID0gZnJlcXVlbmN5ICogTWF0aC5wb3coMiwgcGFyYW1zLmRldHVuZVswXSAvIDEyMDApOwoKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCB2b2ljZXMgPSBwYXJhbXMudm9pY2VzWzBdOwogICAgY29uc3QgZnJlcXNwcmVhZCA9IHBhcmFtcy5mcmVxc3ByZWFkWzBdOwogICAgY29uc3QgcGFuc3ByZWFkID0gcGFyYW1zLnBhbnNwcmVhZFswXSAqIDAuNSArIDAuNTsKICAgIGNvbnN0IGdhaW4xID0gTWF0aC5zcXJ0KDEgLSBwYW5zcHJlYWQpOwogICAgY29uc3QgZ2FpbjIgPSBNYXRoLnNxcnQocGFuc3ByZWFkKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHZvaWNlczsgbisrKSB7CiAgICAgIGNvbnN0IGlzT2RkID0gKG4gJiAxKSA9PSAxOwoKICAgICAgLy9hcHBsaWVzIHVuaXNvbiAic3ByZWFkIiBkZXR1bmUgaW4gc2VtaXRvbmVzCiAgICAgIGNvbnN0IGZyZXEgPSBmcmVxdWVuY3kgKiBNYXRoLnBvdygyLCBnZXRVbmlzb25EZXR1bmUodm9pY2VzLCBmcmVxc3ByZWFkLCBuKSAvIDEyKTsKICAgICAgbGV0IGdhaW5MID0gZ2FpbjE7CiAgICAgIGxldCBnYWluUiA9IGdhaW4yOwogICAgICAvLyBpbnZlcnQgcmlnaHQgYW5kIGxlZnQgZ2FpbgogICAgICBpZiAoaXNPZGQpIHsKICAgICAgICBnYWluTCA9IGdhaW4yOwogICAgICAgIGdhaW5SID0gZ2FpbjE7CiAgICAgIH0KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIGNvbnN0IGR0ID0gZnJlcSAvIHNhbXBsZVJhdGU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dFswXS5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMucGhhc2Vbbl0gPSB0aGlzLnBoYXNlW25dID8/IE1hdGgucmFuZG9tKCk7CiAgICAgICAgY29uc3QgdiA9IHdhdmVzaGFwZXMuc2F3YmxlcCh0aGlzLnBoYXNlW25dLCBkdCk7CgogICAgICAgIG91dHB1dFswXVtpXSA9IG91dHB1dFswXVtpXSArIHYgKiBnYWluTDsKICAgICAgICBvdXRwdXRbMV1baV0gPSBvdXRwdXRbMV1baV0gKyB2ICogZ2FpblI7CgogICAgICAgIHRoaXMucGhhc2Vbbl0gKz0gZHQ7CgogICAgICAgIGlmICh0aGlzLnBoYXNlW25dID4gMS4wKSB7CiAgICAgICAgICB0aGlzLnBoYXNlW25dID0gdGhpcy5waGFzZVtuXSAtIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCnJlZ2lzdGVyUHJvY2Vzc29yKCdzdXBlcnNhdy1vc2NpbGxhdG9yJywgU3VwZXJTYXdPc2NpbGxhdG9yUHJvY2Vzc29yKTsK";function bn(t){const e=Pt().createGain();return e.gain.value=t,e}const io=(t,e,n,r)=>r-n===0?0:(e-t)/(r-n);function En(t,e,n,r){const i=new AudioWorkletNode(t,e,r);return Object.entries(n).forEach(([s,u])=>{i.parameters.get(s).value=u}),i}const Pn=(t,e,n,r,i,s,u,a,c,h="exponential")=>{e=cn(e),n=cn(n),r=cn(r),i=cn(i);const m=h==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";h==="exponential"&&(s=s===0?.001:s,u=u===0?.001:u);const p=u-s,d=u,g=s+r*p,M=c-a,v=P=>{let B;if(e>P){let S=io(s,d,0,e);B=P*S+(s>d?s:0)}else B=(P-e)*io(d,g,0,n)+d;return h==="exponential"&&(B=B||.001),B};t.setValueAtTime(s,a),e>M?t[m](v(M),c):e+n>M?(t[m](v(e),a+e),t[m](v(M),c)):(t[m](v(e),a+e),t[m](v(e+n),a+e+n),t.setValueAtTime(g,c)),t[m](s,c+i)};function hm(t,e,n,r,i,s){const u={threshold:e??-3,ratio:n??10,knee:r??10,attack:i??.005,release:s??.05};return new DynamicsCompressorNode(t,u)}const _n=(t,e="linear",n)=>{const[r,i,s,u]=t;if(r==null&&i==null&&s==null&&u==null)return n??[.001,.001,1,.01];const a=s??(r!=null&&i==null||r==null&&i==null?1:.001);return[Math.max(r??0,.001),Math.max(i??0,.001),Math.min(a,1),Math.max(u??0,.01)]};function Ei(t,e,n,r,i,s,u,a,c,h,m,p,d,g){const M="exponential",[v,P,B,S]=_n([i,s,u,a],M,[.005,.14,0,.1]);let O,w;if(d==="ladder"?(O=En(t,"ladder-processor",{frequency:n,q:r,drive:g}),w=O.parameters.get("frequency")):(O=t.createBiquadFilter(),O.type=e,O.Q.value=r,O.frequency.value=n,w=O.frequency),(i??s??u??a??c)!==void 0){c=cn(c,1,!0),p=cn(p,0,!0);const _=Math.abs(c),k=_*p;let I=lr(2**-k*n,0,2e4),T=lr(2**(_-k)*n,0,2e4);return c<0&&([I,T]=[T,I]),Pn(w,v,P,B,S,I,T,h,m,M),O}return O}let so=t=>t<.5?1:1-(t-.5)/.5;function pm(t,e,n=0){const r=Pt();if(!n)return t;let i=r.createGain(),s=r.createGain();t.connect(i),e.connect(s),i.gain.value=so(n),s.gain.value=so(1-n);let u=r.createGain();return i.connect(u),s.connect(u),u}let b3=["linear","exponential"];function Zi(t,e,n,r){if(!(e.pattack??e.pdecay??e.psustain??e.prelease??e.penv))return;const i=cn(e.penv,1,!0),s=b3[e.pcurve??0];let[u,a,c,h]=_n([e.pattack,e.pdecay,e.psustain,e.prelease],s,[.2,.001,1,.001]),m=e.panchor??c;const p=i*100,d=0-p*m,g=p-p*m;Pn(t,u,a,c,h,d,g,n,r,s)}function ji(t,e,n){const{vibmod:r=.5,vib:i}=e;let s;if(i>0){s=Pt().createOscillator(),s.frequency.value=i;const u=Pt().createGain();return u.gain.value=r*100,s.connect(u),u.connect(t),s.start(n),s}}function mm(t,e,n,r){const i=t.createConstantSource();i.start(n),i.stop(r),i.onended=()=>{e()}}const M3=(t,e=1,n="sine")=>{const r=Pt(),i=r.createOscillator();i.type=n,i.frequency.value=t,i.start();const s=new GainNode(r,{gain:e});return i.connect(s),{node:s,stop:u=>i.stop(u)}},E3=(t,e,n,r="sine")=>{const i=t.value*e,s=i*n;return M3(i,s,r)};function zu(t,e,n){const{fmh:r=1,fmi:i,fmenv:s="exp",fmattack:u,fmdecay:a,fmsustain:c,fmrelease:h,fmvelocity:m,fmwave:p="sine",duration:d}=e;let g,M=()=>{};if(i){const v=Pt().createGain(),P=E3(t,r,i,p);if(g=P.node,M=P.stop,![u,a,c,h,m].find(B=>B!==void 0))g.connect(t);else{const[B,S,O,w]=_n([u,a,c,h]),_=n+d;Pn(v.gain,B,S,O,w,0,1,n,_,s==="exp"?"exponential":"linear"),g.connect(v),v.connect(t)}}return{stop:M}}let re=[],F3=(t,e)=>{let n=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},l:0,lc:0,listen(i,s){return r.lc=n.push(i,s||r.l)/2,()=>{let u=n.indexOf(i);~u&&(n.splice(u,2),--r.lc||r.off())}},notify(i){let s=!re.length;for(let u=0;u<n.length;u+=2)re.push(n[u],n[u+1],r.value,i);if(s){for(let u=0;u<re.length;u+=4){let a;for(let c=u+1;!a&&(c+=4)<re.length;)re[c]<re[u+1]&&(a=re.push(re[u],re[u+1],re[u+2],re[u+3]));a||re[u](re[u+2],re[u+3])}re.length=0}},off(){},set(i){r.value!==i&&(r.value=i,r.notify())},subscribe(i,s){let u=r.listen(i,s);return i(r.value),u},value:t};return r},P3=(t={})=>{let e=F3(t);return e.setKey=function(n,r){typeof r>"u"?n in e.value&&(e.value={...e.value},delete e.value[n],e.notify(n)):e.value[n]!==r&&(e.value={...e.value,[n]:r},e.notify(n))},e};const Hu={},Ms={},_3=t=>Hu[t];function B3(t,e){var n=1024;if(t<n)return t+" B";var r=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1;do t/=n,++i;while(t>=n);return t.toFixed(1)+" "+r[i]}const dm=async(t,e,n,r,i,s,u)=>{let a=0;i!==void 0&&n!==void 0&&Oe("[sampler] hap has note and freq. ignoring note","warning");let c=D3({freq:i,note:n},36);a=c-36;const h=Pt();let m,p=0;if(Array.isArray(s))p=ro(e,s.length),m=s[p];else{const v=B=>qi(B)-c,P=Object.keys(s).filter(B=>!B.startsWith("_")).reduce((B,S,O)=>!B||Math.abs(v(S))<Math.abs(v(B))?S:B,null);a=-v(P),p=ro(e,s[P].length),m=s[P][p]}u&&(m=await u(m));let d=await qu(m,h,t,p);r<0&&(d=fm(d));const g=h.createBufferSource();g.buffer=d;const M=1*Math.pow(2,a/12);return g.playbackRate.value=M,g},qu=(t,e,n,r=0)=>{const i=n?`sound "${n}:${r}"`:"sample";if(t=t.replace("#","%23"),!Ms[t]){Oe(`[sampler] load ${i}..`,"load-sample",{url:t});const s=Date.now();Ms[t]=fetch(t).then(u=>u.arrayBuffer()).then(async u=>{const a=Date.now()-s,c=B3(u.byteLength);Oe(`[sampler] load ${i}... done! loaded ${c} in ${a}ms`,"loaded-sample",{url:t});const h=await e.decodeAudioData(u);return Hu[t]=h,h})}return Ms[t]};function fm(t){const e=Pt(),n=e.createBuffer(t.numberOfChannels,t.length,e.sampleRate);for(let r=0;r<t.numberOfChannels;r++)n.copyToChannel(t.getChannelData(r).slice().reverse(),r,r);return n}const w3=t=>Hu[t];function gm(t){if(t.startsWith("bubo:")){const[e,n]=t.split(":");t=`github:Bubobubobubobubo/dough-${n}`}return t}function Am(t,e=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,r]=t.split("github:");return r=r.endsWith("/")?r.slice(0,-1):r,r.split("/").length===2&&(r+="/main"),`https://raw.githubusercontent.com/${r}/${e}`}const Cm=(t,e,n=t._base||"")=>Object.entries(t).forEach(([r,i])=>{if(typeof i=="string"&&(i=[i]),typeof i!="object")throw new Error("wrong sample map format for "+r);n=i._base||n,n=gm(n),n.startsWith("github:")&&(n=Am(n,""));const s=u=>n+u;Array.isArray(i)?i=i.map(s):i=Object.fromEntries(Object.entries(i).map(([u,a])=>[u,(typeof a=="string"?[a]:a).map(s)])),e(r,i)});let ym={};function x3(t,e){ym[t]=e}function I3(t){const e=Object.entries(ym).find(([n])=>t.startsWith(n));if(e)return e[1]}const Si=async(t,e=t._base||"",n={})=>{if(typeof t=="string"){const s=I3(t);if(s)return s(t);if(t=gm(t),t.startsWith("github:")&&(t=Am(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[a,c]=t.split("shabda:");t=`https://shabda.ndre.gr/${c}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[a,c]=t.split("shabda/speech");c=c.startsWith("/")?c.substring(1):c;let[h,m]=c.split(":"),p="f",d="en-GB";h&&([d,p]=h.split("/")),t=`https://shabda.ndre.gr/speech/${m}.json?gender=${p}&language=${d}&strudel=1'`}if(typeof fetch!="function")return;const u=t.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(t).then(a=>a.json()).then(a=>Si(a,e||a._base||u,n)).catch(a=>{throw console.error(a),new Error(`error loading "${t}"`)})}const{prebake:r,tag:i}=n;Cm(t,(s,u)=>sr(s,(a,c,h)=>Dm(a,c,h,u),{type:"sample",samples:u,baseUrl:e,prebake:r,tag:i}),e)},uo=[];async function Dm(t,e,n,r,i){let{s,freq:u,unit:a,nudge:c=0,cut:h,loop:m,clip:p=void 0,n:d=0,note:g,speed:M=1,loopBegin:v=0,begin:P=0,loopEnd:B=1,end:S=1,duration:O}=e;if(M===0)return;m=s.startsWith("wt_")?1:e.loop;const w=Pt();let[_,k,I,T]=_n([e.attack,e.decay,e.sustain,e.release]);const H=t+c,G=await dm(s,d,g,M,u,r,i);let Z=ji(G.detune,e,t);if(w.currentTime>t){Oe(`[sampler] still loading sound "${s}:${d}"`,"highlight");return}if(!G){Oe(`[sampler] could not load "${s}:${d}"`,"error");return}G.playbackRate.value=Math.abs(M)*G.playbackRate.value,a==="c"&&(G.playbackRate.value=G.playbackRate.value*G.buffer.duration*1);const W=P*G.buffer.duration;m&&(G.loop=!0,G.loopStart=v*G.buffer.duration-W,G.loopEnd=B*G.buffer.duration-W),G.start(H,W);const q=w.createGain(),X=G.connect(q);if(p==null&&m==null&&e.release==null){const Mt=G.buffer.duration/G.playbackRate.value;O=(S-P)*Mt}let ht=t+O;Pn(X.gain,_,k,I,T,0,1,t,ht,"linear"),Zi(G.detune,e,t,ht);const tt=w.createGain();X.connect(tt),G.onended=function(){G.disconnect(),Z==null||Z.stop(),X.disconnect(),tt.disconnect(),n()};let at=ht+T+.01;G.stop(at);const ot={node:tt,bufferSource:G,stop:(Mt,ae)=>{}};if(h!==void 0){const Mt=uo[h];Mt&&(Mt.node.gain.setValueAtTime(1,H),Mt.node.gain.linearRampToValueAtTime(0,H+.01)),uo[h]=ot}return ot}const Xi=P3();function sr(t,e,n={}){Xi.setKey(t,{onTrigger:e,data:n})}function Fi(t){return Xi.get()[t]}const vm={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,delay:0,delayfeedback:.5,delaytime:.25,orbit:1,i:1,velocity:1,fft:8};let Zu=new Map(Object.entries(vm));function ju(t,e){Zu.set(t,e)}function Zt(t){return Zu.get(t)}function S3(t){Object.keys(t).forEach(e=>{ju(e,t[e])})}function bm(){Zu=new Map(Object.entries(vm))}function k3(t){bm(),t==="1.0"&&ju("fanchor",.5)}const N3=()=>Xi.set({});let $s;const Mm=()=>($s=new AudioContext,$s),Pt=()=>$s||Mm();let Es;function T3(){return Es||(Es=Pt().audioWorklet.addModule(v3)),Es}async function Em(t={}){const{disableWorklets:e=!1}=t;if(!(typeof window>"u")){if(await Pt().resume(),e){Oe("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await T3(),Oe("[superdough] AudioWorklets loaded")}catch(n){console.warn("could not load AudioWorklet effects",n)}Oe("[superdough] ready")}}let Fs;async function Fm(t){return Fs||(Fs=new Promise(e=>{document.addEventListener("click",async function n(){document.removeEventListener("click",n),await Em(t),e()})})),Fs}let Dn={},ki,ur;function Pm(){const t=Pt(),e=t.destination.maxChannelCount;t.destination.channelCount=e,ki=new ChannelMergerNode(t,{numberOfInputs:t.destination.channelCount}),ur=new GainNode(t),ki.connect(ur),ur.connect(t.destination)}const Ki=(t,e=[0,1])=>{const n=Pt();ki==null&&Pm();const r=new StereoPannerNode(n);t.connect(r);const i=new ChannelSplitterNode(n,{numberOfOutputs:r.channelCount});r.connect(i),e.forEach((s,u)=>{i.connect(ki,u%r.channelCount,lr(s,0,n.destination.channelCount-1))})},V3=()=>{ur!=null&&(ur.gain.linearRampToValueAtTime(0,Pt().currentTime+.01),ur=null)};function R3(t,e,n,r){var i;if(n=lr(n,0,.98),!Dn[t]){const s=Pt().createFeedbackDelay(1,e,n);(i=s.start)==null||i.call(s,r),Ki(s,[0,1]),Dn[t]=s}return Dn[t].delayTime.value!==e&&Dn[t].delayTime.setValueAtTime(e,r),Dn[t].feedback.value!==n&&Dn[t].feedback.setValueAtTime(n,r),Dn[t]}function L3(t,e,n=1,r=.5,i=1e3,s=2e3){const u=Pt(),a=u.createGain();a.gain.value=s*2,En(u,"lfo-processor",{frequency:n,depth:1,skew:0,phaseoffset:0,time:t,end:e,shape:1,dcoffset:-.5}).connect(a);const c=2;let h=0;const m=[];for(let p=0;p<c;p++){const d=u.createBiquadFilter();d.type="notch",d.gain.value=1,d.frequency.value=i+h,d.Q.value=2-Math.min(Math.max(r*2,0),1.9),a.connect(d.detune),h+=282,p>0&&m[p-1].connect(d),m.push(d)}return m[m.length-1]}function G3(t){t=t??0;const e=["12db","ladder","24db"];return typeof t=="number"?e[Math.floor(lm(t,e.length))]:t}let Ze={},gi=(t,e)=>t!==void 0&&t!==e;function O3(t,e,n,r,i,s){if(!Ze[t]){const u=Pt().createReverb(e,n,r,i,s);Ki(u,[0,1]),Ze[t]=u}return(gi(e,Ze[t].duration)||gi(n,Ze[t].fade)||gi(r,Ze[t].lp)||gi(i,Ze[t].dim)||Ze[t].ir!==s)&&Ze[t].generate(e,n,r,i,s),Ze[t]}let he={},Rn={};function _m(t,e=1024){if(!he[t]){const n=Pt().createAnalyser();n.fftSize=e,he[t]=n,Rn[t]=new Float32Array(he[t].frequencyBinCount)}return he[t].fftSize!==e&&(he[t].fftSize=e,Rn[t]=new Float32Array(he[t].frequencyBinCount)),he[t]}function Xu(t="time",e=1){const n={time:()=>{var r;return(r=he[e])==null?void 0:r.getFloatTimeDomainData(Rn[e])},frequency:()=>{var r;return(r=he[e])==null?void 0:r.getFloatFrequencyData(Rn[e])}}[t];if(!n)throw new Error(`getAnalyzerData: ${t} not supported. use one of ${Object.keys(n).join(", ")}`);return n(),Rn[e]}function Ps(t,e,n){const r=bn(n);return t.connect(r),r.connect(e),r}function W3(){Dn={},Ze={},he={},Rn={}}const Yi=async(t,e,n)=>{const r=Pt();if(typeof t!="object")throw new Error(`expected hap.value to be an object, but got "${t}". Hint: append .note() or .s() to the end`,"error");if(t.duration=n,e=typeof e=="string"&&e.startsWith("=")?Number(e.slice(1)):r.currentTime+e,e<r.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${e.toFixed(2)}, now: ${r.currentTime.toFixed(2)})`);return}let{s:i=Zt("s"),bank:s,source:u,gain:a=Zt("gain"),postgain:c=Zt("postgain"),density:h=Zt("density"),fanchor:m=Zt("fanchor"),drive:p=.69,cutoff:d,lpenv:g,lpattack:M,lpdecay:v,lpsustain:P,lprelease:B,resonance:S=Zt("resonance"),hpenv:O,hcutoff:w,hpattack:_,hpdecay:k,hpsustain:I,hprelease:T,hresonance:H=Zt("hresonance"),bpenv:G,bandf:Z,bpattack:W,bpdecay:q,bpsustain:X,bprelease:ht,bandq:tt=Zt("bandq"),channels:at=Zt("channels"),phaser:ot,phaserdepth:Mt=Zt("phaserdepth"),phasersweep:ae,phasercenter:Qt,coarse:j,crush:te,shape:ne,shapevol:ge=Zt("shapevol"),distort:Et,distortvol:Ut=Zt("distortvol"),pan:yt,vowel:Wt,delay:me=Zt("delay"),delayfeedback:de=Zt("delayfeedback"),delaytime:xt=Zt("delaytime"),orbit:dn=Zt("orbit"),room:It,roomfade:fn,roomlp:Ae,roomdim:Ve,roomsize:Je,ir:$e,i:Qe=Zt("i"),velocity:gn=Zt("velocity"),analyze:tn,fft:Re=Zt("fft"),compressor:Ce,compressorRatio:ft,compressorKnee:Rt,compressorAttack:ut,compressorRelease:Ot}=t;a=cn(a,1),at=(Array.isArray(at)?at:[at]).map(st=>st-1),a*=gn;let wt=[];const xr=()=>{wt.forEach(st=>st==null?void 0:st.disconnect())};s&&i&&(i=`${s}_${i}`);let An;if(u)An=u(e,t,n);else if(Fi(i)){const{onTrigger:st}=Fi(i),Lt=await st(e,t,xr);Lt&&(An=Lt.node,Lt.stop(e+n))}else throw new Error(`sound ${i} not found! Is it loaded?`);if(!An)return;if(r.currentTime>e){Oe("[webaudio] skip hap: still loading",r.currentTime-e);return}const Dt=[];Dt.push(An),Dt.push(bn(a));const en=G3(t.ftype);if(d!==void 0){let st=()=>Ei(r,"lowpass",d,S,M,v,P,B,g,e,e+n,m,en,p);Dt.push(st()),en==="24db"&&Dt.push(st())}if(w!==void 0){let st=()=>Ei(r,"highpass",w,H,_,k,I,T,O,e,e+n,m);Dt.push(st()),en==="24db"&&Dt.push(st())}if(Z!==void 0){let st=()=>Ei(r,"bandpass",Z,tt,W,q,X,ht,G,e,e+n,m);Dt.push(st()),en==="24db"&&Dt.push(st())}if(Wt!==void 0){const st=r.createVowelFilter(Wt);Dt.push(st)}if(j!==void 0&&Dt.push(En(r,"coarse-processor",{coarse:j})),te!==void 0&&Dt.push(En(r,"crush-processor",{crush:te})),ne!==void 0&&Dt.push(En(r,"shape-processor",{shape:ne,postgain:ge})),Et!==void 0&&Dt.push(En(r,"distort-processor",{distort:Et,postgain:Ut})),Ce!==void 0&&Dt.push(hm(r,Ce,ft,Rt,ut,Ot)),yt!==void 0){const st=r.createStereoPanner();st.pan.value=2*yt-1,Dt.push(st)}if(ot!==void 0&&Mt>0){const st=L3(e,e+n,ot,Mt,Qt,ae);Dt.push(st)}const oe=new GainNode(r,{gain:c});Dt.push(oe),Ki(oe,at);let St;if(me>0&&xt>0&&de>0){const st=R3(dn,xt,de,e);St=Ps(oe,st,me)}let Nn;if(It>0){let st;if($e!==void 0){let ye,ce=Fi($e);Array.isArray(ce)?ye=ce.data.samples[Qe%ce.data.samples.length]:typeof ce=="object"&&(ye=Object.values(ce.data.samples).flat()[Qe%Object.values(ce.data.samples).length]),st=await qu(ye,r,$e,0)}const Lt=O3(dn,Je,fn,Ae,Ve,st);Nn=Ps(oe,Lt,It)}let Xn;if(tn){const st=_m(tn,2**(Re+5));Xn=Ps(oe,st,1)}Dt.slice(1).reduce((st,Lt)=>st.connect(Lt),Dt[0]),wt=Dt.concat([St,Nn,Xn])},z3=(t,e,n,r)=>Yi(e,t-n,e.duration/r);let _s={};function H3(t,e){const n=Pt();if(_s[t])return _s[t];const r=2*n.sampleRate,i=n.createBuffer(1,r,n.sampleRate),s=i.getChannelData(0);let u=0,a,c,h,m,p,d,g;a=c=h=m=p=d=g=0;for(let M=0;M<r;M++)if(t==="white")s[M]=Math.random()*2-1;else if(t==="brown"){let v=Math.random()*2-1;s[M]=(u+.02*v)/1.02,u=s[M]}else if(t==="pink"){let v=Math.random()*2-1;a=.99886*a+v*.0555179,c=.99332*c+v*.0750759,h=.969*h+v*.153852,m=.8665*m+v*.3104856,p=.55*p+v*.5329522,d=-.7616*d-v*.016898,s[M]=a+c+h+m+p+d+g+v*.5362,s[M]*=.11,g=v*.115926}else if(t==="crackle"){const v=e*.01;Math.random()<v?s[M]=Math.random()*2-1:s[M]=0}return t!=="crackle"&&(_s[t]=i),i}function Bm(t="white",e,n=.02){const r=Pt().createBufferSource();return r.buffer=H3(t,n),r.loop=!0,r.start(e),{node:r,stop:i=>r.stop(i)}}function q3(t,e,n){const r=Bm("pink",n);return{node:pm(t,r.node,e),stop:i=>r==null?void 0:r.stop(i)}}const wm=t=>{let{note:e,freq:n}=t;return e=e||36,typeof e=="string"&&(e=qi(e)),!n&&typeof e=="number"&&(n=cm(e)),Number(n)},Z3=["triangle","square","sawtooth","sine"],j3=["pink","white","brown","crackle"];function xm(){[...Z3].forEach(t=>{sr(t,(e,n,r)=>{const[i,s,u,a]=_n([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c=Sm(t,e,n),{node:h,stop:m,triggerRelease:p}=c;const d=bn(.3),{duration:g}=n;h.onended=()=>{h.disconnect(),d.disconnect(),r()};const M=bn(1);let v=h.connect(d).connect(M);const P=e+g;Pn(v.gain,i,s,u,a,0,1,e,P,"linear");const B=P+a+.01;return p==null||p(B),m(B),{node:v,stop:S=>{}}},{type:"synth",prebake:!0})}),sr("supersaw",(t,e,n)=>{const r=Pt();let{duration:i,n:s,unison:u=5,spread:a=.6,detune:c}=e;c=c??s??.18;const h=wm(e),[m,p,d,g]=_n([e.attack,e.decay,e.sustain,e.release],"linear",[.001,.05,.6,.01]),M=t+i,v=M+g+.01,P=lr(u,1,100);let B=P>1?lr(a,0,1):0,S=En(r,"supersaw-oscillator",{frequency:h,begin:t,end:v,freqspread:c,voices:P,panspread:B},{outputChannelCount:[2]});const O=1/Math.sqrt(P);Zi(S.parameters.get("detune"),e,t,M);const w=ji(S.parameters.get("detune"),e,t),_=zu(S.parameters.get("frequency"),e,t);let k=bn(1);return k=S.connect(k),mm(r,()=>{S.disconnect(),k.disconnect(),n(),_==null||_.stop(),w==null||w.stop()},t,v),Pn(k.gain,m,p,d,g,0,.3*O,t,M,"linear"),{node:k,stop:I=>{}}},{prebake:!0,type:"synth"}),[...j3].forEach(t=>{sr(t,(e,n,r)=>{const[i,s,u,a]=_n([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c,{density:h}=n;c=Bm(t,e,h);let{node:m,stop:p,triggerRelease:d}=c;const g=bn(.3),{duration:M}=n;m.onended=()=>{m.disconnect(),g.disconnect(),r()};const v=bn(1);let P=m.connect(g).connect(v);const B=e+M;Pn(P.gain,i,s,u,a,0,1,e,B,"linear");const S=B+a+.01;return d==null||d(S),p(S),{node:P,stop:O=>{}}},{type:"synth",prebake:!0})})}function Im(t,e){const n=new Float32Array(t+1),r=new Float32Array(t+1),i=Pt(),s=i.createOscillator(),u={sawtooth:h=>[0,-1/h],square:h=>[0,h%2===0?0:1/h],triangle:h=>[h%2===0?0:1/(h*h),0]};if(!u[e])throw new Error(`unknown wave type ${e}`);n[0]=0,r[0]=0;let a=1;for(;a<=t;){const[h,m]=u[e](a);n[a]=h,r[a]=m,a++}const c=i.createPeriodicWave(n,r);return s.setPeriodicWave(c),s}function Sm(t,e,n){let{n:r,duration:i,noise:s=0}=n,u;!r||t==="sine"?(u=Pt().createOscillator(),u.type=t||"triangle"):u=Im(r,t),u.frequency.value=wm(n),u.start(e);let a=ji(u.detune,n,e);Zi(u.detune,n,e,e+i);const c=zu(u.frequency,n,e);let h;return s&&(h=q3(u,s,e)),{node:(h==null?void 0:h.node)||u,stop:m=>{c.stop(m),a==null||a.stop(m),h==null||h.stop(m),u.stop(m)},triggerRelease:m=>{}}}function X3(t=1,e=.05,n=220,r=0,i=0,s=.1,u=0,a=1,c=0,h=0,m=0,p=0,d=0,g=0,M=0,v=0,P=0,B=1,S=0,O=0){let w=Math.PI*2,_=Pt().sampleRate,k=Mt=>Mt>0?1:-1,I=c*=500*w/_/_,T=n*=(1+e*2*Math.random()-e)*w/_,H=[],G=0,Z=0,W=0,q=1,X=0,ht=0,tt=0,at,ot;for(r=r*_+9,S*=_,i*=_,s*=_,P*=_,h*=500*w/_**3,M*=w/_,m*=w/_,p*=_,d=d*_|0,ot=r+S+i+s+P|0;W<ot;H[W++]=tt)++ht%(v*100|0)||(tt=u?u>1?u>2?u>3?Math.sin((G%w)**3):Math.max(Math.min(Math.tan(G),1),-1):1-(2*G/w%2+2)%2:1-4*Math.abs(Math.round(G/w)-G/w):Math.sin(G),tt=(d?1-O+O*Math.sin(w*W/d):1)*k(tt)*Math.abs(tt)**a*t*1*(W<r?W/r:W<r+S?1-(W-r)/S*(1-B):W<r+S+i?B:W<ot-P?(ot-W-P)/s*B:0),tt=P?tt/2+(P>W?0:(W<ot-P?1:(ot-W)/P)*H[W-P|0]/2):tt),at=(n+=c+=h)*Math.cos(M*Z++),G+=at-at*g*(1-(Math.sin(W)+1)*1e9%2),q&&++q>p&&(n+=m,T+=m,q=0),d&&!(++X%d)&&(n=T,c=I,q||(q=1));return H}const km=(t,e)=>{let{s:n,note:r=36,freq:i,zrand:s=0,attack:u=0,decay:a=0,sustain:c=.8,release:h=.1,curve:m=1,slide:p=0,deltaSlide:d=0,pitchJump:g=0,pitchJumpTime:M=0,lfo:v=0,znoise:P=0,zmod:B=0,zcrush:S=0,zdelay:O=0,tremolo:w=0,duration:_=.2,zzfx:k}=t;const I=Math.max(_-u-a,0);typeof r=="string"&&(r=qi(r)),!i&&typeof r=="number"&&(i=cm(r)),n=n.replace("z_","");const T=["sine","triangle","sawtooth","tan","noise"].indexOf(n)||0;m=n==="square"?0:m;const H=X3(...k||[.25,s,i,u,I,h,T,m,p,d,g,M,v,P,B,S,O,c,a,w]),G=Pt(),Z=G.createBuffer(1,H.length,G.sampleRate);Z.getChannelData(0).set(H);const W=Pt().createBufferSource();return W.buffer=Z,W.start(e),{node:W}};function K3(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(t=>{sr(t,(e,n,r)=>{const{node:i}=km({s:t,...n},e);return i.onended=()=>{i.disconnect(),r()},{node:i,stop:()=>{}}},{type:"synth",prebake:!0})})}let Fe;async function Nm(t,e){const n=`dsp-worklet-${Date.now()}`,r=`${e}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${n}', MyProcessor);
`,i=`data:text/javascript;base64,${btoa(r)}`;await t.audioWorklet.addModule(i);const s=new AudioWorkletNode(t,n);return{node:s,stop:()=>s.port.postMessage("stop")}}const Tm=()=>{var t;Fe&&(Fe==null||Fe.stop(),(t=Fe==null?void 0:Fe.node)==null||t.disconnect())};typeof window<"u"&&window.addEventListener("message",t=>{var e;t.data==="strudel-stop"?Tm():(e=t.data)!=null&&e.dough&&(Fe==null||Fe.node.port.postMessage(t.data))});const Y3=async t=>{const e=Pt();Tm(),Fe=await Nm(e,t),Fe.node.connect(e.destination)};function Vm(t,e,n,r,i){window.postMessage({time:i,dough:e.value,currentTime:n,duration:e.duration,cps:r})}const{Pattern:Rm,logger:U3,repl:J3}=um;om(U3);const Lm=t=>(t.ensureObjectValue(),t.value),Gm=(t,e,n,r)=>Yi(Lm(e),t-n,e.duration/r),Om=(t,e,n,r,i)=>Yi(Lm(t),i?`=${i}`:e,n);Rm.prototype.webaudio=function(){return this.onTrigger(Gm)};function Wm(t={}){return t={getTime:()=>Pt().currentTime,defaultOutput:Om,...t},J3(t)}Rm.prototype.dough=function(){return this.onTrigger(Vm,1)};const Ar=(t="test-canvas",e)=>{let{contextType:n="2d",pixelated:r=!1,pixelRatio:i=window.devicePixelRatio}={},s=document.querySelector("#"+t);if(!s){s=document.createElement("canvas"),s.id=t,s.width=window.innerWidth*i,s.height=window.innerHeight*i,s.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",r&&(s.style.imageRendering="pixelated"),document.body.prepend(s);let u;window.addEventListener("resize",()=>{u&&clearTimeout(u),u=setTimeout(()=>{s.width=window.innerWidth*i,s.height=window.innerHeight*i},200)})}return s.getContext(n)};let Gr={};function $3(t){Gr[t]!==void 0&&(cancelAnimationFrame(Gr[t]),delete Gr[t])}let un={};nt.prototype.draw=function(t,e){if(typeof window>"u")return this;let{id:n=1,lookbehind:r=0,lookahead:i=0}=e,s=Math.max(Js(),0);$3(n),r=Math.abs(r),un[n]=(un[n]||[]).filter(h=>!h.isInFuture(s));let u=this.queryArc(s,s+i).filter(h=>h.hasOnset());un[n]=un[n].concat(u);let a;const c=()=>{const h=Js(),m=h+i;un[n]=un[n].filter(g=>g.isInNearPast(r,h));let p=Math.max(a||m,m-1/10);const d=this.queryArc(p,m).filter(g=>g.hasOnset());un[n]=un[n].concat(d),a=m,t(un[n],h,m,this),Gr[n]=requestAnimationFrame(c)};return Gr[n]=requestAnimationFrame(c),this};nt.prototype.onPaint=function(){return console.warn("[draw] onPaint was not overloaded. Some drawings might not work"),this};let Q3={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function Bn(){return Q3}let ao="#22222210";nt.prototype.animate=function({callback:t,sync:e=!1,smear:n=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const r=Ar();let{clientWidth:i,clientHeight:s}=r.canvas;i*=window.devicePixelRatio,s*=window.devicePixelRatio;let u=n===0?"99":Number((1-n)*100).toFixed(0);u=u.length===1?`0${u}`:u,ao=`#200010${u}`;const a=c=>{let h;c=Math.round(c),h=this.slow(1e3).queryArc(c,c),r.fillStyle=ao,r.fillRect(0,0,i,s),h.forEach(m=>{let{x:p,y:d,w:g,h:M,s:v,r:P,angle:B=0,fill:S="darkseagreen"}=m.value;if(g*=i,M*=s,P!==void 0&&B!==void 0){const w=B*2*Math.PI,[_,k]=[(i-g)/2,(s-M)/2];p=_+Math.cos(w)*P*_,d=k+Math.sin(w)*P*k}else p*=i-g,d*=s-M;const O={...m.value,x:p,y:d,w:g,h:M};r.fillStyle=S,v==="rect"?r.fillRect(p,d,g,M):v==="ellipse"&&(r.beginPath(),r.ellipse(p+g/2,d+M/2,g/2,M/2,0,0,2*Math.PI),r.fill()),t&&t(r,O,m)}),window.frame=requestAnimationFrame(a)};return window.frame=requestAnimationFrame(a),Bt};const{x:zm,y:GF,w:OF,h:WF,angle:zF,r:HF,fill:qF,smear:ZF}=Iu("x","y","w","h","angle","r","fill","smear");L("rescale",function(t,e){return e.mul(zm(t).w(t).y(t).h(t))});L("moveXY",function(t,e,n){return n.add(zm(t).y(e))});L("zoomIn",function(t,e){const n=ie(1).sub(t).div(2);return e.rescale(t).move(n,n)});const kr=(t,e,n)=>t*(n-e)+e,oo=t=>{let{value:e}=t;typeof t.value!="object"&&(e={value:e});let{note:n,n:r,freq:i,s}=e;if(i)return gu(i);if(n=n??r,typeof n=="string")try{return In(n)}catch{return 0}return typeof n=="number"?n:s?"_"+s:e};nt.prototype.pianoroll=function(t={}){let{cycles:e=4,playhead:n=.5,overscan:r=0,hideNegative:i=!1,ctx:s=Ar(),id:u=1}=t,a=-e*n,c=e*(1-n);const h=(m,p)=>(!i||m.whole.begin>=0)&&m.isWithinTime(p+a,p+c);return this.draw((m,p)=>{Hm({...t,time:p,ctx:s,haps:m.filter(d=>h(d,p))})},{lookbehind:a-r,lookahead:c+r,id:u}),this};function Hm({time:t,haps:e,cycles:n=4,playhead:r=.5,flipTime:i=0,flipValues:s=0,hideNegative:u=!1,inactive:a=Bn().foreground,active:c=Bn().foreground,background:h="transparent",smear:m=0,playheadColor:p=Bn().foreground,minMidi:d=10,maxMidi:g=90,autorange:M=0,timeframe:v,fold:P=0,vertical:B=0,labels:S=!1,fill:O=1,fillActive:w=!1,strokeActive:_=!0,stroke:k,hideInactive:I=0,colorizeInactive:T=1,fontFamily:H,ctx:G,id:Z}={}){const W=G.canvas.width,q=G.canvas.height;let X=-n*r,ht=n*(1-r);Z&&(e=e.filter(yt=>yt.hasTag(Z))),v&&(console.warn("timeframe is deprecated! use from/to instead"),X=0,ht=v);const tt=B?q:W,at=B?W:q;let ot=B?[tt,0]:[0,tt];const Mt=ht-X,ae=B?[0,at]:[at,0];let Qt=g-d+1,j=at/Qt,te=[];i&&ot.reverse(),s&&ae.reverse();const{min:ne,max:ge,values:Et}=e.reduce(({min:yt,max:Wt,values:me},de)=>{const xt=oo(de);return{min:xt<yt?xt:yt,max:xt>Wt?xt:Wt,values:me.includes(xt)?me:[...me,xt]}},{min:1/0,max:-1/0,values:[]});M&&(d=ne,g=ge,Qt=g-d+1),te=Et.sort((yt,Wt)=>typeof yt=="number"&&typeof Wt=="number"?yt-Wt:typeof yt=="number"?1:String(yt).localeCompare(String(Wt))),j=P?at/te.length:at/Qt,G.fillStyle=h,G.globalAlpha=1,m||(G.clearRect(0,0,W,q),G.fillRect(0,0,W,q)),e.forEach(yt=>{var Ce;const Wt=yt.whole.begin<=t&&yt.endClipped>t;let me=k??(_&&Wt),de=!Wt&&O||Wt&&w;if(I&&!Wt)return;let xt=(Ce=yt.value)==null?void 0:Ce.color;c=xt||c,a=T&&xt||a,xt=Wt?c:a,G.fillStyle=de?xt:"transparent",G.strokeStyle=xt;const{velocity:dn=1,gain:It=1}=yt.value||{};G.globalAlpha=dn*It;const fn=(yt.whole.begin-(i?ht:X))/Mt,Ae=kr(fn,...ot);let Ve=kr(yt.duration/Mt,0,tt);const Je=oo(yt),$e=P?te.indexOf(Je)/te.length:(Number(Je)-d)/Qt,Qe=kr($e,...ae);let gn=0;const tn=kr(t/Mt,...ot);let Re;if(B?Re=[Qe+1-(s?j:0),tt-tn+Ae+gn+1-(i?0:Ve),j-2,Ve-2]:Re=[Ae-tn+gn+1-(i?Ve:0),Qe+1-(s?0:j),Ve-2,j-2],me&&G.strokeRect(...Re),de&&G.fillRect(...Re),S){const ft=yt.value.note??yt.value.s+(yt.value.n?`:${yt.value.n}`:""),{label:Rt,activeLabel:ut}=yt.value,Ot=(Wt&&ut||Rt)??ft;let wt=B?Ve:j*.75;G.font=`${wt}px ${H||"monospace"}`,G.fillStyle=de?"black":xt,G.textBaseline="top",G.fillText(Ot,...Re)}}),G.globalAlpha=1;const Ut=kr(-X/Mt,...ot);return G.strokeStyle=p,G.beginPath(),B?(G.moveTo(0,Ut),G.lineTo(at,Ut)):(G.moveTo(Ut,0),G.lineTo(Ut,at)),G.stroke(),this}function tv(t,e={}){let[n,r]=t;n=Math.abs(n);const i=r+n,s=n/i;return{fold:1,...e,cycles:i,playhead:s}}const ev=(t={})=>(e,n,r,i)=>Hm({ctx:e,time:n,haps:r,...tv(i,t)});nt.prototype.punchcard=function(t){return this.onPaint(ev(t))};nt.prototype.wordfall=function(t){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...t})};function nv(t,e,n,r){const i=(t-90)*Math.PI/180;return[n+Math.cos(i)*e,r+Math.sin(i)*e]}const co=(t,e,n,r,i=0)=>nv((t+i)*360,e*t,n,r);function lo(t){let{ctx:e,from:n=0,to:r=3,margin:i=50,cx:s=100,cy:u=100,rotate:a=0,thickness:c=i/2,color:h=Bn().foreground,cap:m="round",stretch:p=1,fromOpacity:d=1,toOpacity:g=1}=t;n*=p,r*=p,a*=p,e.lineWidth=c,e.lineCap=m,e.strokeStyle=h,e.globalAlpha=d,e.beginPath();let[M,v]=co(n,i,s,u,a);e.moveTo(M,v);const P=1/60;let B=n;for(;B<=r;){const[S,O]=co(B,i,s,u,a);e.globalAlpha=(B-n)/(r-n)*g,e.lineTo(S,O),B+=P}e.stroke()}function rv(t){let{stretch:e=1,size:n=80,thickness:r=n/2,cap:i="butt",inset:s=3,playheadColor:u="#ffffff",playheadLength:a=.02,playheadThickness:c=r,padding:h=0,steady:m=1,activeColor:p=Bn().foreground,inactiveColor:d=Bn().gutterForeground,colorizeInactive:g=0,fade:M=!0,ctx:v,time:P,haps:B,drawTime:S,id:O}=t;O&&(B=B.filter(W=>W.hasTag(O)));const[w,_]=[v.canvas.width,v.canvas.height];v.clearRect(0,0,w*2,_*2);const[k,I]=[w/2,_/2],T={margin:n/e,cx:k,cy:I,stretch:e,cap:i,thickness:r},H={...T,thickness:c,from:s-a,to:s,color:u},[G]=S,Z=m*P;B.forEach(W=>{var Mt;const q=W.whole.begin<=P&&W.endClipped>P,X=W.whole.begin-P+s,ht=W.endClipped-P+s-h,tt=((Mt=W.value)==null?void 0:Mt.color)||p,at=g||q?tt:d,ot=M?1-Math.abs((W.whole.begin-P)/G):1;lo({ctx:v,...T,from:X,to:ht,rotate:Z,color:at,fromOpacity:ot,toOpacity:ot})}),lo({ctx:v,...H,rotate:Z})}nt.prototype.spiral=function(t={}){return this.onPaint((e,n,r,i)=>rv({ctx:e,time:n,haps:r,drawTime:i,...t}))};const iv=or(36),ho=(t,e,n,r)=>{r=r*Math.PI*2;const i=Math.sin(r)*n+t,s=Math.cos(r)*n+e;return[i,s]},po=(t,e)=>.5-Math.log2(t/e)%1;function sv({haps:t,ctx:e,id:n,hapcircles:r=1,circle:i=0,edo:s=12,root:u=iv,thickness:a=3,hapRadius:c=6,mode:h="flake",margin:m=10}={}){const p=h==="polygon",d=h==="flake",g=e.canvas.width,M=e.canvas.height;e.clearRect(0,0,g,M);const v=Bn().foreground,P=Math.min(g,M)/2-a/2-c-m,B=g/2,S=M/2;n&&(t=t.filter(w=>w.hasTag(n))),e.strokeStyle=v,e.fillStyle=v,e.globalAlpha=1,e.lineWidth=a,i&&(e.beginPath(),e.arc(B,S,P,0,2*Math.PI),e.stroke()),s&&(Array.from({length:s},(w,_)=>{const k=po(u*Math.pow(2,_/s),u),[I,T]=ho(B,S,P,k);e.beginPath(),e.arc(I,T,c,0,2*Math.PI),e.fill()}),e.stroke());let O=[];e.lineWidth=c,t.forEach(w=>{let _;try{_=gc(w)}catch{return}const k=po(_,u),[I,T]=ho(B,S,P,k),H=w.value.color||v;e.strokeStyle=H,e.fillStyle=H;const{velocity:G=1,gain:Z=1}=w.value||{},W=G*Z;e.globalAlpha=W,O.push([I,T,k,H,W]),e.beginPath(),r&&(e.moveTo(I+c,T),e.arc(I,T,c,0,2*Math.PI),e.fill()),d&&(e.moveTo(B,S),e.lineTo(I,T)),e.stroke()}),e.strokeStyle=v,e.globalAlpha=1,p&&O.length&&(O=O.sort((w,_)=>w[2]-_[2]),e.beginPath(),e.moveTo(O[0][0],O[0][1]),O.forEach(([w,_,k,I,T])=>{e.strokeStyle=I,e.globalAlpha=T,e.lineTo(w,_)}),e.lineTo(O[0][0],O[0][1]),e.stroke())}nt.prototype.pitchwheel=function(t={}){let{ctx:e=Ar(),id:n=1}=t;return this.tag(n).onPaint((r,i,s)=>sv({...t,ctx:e,haps:s.filter(u=>u.isActive(i)),id:n}))};function qm(t,{align:e=!0,color:n="white",thickness:r=3,scale:i=.25,pos:s=.75,trigger:u=0,ctx:a=Ar(),id:c=1}={}){a.lineWidth=r,a.strokeStyle=n;let h=a.canvas;if(!t){a.beginPath();let v=s*h.height;a.moveTo(0,v),a.lineTo(h.width,v),a.stroke();return}const m=Xu("time",c);a.beginPath();const p=t.frequencyBinCount;let d=e?Array.from(m).findIndex((v,P,B)=>P&&B[P-1]>-u&&v<=-u):0;d=Math.max(d,0);const g=h.width*1/p;let M=0;for(let v=d;v<p;v++){const P=m[v]+1,B=(s-i*(P-1))*h.height;v===0?a.moveTo(M,B):a.lineTo(M,B),M+=g}a.stroke()}function Zm(t,{color:e="white",scale:n=.25,pos:r=.75,lean:i=.5,min:s=-150,max:u=0,ctx:a=Ar(),id:c=1}={}){if(!t){a.beginPath();let M=r*m.height;a.moveTo(0,M),a.lineTo(m.width,M),a.stroke();return}const h=Xu("frequency",c),m=a.canvas;a.fillStyle=e;const p=t.frequencyBinCount,d=m.width*1/p;let g=0;for(let M=0;M<p;M++){const v=bu((h[M]-s)/(u-s),0,1)*n,P=v*m.height,B=(r-v*i)*m.height;a.fillRect(g,B,Math.max(d,1),P),g+=d}}function jm(t=0,e="0,0,0",n=Ar()){t?(n.fillStyle=`rgba(${e},${1-t})`,n.fillRect(0,0,n.canvas.width,n.canvas.height)):n.clearRect(0,0,n.canvas.width,n.canvas.height)}nt.prototype.fscope=function(t={}){let e=t.id??1;return this.analyze(e).draw(()=>{jm(t.smear,"0,0,0",t.ctx),he[e]&&Zm(he[e],t)},{id:e})};nt.prototype.tscope=function(t={}){let e=t.id??1;return this.analyze(e).draw(n=>{var r,i;t.color=((i=(r=n[0])==null?void 0:r.value)==null?void 0:i.color)||Bn().foreground,t.color,jm(t.smear,"0,0,0",t.ctx),qm(he[e],t)},{id:e})};nt.prototype.scope=nt.prototype.tscope;const uv=Object.freeze(Object.defineProperty({__proto__:null,get analysers(){return he},get analysersData(){return Rn},applyFM:zu,connectToDestination:Ki,createFilter:Ei,dough:Y3,doughTrigger:Vm,drawFrequencyScope:Zm,drawTimeScope:qm,drywet:pm,dspWorklet:Nm,gainNode:bn,getADSRValues:_n,getAnalyserById:_m,getAnalyzerData:Xu,getAudioContext:Pt,getCachedBuffer:_3,getCompressor:hm,getDefaultValue:Zt,getLoadedBuffer:w3,getOscillator:Sm,getParamADSR:Pn,getPitchEnvelope:Zi,getSampleBufferSource:dm,getSound:Fi,getVibratoOscillator:ji,getWorklet:En,getZZFX:km,initAudio:Em,initAudioOnFirstClick:Fm,initializeAudioOutput:Pm,loadBuffer:qu,logger:Oe,onTriggerSample:Dm,panic:V3,processSampleMap:Cm,registerSamplesPrefix:x3,registerSound:sr,registerSynthSounds:xm,registerZZFXSounds:K3,resetDefaultValues:bm,resetGlobalEffects:W3,resetLoadedSounds:N3,reverseBuffer:fm,samples:Si,setDefaultAudioContext:Mm,setDefaultValue:ju,setDefaultValues:S3,setLogger:om,setVersionDefaults:k3,soundMap:Xi,superdough:Yi,superdoughTrigger:z3,waveformN:Im,webAudioTimeout:mm,webaudioOutput:Om,webaudioOutputTrigger:Gm,webaudioRepl:Wm},Symbol.toStringTag,{value:"Module"}));function av(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Wn(t,e,n,r){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Wn.prototype),i.expected=e,i.found=n,i.location=r,i.name="SyntaxError",i}av(Wn,Error);function Bs(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,n+=n.repeat(e),t+n.slice(0,e))}Wn.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){n=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,u=this.location.source+":"+s.line+":"+s.column;if(n){var a=this.location.end,c=Bs("",s.line.toString().length," "),h=n[i.line-1],m=i.line===a.line?a.column:h.length+1,p=m-i.column||1;e+=`
 --> `+u+`
`+c+` |
`+s.line+" | "+h+`
`+c+" | "+Bs("",i.column-1," ")+Bs("",p,"^")}else e+=`
 at `+u}return e};Wn.buildMessage=function(t,e){var n={literal:function(h){return'"'+i(h.text)+'"'},class:function(h){var m=h.parts.map(function(p){return Array.isArray(p)?s(p[0])+"-"+s(p[1]):s(p)});return"["+(h.inverted?"^":"")+m.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(h){return h.description}};function r(h){return h.charCodeAt(0).toString(16).toUpperCase()}function i(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+r(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+r(m)})}function s(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+r(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+r(m)})}function u(h){return n[h.type](h)}function a(h){var m=h.map(u),p,d;if(m.sort(),m.length>0){for(p=1,d=1;p<m.length;p++)m[p-1]!==m[p]&&(m[d]=m[p],d++);m.length=d}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function c(h){return h?'"'+i(h)+'"':"end of input"}return"Expected "+a(t)+" but "+c(e)+" found."};function Xm(t,e){e=e!==void 0?e:{};var n={},r=e.grammarSource,i={start:_a},s=_a,u=".",a="-",c="+",h="0",m=",",p="|",d='"',g="'",M="#",v="^",P="_",B="[",S="]",O="{",w="}",_="%",k="<",I=">",T="@",H="!",G="(",Z=")",W="/",q="*",X="?",ht=":",tt="..",at="struct",ot="target",Mt="euclid",ae="slow",Qt="rotL",j="rotR",te="fast",ne="scale",ge="//",Et="cat",Ut="$",yt="setcps",Wt="setbpm",me="hush",de=/^[1-9]/,xt=/^[eE]/,dn=/^[0-9]/,It=/^[ \n\r\t\xA0]/,fn=/^[0-9~]/,Ae=/^[^\n]/,Ve=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,Je=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,$e=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05EF-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Qe=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,gn=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]/,tn=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,Re=As("number"),Ce=mt(".",!1),ft=ve([["1","9"]],!1,!1),Rt=ve(["e","E"],!1,!1),ut=mt("-",!1),Ot=mt("+",!1),wt=mt("0",!1),xr=ve([["0","9"]],!1,!1),An=As("whitespace"),Dt=ve([" ",`
`,"\r","	"," "],!1,!1),en=mt(",",!1),oe=mt("|",!1),St=mt('"',!1),Nn=mt("'",!1),Xn=As('a letter, a number, "-", "#", ".", "^", "_"'),st=ve([["0","9"],"~"],!1,!1),Lt=mt("#",!1),ye=mt("^",!1),ce=mt("_",!1),Ir=mt("[",!1),ui=mt("]",!1),fs=mt("{",!1),l=mt("}",!1),A=mt("%",!1),f=mt("<",!1),C=mt(">",!1),E=mt("@",!1),N=mt("!",!1),R=mt("(",!1),z=mt(")",!1),U=mt("/",!1),dt=mt("*",!1),zt=mt("?",!1),nn=mt(":",!1),Cn=mt("..",!1),ai=mt("struct",!1),oi=mt("target",!1),De=mt("euclid",!1),Hf=mt("slow",!1),qf=mt("rotL",!1),Zf=mt("rotR",!1),jf=mt("fast",!1),Xf=mt("scale",!1),Kf=mt("//",!1),Ma=ve([`
`],!0,!1),Yf=mt("cat",!1),Uf=mt("$",!1),Jf=mt("setcps",!1),$f=mt("setbpm",!1),Qf=mt("hush",!1),tg=ve([["a","z"],"µ",["ß","ö"],["ø","ÿ"],"ā","ă","ą","ć","ĉ","ċ","č","ď","đ","ē","ĕ","ė","ę","ě","ĝ","ğ","ġ","ģ","ĥ","ħ","ĩ","ī","ĭ","į","ı","ĳ","ĵ",["ķ","ĸ"],"ĺ","ļ","ľ","ŀ","ł","ń","ņ",["ň","ŉ"],"ŋ","ō","ŏ","ő","œ","ŕ","ŗ","ř","ś","ŝ","ş","š","ţ","ť","ŧ","ũ","ū","ŭ","ů","ű","ų","ŵ","ŷ","ź","ż",["ž","ƀ"],"ƃ","ƅ","ƈ",["ƌ","ƍ"],"ƒ","ƕ",["ƙ","ƛ"],"ƞ","ơ","ƣ","ƥ","ƨ",["ƪ","ƫ"],"ƭ","ư","ƴ","ƶ",["ƹ","ƺ"],["ƽ","ƿ"],"ǆ","ǉ","ǌ","ǎ","ǐ","ǒ","ǔ","ǖ","ǘ","ǚ",["ǜ","ǝ"],"ǟ","ǡ","ǣ","ǥ","ǧ","ǩ","ǫ","ǭ",["ǯ","ǰ"],"ǳ","ǵ","ǹ","ǻ","ǽ","ǿ","ȁ","ȃ","ȅ","ȇ","ȉ","ȋ","ȍ","ȏ","ȑ","ȓ","ȕ","ȗ","ș","ț","ȝ","ȟ","ȡ","ȣ","ȥ","ȧ","ȩ","ȫ","ȭ","ȯ","ȱ",["ȳ","ȹ"],"ȼ",["ȿ","ɀ"],"ɂ","ɇ","ɉ","ɋ","ɍ",["ɏ","ʓ"],["ʕ","ʯ"],"ͱ","ͳ","ͷ",["ͻ","ͽ"],"ΐ",["ά","ώ"],["ϐ","ϑ"],["ϕ","ϗ"],"ϙ","ϛ","ϝ","ϟ","ϡ","ϣ","ϥ","ϧ","ϩ","ϫ","ϭ",["ϯ","ϳ"],"ϵ","ϸ",["ϻ","ϼ"],["а","џ"],"ѡ","ѣ","ѥ","ѧ","ѩ","ѫ","ѭ","ѯ","ѱ","ѳ","ѵ","ѷ","ѹ","ѻ","ѽ","ѿ","ҁ","ҋ","ҍ","ҏ","ґ","ғ","ҕ","җ","ҙ","қ","ҝ","ҟ","ҡ","ң","ҥ","ҧ","ҩ","ҫ","ҭ","ү","ұ","ҳ","ҵ","ҷ","ҹ","һ","ҽ","ҿ","ӂ","ӄ","ӆ","ӈ","ӊ","ӌ",["ӎ","ӏ"],"ӑ","ӓ","ӕ","ӗ","ә","ӛ","ӝ","ӟ","ӡ","ӣ","ӥ","ӧ","ө","ӫ","ӭ","ӯ","ӱ","ӳ","ӵ","ӷ","ӹ","ӻ","ӽ","ӿ","ԁ","ԃ","ԅ","ԇ","ԉ","ԋ","ԍ","ԏ","ԑ","ԓ","ԕ","ԗ","ԙ","ԛ","ԝ","ԟ","ԡ","ԣ","ԥ","ԧ","ԩ","ԫ","ԭ","ԯ",["ՠ","ֈ"],["ა","ჺ"],["ჽ","ჿ"],["ᏸ","ᏽ"],["ᲀ","ᲈ"],["ᴀ","ᴫ"],["ᵫ","ᵷ"],["ᵹ","ᶚ"],"ḁ","ḃ","ḅ","ḇ","ḉ","ḋ","ḍ","ḏ","ḑ","ḓ","ḕ","ḗ","ḙ","ḛ","ḝ","ḟ","ḡ","ḣ","ḥ","ḧ","ḩ","ḫ","ḭ","ḯ","ḱ","ḳ","ḵ","ḷ","ḹ","ḻ","ḽ","ḿ","ṁ","ṃ","ṅ","ṇ","ṉ","ṋ","ṍ","ṏ","ṑ","ṓ","ṕ","ṗ","ṙ","ṛ","ṝ","ṟ","ṡ","ṣ","ṥ","ṧ","ṩ","ṫ","ṭ","ṯ","ṱ","ṳ","ṵ","ṷ","ṹ","ṻ","ṽ","ṿ","ẁ","ẃ","ẅ","ẇ","ẉ","ẋ","ẍ","ẏ","ẑ","ẓ",["ẕ","ẝ"],"ẟ","ạ","ả","ấ","ầ","ẩ","ẫ","ậ","ắ","ằ","ẳ","ẵ","ặ","ẹ","ẻ","ẽ","ế","ề","ể","ễ","ệ","ỉ","ị","ọ","ỏ","ố","ồ","ổ","ỗ","ộ","ớ","ờ","ở","ỡ","ợ","ụ","ủ","ứ","ừ","ử","ữ","ự","ỳ","ỵ","ỷ","ỹ","ỻ","ỽ",["ỿ","ἇ"],["ἐ","ἕ"],["ἠ","ἧ"],["ἰ","ἷ"],["ὀ","ὅ"],["ὐ","ὗ"],["ὠ","ὧ"],["ὰ","ώ"],["ᾀ","ᾇ"],["ᾐ","ᾗ"],["ᾠ","ᾧ"],["ᾰ","ᾴ"],["ᾶ","ᾷ"],"ι",["ῂ","ῄ"],["ῆ","ῇ"],["ῐ","ΐ"],["ῖ","ῗ"],["ῠ","ῧ"],["ῲ","ῴ"],["ῶ","ῷ"],"ℊ",["ℎ","ℏ"],"ℓ","ℯ","ℴ","ℹ",["ℼ","ℽ"],["ⅆ","ⅉ"],"ⅎ","ↄ",["ⰰ","ⱞ"],"ⱡ",["ⱥ","ⱦ"],"ⱨ","ⱪ","ⱬ","ⱱ",["ⱳ","ⱴ"],["ⱶ","ⱻ"],"ⲁ","ⲃ","ⲅ","ⲇ","ⲉ","ⲋ","ⲍ","ⲏ","ⲑ","ⲓ","ⲕ","ⲗ","ⲙ","ⲛ","ⲝ","ⲟ","ⲡ","ⲣ","ⲥ","ⲧ","ⲩ","ⲫ","ⲭ","ⲯ","ⲱ","ⲳ","ⲵ","ⲷ","ⲹ","ⲻ","ⲽ","ⲿ","ⳁ","ⳃ","ⳅ","ⳇ","ⳉ","ⳋ","ⳍ","ⳏ","ⳑ","ⳓ","ⳕ","ⳗ","ⳙ","ⳛ","ⳝ","ⳟ","ⳡ",["ⳣ","ⳤ"],"ⳬ","ⳮ","ⳳ",["ⴀ","ⴥ"],"ⴧ","ⴭ","ꙁ","ꙃ","ꙅ","ꙇ","ꙉ","ꙋ","ꙍ","ꙏ","ꙑ","ꙓ","ꙕ","ꙗ","ꙙ","ꙛ","ꙝ","ꙟ","ꙡ","ꙣ","ꙥ","ꙧ","ꙩ","ꙫ","ꙭ","ꚁ","ꚃ","ꚅ","ꚇ","ꚉ","ꚋ","ꚍ","ꚏ","ꚑ","ꚓ","ꚕ","ꚗ","ꚙ","ꚛ","ꜣ","ꜥ","ꜧ","ꜩ","ꜫ","ꜭ",["ꜯ","ꜱ"],"ꜳ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ꜿ","ꝁ","ꝃ","ꝅ","ꝇ","ꝉ","ꝋ","ꝍ","ꝏ","ꝑ","ꝓ","ꝕ","ꝗ","ꝙ","ꝛ","ꝝ","ꝟ","ꝡ","ꝣ","ꝥ","ꝧ","ꝩ","ꝫ","ꝭ","ꝯ",["ꝱ","ꝸ"],"ꝺ","ꝼ","ꝿ","ꞁ","ꞃ","ꞅ","ꞇ","ꞌ","ꞎ","ꞑ",["ꞓ","ꞕ"],"ꞗ","ꞙ","ꞛ","ꞝ","ꞟ","ꞡ","ꞣ","ꞥ","ꞧ","ꞩ","ꞯ","ꞵ","ꞷ","ꞹ","ꟺ",["ꬰ","ꭚ"],["ꭠ","ꭥ"],["ꭰ","ꮿ"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],["ａ","ｚ"]],!1,!1),eg=ve([["ʰ","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ","ʹ","ͺ","ՙ","ـ",["ۥ","ۦ"],["ߴ","ߵ"],"ߺ","ࠚ","ࠤ","ࠨ","ॱ","ๆ","ໆ","ჼ","ៗ","ᡃ","ᪧ",["ᱸ","ᱽ"],["ᴬ","ᵪ"],"ᵸ",["ᶛ","ᶿ"],"ⁱ","ⁿ",["ₐ","ₜ"],["ⱼ","ⱽ"],"ⵯ","ⸯ","々",["〱","〵"],"〻",["ゝ","ゞ"],["ー","ヾ"],"ꀕ",["ꓸ","ꓽ"],"ꘌ","ꙿ",["ꚜ","ꚝ"],["ꜗ","ꜟ"],"ꝰ","ꞈ",["ꟸ","ꟹ"],"ꧏ","ꧦ","ꩰ","ꫝ",["ꫳ","ꫴ"],["ꭜ","ꭟ"],"ｰ",["ﾞ","ﾟ"]],!1,!1),ng=ve(["ª","º","ƻ",["ǀ","ǃ"],"ʔ",["א","ת"],["ׯ","ײ"],["ؠ","ؿ"],["ف","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ࠀ","ࠕ"],["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॲ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๅ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["ᄀ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛱ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៜ",["ᠠ","ᡂ"],["ᡄ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱷ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ℵ","ℸ"],["ⴰ","ⵧ"],["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"〆","〼",["ぁ","ゖ"],"ゟ",["ァ","ヺ"],"ヿ",["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꀔ"],["ꀖ","ꒌ"],["ꓐ","ꓷ"],["ꔀ","ꘋ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],"ꙮ",["ꚠ","ꛥ"],"ꞏ","ꟷ",["ꟻ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],["ꧠ","ꧤ"],["ꧧ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩯ"],["ꩱ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫜ"],["ꫠ","ꫪ"],"ꫲ",["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꯀ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["ｦ","ｯ"],["ｱ","ﾝ"],["ﾠ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),rg=ve(["ǅ","ǈ","ǋ","ǲ",["ᾈ","ᾏ"],["ᾘ","ᾟ"],["ᾨ","ᾯ"],"ᾼ","ῌ","ῼ"],!1,!1),ig=ve([["A","Z"],["À","Ö"],["Ø","Þ"],"Ā","Ă","Ą","Ć","Ĉ","Ċ","Č","Ď","Đ","Ē","Ĕ","Ė","Ę","Ě","Ĝ","Ğ","Ġ","Ģ","Ĥ","Ħ","Ĩ","Ī","Ĭ","Į","İ","Ĳ","Ĵ","Ķ","Ĺ","Ļ","Ľ","Ŀ","Ł","Ń","Ņ","Ň","Ŋ","Ō","Ŏ","Ő","Œ","Ŕ","Ŗ","Ř","Ś","Ŝ","Ş","Š","Ţ","Ť","Ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","Ŵ","Ŷ",["Ÿ","Ź"],"Ż","Ž",["Ɓ","Ƃ"],"Ƅ",["Ɔ","Ƈ"],["Ɖ","Ƌ"],["Ǝ","Ƒ"],["Ɠ","Ɣ"],["Ɩ","Ƙ"],["Ɯ","Ɲ"],["Ɵ","Ơ"],"Ƣ","Ƥ",["Ʀ","Ƨ"],"Ʃ","Ƭ",["Ʈ","Ư"],["Ʊ","Ƴ"],"Ƶ",["Ʒ","Ƹ"],"Ƽ","Ǆ","Ǉ","Ǌ","Ǎ","Ǐ","Ǒ","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ǟ","Ǡ","Ǣ","Ǥ","Ǧ","Ǩ","Ǫ","Ǭ","Ǯ","Ǳ","Ǵ",["Ƕ","Ǹ"],"Ǻ","Ǽ","Ǿ","Ȁ","Ȃ","Ȅ","Ȇ","Ȉ","Ȋ","Ȍ","Ȏ","Ȑ","Ȓ","Ȕ","Ȗ","Ș","Ț","Ȝ","Ȟ","Ƞ","Ȣ","Ȥ","Ȧ","Ȩ","Ȫ","Ȭ","Ȯ","Ȱ","Ȳ",["Ⱥ","Ȼ"],["Ƚ","Ⱦ"],"Ɂ",["Ƀ","Ɇ"],"Ɉ","Ɋ","Ɍ","Ɏ","Ͱ","Ͳ","Ͷ","Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ώ"],["Α","Ρ"],["Σ","Ϋ"],"Ϗ",["ϒ","ϔ"],"Ϙ","Ϛ","Ϝ","Ϟ","Ϡ","Ϣ","Ϥ","Ϧ","Ϩ","Ϫ","Ϭ","Ϯ","ϴ","Ϸ",["Ϲ","Ϻ"],["Ͻ","Я"],"Ѡ","Ѣ","Ѥ","Ѧ","Ѩ","Ѫ","Ѭ","Ѯ","Ѱ","Ѳ","Ѵ","Ѷ","Ѹ","Ѻ","Ѽ","Ѿ","Ҁ","Ҋ","Ҍ","Ҏ","Ґ","Ғ","Ҕ","Җ","Ҙ","Қ","Ҝ","Ҟ","Ҡ","Ң","Ҥ","Ҧ","Ҩ","Ҫ","Ҭ","Ү","Ұ","Ҳ","Ҵ","Ҷ","Ҹ","Һ","Ҽ","Ҿ",["Ӏ","Ӂ"],"Ӄ","Ӆ","Ӈ","Ӊ","Ӌ","Ӎ","Ӑ","Ӓ","Ӕ","Ӗ","Ә","Ӛ","Ӝ","Ӟ","Ӡ","Ӣ","Ӥ","Ӧ","Ө","Ӫ","Ӭ","Ӯ","Ӱ","Ӳ","Ӵ","Ӷ","Ӹ","Ӻ","Ӽ","Ӿ","Ԁ","Ԃ","Ԅ","Ԇ","Ԉ","Ԋ","Ԍ","Ԏ","Ԑ","Ԓ","Ԕ","Ԗ","Ԙ","Ԛ","Ԝ","Ԟ","Ԡ","Ԣ","Ԥ","Ԧ","Ԩ","Ԫ","Ԭ","Ԯ",["Ա","Ֆ"],["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["Ꭰ","Ᏽ"],["Ა","Ჺ"],["Ჽ","Ჿ"],"Ḁ","Ḃ","Ḅ","Ḇ","Ḉ","Ḋ","Ḍ","Ḏ","Ḑ","Ḓ","Ḕ","Ḗ","Ḙ","Ḛ","Ḝ","Ḟ","Ḡ","Ḣ","Ḥ","Ḧ","Ḩ","Ḫ","Ḭ","Ḯ","Ḱ","Ḳ","Ḵ","Ḷ","Ḹ","Ḻ","Ḽ","Ḿ","Ṁ","Ṃ","Ṅ","Ṇ","Ṉ","Ṋ","Ṍ","Ṏ","Ṑ","Ṓ","Ṕ","Ṗ","Ṙ","Ṛ","Ṝ","Ṟ","Ṡ","Ṣ","Ṥ","Ṧ","Ṩ","Ṫ","Ṭ","Ṯ","Ṱ","Ṳ","Ṵ","Ṷ","Ṹ","Ṻ","Ṽ","Ṿ","Ẁ","Ẃ","Ẅ","Ẇ","Ẉ","Ẋ","Ẍ","Ẏ","Ẑ","Ẓ","Ẕ","ẞ","Ạ","Ả","Ấ","Ầ","Ẩ","Ẫ","Ậ","Ắ","Ằ","Ẳ","Ẵ","Ặ","Ẹ","Ẻ","Ẽ","Ế","Ề","Ể","Ễ","Ệ","Ỉ","Ị","Ọ","Ỏ","Ố","Ồ","Ổ","Ỗ","Ộ","Ớ","Ờ","Ở","Ỡ","Ợ","Ụ","Ủ","Ứ","Ừ","Ử","Ữ","Ự","Ỳ","Ỵ","Ỷ","Ỹ","Ỻ","Ỽ","Ỿ",["Ἀ","Ἇ"],["Ἐ","Ἕ"],["Ἠ","Ἧ"],["Ἰ","Ἷ"],["Ὀ","Ὅ"],"Ὑ","Ὓ","Ὕ","Ὗ",["Ὠ","Ὧ"],["Ᾰ","Ά"],["Ὲ","Ή"],["Ῐ","Ί"],["Ῠ","Ῥ"],["Ὸ","Ώ"],"ℂ","ℇ",["ℋ","ℍ"],["ℐ","ℒ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℰ","ℳ"],["ℾ","ℿ"],"ⅅ","Ↄ",["Ⰰ","Ⱞ"],"Ⱡ",["Ɫ","Ɽ"],"Ⱨ","Ⱪ","Ⱬ",["Ɑ","Ɒ"],"Ⱳ","Ⱶ",["Ȿ","Ⲁ"],"Ⲃ","Ⲅ","Ⲇ","Ⲉ","Ⲋ","Ⲍ","Ⲏ","Ⲑ","Ⲓ","Ⲕ","Ⲗ","Ⲙ","Ⲛ","Ⲝ","Ⲟ","Ⲡ","Ⲣ","Ⲥ","Ⲧ","Ⲩ","Ⲫ","Ⲭ","Ⲯ","Ⲱ","Ⲳ","Ⲵ","Ⲷ","Ⲹ","Ⲻ","Ⲽ","Ⲿ","Ⳁ","Ⳃ","Ⳅ","Ⳇ","Ⳉ","Ⳋ","Ⳍ","Ⳏ","Ⳑ","Ⳓ","Ⳕ","Ⳗ","Ⳙ","Ⳛ","Ⳝ","Ⳟ","Ⳡ","Ⳣ","Ⳬ","Ⳮ","Ⳳ","Ꙁ","Ꙃ","Ꙅ","Ꙇ","Ꙉ","Ꙋ","Ꙍ","Ꙏ","Ꙑ","Ꙓ","Ꙕ","Ꙗ","Ꙙ","Ꙛ","Ꙝ","Ꙟ","Ꙡ","Ꙣ","Ꙥ","Ꙧ","Ꙩ","Ꙫ","Ꙭ","Ꚁ","Ꚃ","Ꚅ","Ꚇ","Ꚉ","Ꚋ","Ꚍ","Ꚏ","Ꚑ","Ꚓ","Ꚕ","Ꚗ","Ꚙ","Ꚛ","Ꜣ","Ꜥ","Ꜧ","Ꜩ","Ꜫ","Ꜭ","Ꜯ","Ꜳ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ꜿ","Ꝁ","Ꝃ","Ꝅ","Ꝇ","Ꝉ","Ꝋ","Ꝍ","Ꝏ","Ꝑ","Ꝓ","Ꝕ","Ꝗ","Ꝙ","Ꝛ","Ꝝ","Ꝟ","Ꝡ","Ꝣ","Ꝥ","Ꝧ","Ꝩ","Ꝫ","Ꝭ","Ꝯ","Ꝺ","Ꝼ",["Ᵹ","Ꝿ"],"Ꞁ","Ꞃ","Ꞅ","Ꞇ","Ꞌ","Ɥ","Ꞑ","Ꞓ","Ꞗ","Ꞙ","Ꞛ","Ꞝ","Ꞟ","Ꞡ","Ꞣ","Ꞥ","Ꞧ","Ꞩ",["Ɦ","Ɪ"],["Ʞ","Ꞵ"],"Ꞷ","Ꞹ",["Ａ","Ｚ"]],!1,!1),sg=ve([["ᛮ","ᛰ"],["Ⅰ","ↂ"],["ↅ","ↈ"],"〇",["〡","〩"],["〸","〺"],["ꛦ","ꛯ"]],!1,!1),ug=function(){return parseFloat(Zg())},ag=function(o){const D=o.join("");return D==="."||D==="_"},og=function(o){return new WA(o.join(""))},cg=function(o){return o},lg=function(o,D){return o.arguments_.stepsPerCycle=D,o},hg=function(o){return o},pg=function(o){return o.arguments_.alignment="polymeter_slowcat",o},mg=function(o){return D=>D.options_.weight=(D.options_.weight??1)+(o??2)-1},dg=function(o){return D=>{const F=(D.options_.reps??1)+(o??2)-1;D.options_.reps=F,D.options_.ops=D.options_.ops.filter(V=>V.type_!=="replicate"),D.options_.ops.push({type_:"replicate",arguments_:{amount:F}}),D.options_.weight=F}},fg=function(o,D,F){return V=>V.options_.ops.push({type_:"bjorklund",arguments_:{pulse:o,step:D,rotation:F}})},gg=function(o){return D=>D.options_.ops.push({type_:"stretch",arguments_:{amount:o,type:"slow"}})},Ag=function(o){return D=>D.options_.ops.push({type_:"stretch",arguments_:{amount:o,type:"fast"}})},Cg=function(o){return D=>D.options_.ops.push({type_:"degradeBy",arguments_:{amount:o,seed:vs++}})},yg=function(o){return D=>D.options_.ops.push({type_:"tail",arguments_:{element:o}})},Dg=function(o){return D=>D.options_.ops.push({type_:"range",arguments_:{element:o}})},vg=function(o,D){const F=new HA(o,{ops:[],weight:1,reps:1});for(const V of D)V(F);return F},bg=function(o,D){return new mi(D,"fastcat",void 0,!!o)},Mg=function(o){return{alignment:"stack",list:o}},Eg=function(o){return{alignment:"rand",list:o,seed:vs++}},Fg=function(o){return{alignment:"feet",list:o,seed:vs++}},Pg=function(o,D){return D&&D.list.length>0?new mi([o,...D.list],D.alignment,D.seed):o},_g=function(o,D){return new mi(D?[o,...D.list]:[o],"polymeter")},Bg=function(o){return o},wg=function(o){return{name:"struct",args:{mini:o}}},xg=function(o){return{name:"target",args:{name:o}}},Ig=function(o,D,F){return{name:"bjorklund",args:{pulse:o,step:parseInt(D)}}},Sg=function(o){return{name:"stretch",args:{amount:o}}},kg=function(o){return{name:"shift",args:{amount:"-"+o}}},Ng=function(o){return{name:"shift",args:{amount:o}}},Tg=function(o){return{name:"stretch",args:{amount:"1/"+o}}},Vg=function(o){return{name:"scale",args:{scale:o.join("")}}},Ea=function(o,D){return D},Rg=function(o,D){return D.unshift(o),new mi(D,"slowcat")},Lg=function(o){return o},Gg=function(o,D){return new zA(o.name,o.args,D)},Og=function(o){return o},Wg=function(o){return o},zg=function(o){return new Ds("setcps",{value:o})},Hg=function(o){return new Ds("setcps",{value:o/120/2})},qg=function(){return new Ds("hush")},b=0,pt=0,ci=[{line:1,column:1}],qe=0,gs=[],Y=0,li;if("startRule"in e){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');s=i[e.startRule]}function Zg(){return t.substring(pt,b)}function Fa(){return Cs(pt,b)}function mt(o,D){return{type:"literal",text:o,ignoreCase:D}}function ve(o,D,F){return{type:"class",parts:o,inverted:D,ignoreCase:F}}function jg(){return{type:"end"}}function As(o){return{type:"other",description:o}}function Pa(o){var D=ci[o],F;if(D)return D;for(F=o-1;!ci[F];)F--;for(D=ci[F],D={line:D.line,column:D.column};F<o;)t.charCodeAt(F)===10?(D.line++,D.column=1):D.column++,F++;return ci[o]=D,D}function Cs(o,D,F){var V=Pa(o),rt=Pa(D),kt={source:r,start:{offset:o,line:V.line,column:V.column},end:{offset:D,line:rt.line,column:rt.column}};return kt}function J(o){b<qe||(b>qe&&(qe=b,gs=[]),gs.push(o))}function Xg(o,D,F){return new Wn(Wn.buildMessage(o,D),o,D,F)}function _a(){var o;return o=kA(),o}function rn(){var o,D;return Y++,o=b,Ba(),D=hi(),D!==n?($g(),Jg(),pt=o,o=ug()):(b=o,o=n),Y--,o===n&&Y===0&&J(Re),o}function Kg(){var o;return t.charCodeAt(b)===46?(o=u,b++):(o=n,Y===0&&J(Ce)),o}function Yg(){var o;return de.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(ft)),o}function Ug(){var o;return xt.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(Rt)),o}function Jg(){var o,D,F,V,rt;if(o=b,D=Ug(),D!==n){if(F=Ba(),F===n&&(F=Qg()),F===n&&(F=null),V=[],rt=Kn(),rt!==n)for(;rt!==n;)V.push(rt),rt=Kn();else V=n;V!==n?(D=[D,F,V],o=D):(b=o,o=n)}else b=o,o=n;return o}function $g(){var o,D,F,V;if(o=b,D=Kg(),D!==n){if(F=[],V=Kn(),V!==n)for(;V!==n;)F.push(V),V=Kn();else F=n;F!==n?(D=[D,F],o=D):(b=o,o=n)}else b=o,o=n;return o}function hi(){var o,D,F,V;if(o=tA(),o===n)if(o=b,D=Yg(),D!==n){for(F=[],V=Kn();V!==n;)F.push(V),V=Kn();D=[D,F],o=D}else b=o,o=n;return o}function Ba(){var o;return t.charCodeAt(b)===45?(o=a,b++):(o=n,Y===0&&J(ut)),o}function Qg(){var o;return t.charCodeAt(b)===43?(o=c,b++):(o=n,Y===0&&J(Ot)),o}function tA(){var o;return t.charCodeAt(b)===48?(o=h,b++):(o=n,Y===0&&J(wt)),o}function Kn(){var o;return dn.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(xr)),o}function ct(){var o,D;for(Y++,o=[],It.test(t.charAt(b))?(D=t.charAt(b),b++):(D=n,Y===0&&J(Dt));D!==n;)o.push(D),It.test(t.charAt(b))?(D=t.charAt(b),b++):(D=n,Y===0&&J(Dt));return Y--,D=n,Y===0&&J(An),o}function Yn(){var o,D,F,V;return o=b,D=ct(),t.charCodeAt(b)===44?(F=m,b++):(F=n,Y===0&&J(en)),F!==n?(V=ct(),D=[D,F,V],o=D):(b=o,o=n),o}function wa(){var o,D,F,V;return o=b,D=ct(),t.charCodeAt(b)===124?(F=p,b++):(F=n,Y===0&&J(oe)),F!==n?(V=ct(),D=[D,F,V],o=D):(b=o,o=n),o}function xa(){var o,D,F,V;return o=b,D=ct(),t.charCodeAt(b)===46?(F=u,b++):(F=n,Y===0&&J(Ce)),F!==n?(V=ct(),D=[D,F,V],o=D):(b=o,o=n),o}function Un(){var o;return t.charCodeAt(b)===34?(o=d,b++):(o=n,Y===0&&J(St)),o===n&&(t.charCodeAt(b)===39?(o=g,b++):(o=n,Y===0&&J(Nn))),o}function pi(){var o;return Y++,o=NA(),o===n&&(fn.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(st)),o===n&&(t.charCodeAt(b)===45?(o=a,b++):(o=n,Y===0&&J(ut)),o===n&&(t.charCodeAt(b)===35?(o=M,b++):(o=n,Y===0&&J(Lt)),o===n&&(t.charCodeAt(b)===46?(o=u,b++):(o=n,Y===0&&J(Ce)),o===n&&(t.charCodeAt(b)===94?(o=v,b++):(o=n,Y===0&&J(ye)),o===n&&(t.charCodeAt(b)===95?(o=P,b++):(o=n,Y===0&&J(ce)))))))),Y--,o===n&&Y===0&&J(Xn),o}function Ia(){var o,D,F,V;if(o=b,ct(),D=[],F=pi(),F!==n)for(;F!==n;)D.push(F),F=pi();else D=n;return D!==n?(F=ct(),pt=b,V=ag(D),V?V=n:V=void 0,V!==n?(pt=o,o=og(D)):(b=o,o=n)):(b=o,o=n),o}function eA(){var o,D,F,V;return o=b,ct(),t.charCodeAt(b)===91?(D=B,b++):(D=n,Y===0&&J(Ir)),D!==n?(ct(),F=Na(),F!==n?(ct(),t.charCodeAt(b)===93?(V=S,b++):(V=n,Y===0&&J(ui)),V!==n?(ct(),pt=o,o=cg(F)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n),o}function nA(){var o,D,F,V,rt;return o=b,ct(),t.charCodeAt(b)===123?(D=O,b++):(D=n,Y===0&&J(fs)),D!==n?(ct(),F=Ta(),F!==n?(ct(),t.charCodeAt(b)===125?(V=w,b++):(V=n,Y===0&&J(l)),V!==n?(rt=rA(),rt===n&&(rt=null),ct(),pt=o,o=lg(F,rt)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n),o}function rA(){var o,D,F;return o=b,t.charCodeAt(b)===37?(D=_,b++):(D=n,Y===0&&J(A)),D!==n?(F=Jn(),F!==n?(pt=o,o=hg(F)):(b=o,o=n)):(b=o,o=n),o}function iA(){var o,D,F,V;return o=b,ct(),t.charCodeAt(b)===60?(D=k,b++):(D=n,Y===0&&J(f)),D!==n?(ct(),F=Ta(),F!==n?(ct(),t.charCodeAt(b)===62?(V=I,b++):(V=n,Y===0&&J(C)),V!==n?(ct(),pt=o,o=pg(F)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n),o}function Jn(){var o;return o=Ia(),o===n&&(o=eA(),o===n&&(o=nA(),o===n&&(o=iA()))),o}function Sa(){var o;return o=sA(),o===n&&(o=aA(),o===n&&(o=oA(),o===n&&(o=cA(),o===n&&(o=uA(),o===n&&(o=lA(),o===n&&(o=hA(),o===n&&(o=pA()))))))),o}function sA(){var o,D,F;return o=b,ct(),t.charCodeAt(b)===64?(D=T,b++):(D=n,Y===0&&J(E)),D===n&&(t.charCodeAt(b)===95?(D=P,b++):(D=n,Y===0&&J(ce))),D!==n?(F=rn(),F===n&&(F=null),pt=o,o=mg(F)):(b=o,o=n),o}function uA(){var o,D,F;return o=b,ct(),t.charCodeAt(b)===33?(D=H,b++):(D=n,Y===0&&J(N)),D!==n?(F=rn(),F===n&&(F=null),pt=o,o=dg(F)):(b=o,o=n),o}function aA(){var o,D,F,V,rt,kt,Le;return o=b,t.charCodeAt(b)===40?(D=G,b++):(D=n,Y===0&&J(R)),D!==n?(ct(),F=Sr(),F!==n?(ct(),V=Yn(),V!==n?(ct(),rt=Sr(),rt!==n?(ct(),Yn(),ct(),kt=Sr(),kt===n&&(kt=null),ct(),t.charCodeAt(b)===41?(Le=Z,b++):(Le=n,Y===0&&J(z)),Le!==n?(pt=o,o=fg(F,rt,kt)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n),o}function oA(){var o,D,F;return o=b,t.charCodeAt(b)===47?(D=W,b++):(D=n,Y===0&&J(U)),D!==n?(F=Jn(),F!==n?(pt=o,o=gg(F)):(b=o,o=n)):(b=o,o=n),o}function cA(){var o,D,F;return o=b,t.charCodeAt(b)===42?(D=q,b++):(D=n,Y===0&&J(dt)),D!==n?(F=Jn(),F!==n?(pt=o,o=Ag(F)):(b=o,o=n)):(b=o,o=n),o}function lA(){var o,D,F;return o=b,t.charCodeAt(b)===63?(D=X,b++):(D=n,Y===0&&J(zt)),D!==n?(F=rn(),F===n&&(F=null),pt=o,o=Cg(F)):(b=o,o=n),o}function hA(){var o,D,F;return o=b,t.charCodeAt(b)===58?(D=ht,b++):(D=n,Y===0&&J(nn)),D!==n?(F=Jn(),F!==n?(pt=o,o=yg(F)):(b=o,o=n)):(b=o,o=n),o}function pA(){var o,D,F;return o=b,t.substr(b,2)===tt?(D=tt,b+=2):(D=n,Y===0&&J(Cn)),D!==n?(F=Jn(),F!==n?(pt=o,o=Dg(F)):(b=o,o=n)):(b=o,o=n),o}function Sr(){var o,D,F,V;if(o=b,D=Jn(),D!==n){for(F=[],V=Sa();V!==n;)F.push(V),V=Sa();pt=o,o=vg(D,F)}else b=o,o=n;return o}function yn(){var o,D,F,V;if(o=b,t.charCodeAt(b)===94?(D=v,b++):(D=n,Y===0&&J(ye)),D===n&&(D=null),F=[],V=Sr(),V!==n)for(;V!==n;)F.push(V),V=Sr();else F=n;return F!==n?(pt=o,o=bg(D,F)):(b=o,o=n),o}function ka(){var o,D,F,V,rt;if(o=b,D=[],F=b,V=Yn(),V!==n?(rt=yn(),rt!==n?F=rt:(b=F,F=n)):(b=F,F=n),F!==n)for(;F!==n;)D.push(F),F=b,V=Yn(),V!==n?(rt=yn(),rt!==n?F=rt:(b=F,F=n)):(b=F,F=n);else D=n;return D!==n&&(pt=o,D=Mg(D)),o=D,o}function mA(){var o,D,F,V,rt;if(o=b,D=[],F=b,V=wa(),V!==n?(rt=yn(),rt!==n?F=rt:(b=F,F=n)):(b=F,F=n),F!==n)for(;F!==n;)D.push(F),F=b,V=wa(),V!==n?(rt=yn(),rt!==n?F=rt:(b=F,F=n)):(b=F,F=n);else D=n;return D!==n&&(pt=o,D=Eg(D)),o=D,o}function dA(){var o,D,F,V,rt;if(o=b,D=[],F=b,V=xa(),V!==n?(rt=yn(),rt!==n?F=rt:(b=F,F=n)):(b=F,F=n),F!==n)for(;F!==n;)D.push(F),F=b,V=xa(),V!==n?(rt=yn(),rt!==n?F=rt:(b=F,F=n)):(b=F,F=n);else D=n;return D!==n&&(pt=o,D=Fg(D)),o=D,o}function Na(){var o,D,F;return o=b,D=yn(),D!==n?(F=ka(),F===n&&(F=mA(),F===n&&(F=dA())),F===n&&(F=null),pt=o,o=Pg(D,F)):(b=o,o=n),o}function Ta(){var o,D,F;return o=b,D=yn(),D!==n?(F=ka(),F===n&&(F=null),pt=o,o=_g(D,F)):(b=o,o=n),o}function fA(){var o,D,F,V;return o=b,ct(),D=Un(),D!==n?(ct(),F=Na(),F!==n?(ct(),V=Un(),V!==n?(pt=o,o=Bg(F)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n),o}function gA(){var o;return o=EA(),o===n&&(o=DA(),o===n&&(o=MA(),o===n&&(o=CA(),o===n&&(o=yA(),o===n&&(o=AA(),o===n&&(o=bA(),o===n&&(o=vA()))))))),o}function AA(){var o,D,F;return o=b,t.substr(b,6)===at?(D=at,b+=6):(D=n,Y===0&&J(ai)),D!==n?(ct(),F=$n(),F!==n?(pt=o,o=wg(F)):(b=o,o=n)):(b=o,o=n),o}function CA(){var o,D,F,V,rt;return o=b,t.substr(b,6)===ot?(D=ot,b+=6):(D=n,Y===0&&J(oi)),D!==n?(ct(),F=Un(),F!==n?(V=Ia(),V!==n?(rt=Un(),rt!==n?(pt=o,o=xg(V)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n),o}function yA(){var o,D,F,V;return o=b,t.substr(b,6)===Mt?(D=Mt,b+=6):(D=n,Y===0&&J(De)),D!==n?(ct(),F=hi(),F!==n?(ct(),V=hi(),V!==n?(ct(),hi(),pt=o,o=Ig(F,V)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n),o}function DA(){var o,D,F;return o=b,t.substr(b,4)===ae?(D=ae,b+=4):(D=n,Y===0&&J(Hf)),D!==n?(ct(),F=rn(),F!==n?(pt=o,o=Sg(F)):(b=o,o=n)):(b=o,o=n),o}function vA(){var o,D,F;return o=b,t.substr(b,4)===Qt?(D=Qt,b+=4):(D=n,Y===0&&J(qf)),D!==n?(ct(),F=rn(),F!==n?(pt=o,o=kg(F)):(b=o,o=n)):(b=o,o=n),o}function bA(){var o,D,F;return o=b,t.substr(b,4)===j?(D=j,b+=4):(D=n,Y===0&&J(Zf)),D!==n?(ct(),F=rn(),F!==n?(pt=o,o=Ng(F)):(b=o,o=n)):(b=o,o=n),o}function MA(){var o,D,F;return o=b,t.substr(b,4)===te?(D=te,b+=4):(D=n,Y===0&&J(jf)),D!==n?(ct(),F=rn(),F!==n?(pt=o,o=Tg(F)):(b=o,o=n)):(b=o,o=n),o}function EA(){var o,D,F,V,rt;if(o=b,t.substr(b,5)===ne?(D=ne,b+=5):(D=n,Y===0&&J(Xf)),D!==n)if(ct(),F=Un(),F!==n){if(V=[],rt=pi(),rt!==n)for(;rt!==n;)V.push(rt),rt=pi();else V=n;V!==n?(rt=Un(),rt!==n?(pt=o,o=Vg(V)):(b=o,o=n)):(b=o,o=n)}else b=o,o=n;else b=o,o=n;return o}function ys(){var o,D,F,V;if(o=b,t.substr(b,2)===ge?(D=ge,b+=2):(D=n,Y===0&&J(Kf)),D!==n){for(F=[],Ae.test(t.charAt(b))?(V=t.charAt(b),b++):(V=n,Y===0&&J(Ma));V!==n;)F.push(V),Ae.test(t.charAt(b))?(V=t.charAt(b),b++):(V=n,Y===0&&J(Ma));D=[D,F],o=D}else b=o,o=n;return o}function FA(){var o,D,F,V,rt,kt,Le,Qn;if(o=b,t.substr(b,3)===Et?(D=Et,b+=3):(D=n,Y===0&&J(Yf)),D!==n)if(ct(),t.charCodeAt(b)===91?(F=B,b++):(F=n,Y===0&&J(Ir)),F!==n)if(ct(),V=$n(),V!==n){for(rt=[],kt=b,Le=Yn(),Le!==n?(Qn=$n(),Qn!==n?(pt=kt,kt=Ea(V,Qn)):(b=kt,kt=n)):(b=kt,kt=n);kt!==n;)rt.push(kt),kt=b,Le=Yn(),Le!==n?(Qn=$n(),Qn!==n?(pt=kt,kt=Ea(V,Qn)):(b=kt,kt=n)):(b=kt,kt=n);kt=ct(),t.charCodeAt(b)===93?(Le=S,b++):(Le=n,Y===0&&J(ui)),Le!==n?(pt=o,o=Rg(V,rt)):(b=o,o=n)}else b=o,o=n;else b=o,o=n;else b=o,o=n;return o}function PA(){var o;return o=FA(),o===n&&(o=fA()),o}function $n(){var o,D,F,V,rt;if(o=b,D=PA(),D!==n){for(ct(),F=[],V=ys();V!==n;)F.push(V),V=ys();pt=o,o=Lg(D)}else b=o,o=n;return o===n&&(o=b,D=gA(),D!==n?(ct(),t.charCodeAt(b)===36?(F=Ut,b++):(F=n,Y===0&&J(Uf)),F!==n?(V=ct(),rt=$n(),rt!==n?(pt=o,o=Gg(D,rt)):(b=o,o=n)):(b=o,o=n)):(b=o,o=n)),o}function _A(){var o,D;return o=b,D=$n(),D!==n&&(pt=o,D=Og(D)),o=D,o===n&&(o=ys()),o}function BA(){var o;return o=_A(),o}function wA(){var o,D;return o=b,ct(),D=xA(),D===n&&(D=IA(),D===n&&(D=SA())),D!==n?(ct(),pt=o,o=Wg(D)):(b=o,o=n),o}function xA(){var o,D,F;return o=b,t.substr(b,6)===yt?(D=yt,b+=6):(D=n,Y===0&&J(Jf)),D!==n?(ct(),F=rn(),F!==n?(pt=o,o=zg(F)):(b=o,o=n)):(b=o,o=n),o}function IA(){var o,D,F;return o=b,t.substr(b,6)===Wt?(D=Wt,b+=6):(D=n,Y===0&&J($f)),D!==n?(ct(),F=rn(),F!==n?(pt=o,o=Hg(F)):(b=o,o=n)):(b=o,o=n),o}function SA(){var o,D;return o=b,t.substr(b,4)===me?(D=me,b+=4):(D=n,Y===0&&J(Qf)),D!==n&&(pt=o,D=qg()),o=D,o}function kA(){var o;return o=BA(),o===n&&(o=wA()),o}function NA(){var o;return o=GA(),o===n&&(o=TA(),o===n&&(o=LA(),o===n&&(o=VA(),o===n&&(o=RA(),o===n&&(o=OA()))))),o}function TA(){var o;return Ve.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(tg)),o}function VA(){var o;return Je.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(eg)),o}function RA(){var o;return $e.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(ng)),o}function LA(){var o;return Qe.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(rg)),o}function GA(){var o;return gn.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(ig)),o}function OA(){var o;return tn.test(t.charAt(b))?(o=t.charAt(b),b++):(o=n,Y===0&&J(sg)),o}var WA=function(o){this.type_="atom",this.source_=o,this.location_=Fa()},mi=function(o,D,F,V){this.type_="pattern",this.arguments_={alignment:D,tactus:V},F!==void 0&&(this.arguments_.seed=F),this.source_=o},zA=function(o,D,F){this.type_=o,this.arguments_=D,this.source_=F},HA=function(o,D){this.type_="element",this.source_=o,this.options_=D,this.location_=Fa()},Ds=function(o,D){this.type_="command",this.name_=o,this.options_=D},vs=0;if(li=s(),li!==n&&b===t.length)return li;throw li!==n&&b<t.length&&J(jg()),Xg(gs,qe<t.length?t.charAt(qe):null,qe<t.length?Cs(qe,qe+1):Cs(qe,qe))}const Km=3e-4,ov=(t,e)=>(n,r)=>{var s;const i=(s=t.source_[r].options_)==null?void 0:s.ops;if(i)for(const u of i)switch(u.type_){case"stretch":{const a=["fast","slow"],{type:c,amount:h}=u.arguments_;if(!a.includes(c))throw new Error(`mini: stretch: type must be one of ${a.join("|")} but got ${c}`);n=$(n)[c](e(h));break}case"replicate":{const{amount:a}=u.arguments_;n=$(n),n=n._repeatCycles(a)._fast(a);break}case"bjorklund":{u.arguments_.rotation?n=n.euclidRot(e(u.arguments_.pulse),e(u.arguments_.step),e(u.arguments_.rotation)):n=n.euclid(e(u.arguments_.pulse),e(u.arguments_.step));break}case"degradeBy":{n=$(n)._degradeByWith(pe.early(Km*u.arguments_.seed),u.arguments_.amount??.5);break}case"tail":{const a=e(u.arguments_.element);n=n.fmap(c=>h=>Array.isArray(c)?[...c,h]:[c,h]).appLeft(a);break}case"range":{const a=e(u.arguments_.element);n=$(n);const c=(h,m,p=1)=>Array.from({length:Math.abs(m-h)/p+1},(d,g)=>h<m?h+g*p:h-g*p);n=((h,m)=>h.squeezeBind(p=>m.bind(d=>Se(...c(p,d)))))(n,a);break}default:console.warn(`operator "${u.type_}" not implemented`)}return n};function Cr(t,e,n,r=0){n==null||n(t);const i=s=>Cr(s,e,n,r);switch(t.type_){case"pattern":{const s=t.source_.map(h=>i(h)).map(ov(t,i)),u=t.arguments_.alignment,a=s.filter(h=>h.__tactus_source);let c;switch(u){case"stack":{c=Vt(...s),a.length&&(c.tactus=on(...a.map(h=>K(h.tactus))));break}case"polymeter_slowcat":{c=Vt(...s.map(h=>h._slow(h.__weight))),a.length&&(c.tactus=on(...a.map(h=>K(h.tactus))));break}case"polymeter":{const h=t.arguments_.stepsPerCycle?i(t.arguments_.stepsPerCycle).fmap(p=>K(p)):ie(K(s.length>0?s[0].__weight:1)),m=s.map(p=>p.fast(h.fmap(d=>d.div(p.__weight))));c=Vt(...m);break}case"rand":{c=Gu(pe.early(Km*t.arguments_.seed).segment(1),s),a.length&&(c.tactus=on(...a.map(h=>K(h.tactus))));break}case"feet":{c=Se(...s);break}default:{if(t.source_.some(h=>{var m;return!!((m=h.options_)!=null&&m.weight)})){const h=t.source_.reduce((m,p)=>{var d;return m.add(((d=p.options_)==null?void 0:d.weight)||K(1))},K(0));c=xu(...t.source_.map((m,p)=>{var d;return[((d=m.options_)==null?void 0:d.weight)||K(1),s[p]]})),c.__weight=h,c.tactus=h,a.length&&(c.tactus=c.tactus.mul(on(...a.map(m=>K(m.tactus)))))}else c=xe(...s),c.tactus=s.length;t.arguments_.tactus&&(c.__tactus_source=!0)}}return a.length&&(c.__tactus_source=!0),c}case"element":return i(t.source_);case"atom":{if(t.source_==="~"||t.source_==="-")return Bt;if(!t.location_)return console.warn("no location for",t),t.source_;const s=isNaN(Number(t.source_))?t.source_:Number(t.source_);if(r===-1)return ie(s);const[u,a]=Ku(e,t,r);return ie(s).withLoc(u,a)}case"stretch":return i(t.source_).slow(i(t.arguments_.amount));default:return console.warn(`node type "${t.type_}" not implemented -> returning silence`),Bt}}const Ku=(t,e,n=0)=>{const{start:r,end:i}=e.location_,s=t==null?void 0:t.split("").slice(r.offset,i.offset).join(""),[u=0,a=0]=s?s.split(e.source_).map(c=>c.split("").filter(h=>h===" ").length):[];return[r.offset+u+n,i.offset-a+n]},Kr=(t,e=0,n=t)=>{try{return Xm(t)}catch(r){const i=[r.location.start.offset+e,r.location.end.offset+e],s=n.slice(0,i[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${s}: ${r.message}`)}},Ym=(t,e,n)=>{const r=Kr(t,e,n);let i=[];return Cr(r,t,s=>{s.type_==="atom"&&i.push(s)},-1),i},Yu=(t,e=0,n)=>Ym(t,e,n).map(r=>Ku(t,r,e)),Uu=(...t)=>{const e=t.map(n=>{const r=`"${n}"`,i=Kr(r);return Cr(i,r)});return xe(...e)},cv=(t,e)=>{const n=`"${t}"`,r=Kr(n);return Cr(r,n,null,e)},lv=t=>{const e=Kr(t);return Cr(e,t)};function hv(t){return typeof t=="string"?Uu(t):$(t)}function Um(){Pc(Uu)}const pv=Object.freeze(Object.defineProperty({__proto__:null,SyntaxError:Wn,getLeafLocation:Ku,getLeafLocations:Yu,getLeaves:Ym,h:lv,m:cv,mini:Uu,mini2ast:Kr,miniAllStrings:Um,minify:hv,parse:Xm,patternifyAST:Cr},Symbol.toStringTag,{value:"Module"}));var mv=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Jm=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],dv="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",$m="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",ws={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},xs="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",fv={5:xs,"5module":xs+" export import",6:xs+" const class extends export import super"},gv=/^in(stanceof)?$/,Av=new RegExp("["+$m+"]"),Cv=new RegExp("["+$m+dv+"]");function Qs(t,e){for(var n=65536,r=0;r<e.length;r+=2){if(n+=e[r],n>t)return!1;if(n+=e[r+1],n>=t)return!0}return!1}function ln(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&Av.test(String.fromCharCode(t)):e===!1?!1:Qs(t,Jm)}function hr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&Cv.test(String.fromCharCode(t)):e===!1?!1:Qs(t,Jm)||Qs(t,mv)}var vt=function(t,e){e===void 0&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function be(t,e){return new vt(t,{beforeExpr:!0,binop:e})}var Me={beforeExpr:!0},le={startsExpr:!0},Ju={};function At(t,e){return e===void 0&&(e={}),e.keyword=t,Ju[t]=new vt(t,e)}var y={num:new vt("num",le),regexp:new vt("regexp",le),string:new vt("string",le),name:new vt("name",le),privateId:new vt("privateId",le),eof:new vt("eof"),bracketL:new vt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new vt("]"),braceL:new vt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new vt("}"),parenL:new vt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new vt(")"),comma:new vt(",",Me),semi:new vt(";",Me),colon:new vt(":",Me),dot:new vt("."),question:new vt("?",Me),questionDot:new vt("?."),arrow:new vt("=>",Me),template:new vt("template"),invalidTemplate:new vt("invalidTemplate"),ellipsis:new vt("...",Me),backQuote:new vt("`",le),dollarBraceL:new vt("${",{beforeExpr:!0,startsExpr:!0}),eq:new vt("=",{beforeExpr:!0,isAssign:!0}),assign:new vt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new vt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new vt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:be("||",1),logicalAND:be("&&",2),bitwiseOR:be("|",3),bitwiseXOR:be("^",4),bitwiseAND:be("&",5),equality:be("==/!=/===/!==",6),relational:be("</>/<=/>=",7),bitShift:be("<</>>/>>>",8),plusMin:new vt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:be("%",10),star:be("*",10),slash:be("/",10),starstar:new vt("**",{beforeExpr:!0}),coalesce:be("??",1),_break:At("break"),_case:At("case",Me),_catch:At("catch"),_continue:At("continue"),_debugger:At("debugger"),_default:At("default",Me),_do:At("do",{isLoop:!0,beforeExpr:!0}),_else:At("else",Me),_finally:At("finally"),_for:At("for",{isLoop:!0}),_function:At("function",le),_if:At("if"),_return:At("return",Me),_switch:At("switch"),_throw:At("throw",Me),_try:At("try"),_var:At("var"),_const:At("const"),_while:At("while",{isLoop:!0}),_with:At("with"),_new:At("new",{beforeExpr:!0,startsExpr:!0}),_this:At("this",le),_super:At("super",le),_class:At("class",le),_extends:At("extends",Me),_export:At("export"),_import:At("import",le),_null:At("null",le),_true:At("true",le),_false:At("false",le),_in:At("in",{beforeExpr:!0,binop:7}),_instanceof:At("instanceof",{beforeExpr:!0,binop:7}),_typeof:At("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:At("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:At("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ke=/\r\n?|\n|\u2028|\u2029/,yv=new RegExp(ke.source,"g");function yr(t){return t===10||t===13||t===8232||t===8233}function Qm(t,e,n){n===void 0&&(n=t.length);for(var r=e;r<n;r++){var i=t.charCodeAt(r);if(yr(i))return r<n-1&&i===13&&t.charCodeAt(r+1)===10?r+2:r+1}return-1}var td=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,_e=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ed=Object.prototype,Dv=ed.hasOwnProperty,vv=ed.toString,Yr=Object.hasOwn||function(t,e){return Dv.call(t,e)},mo=Array.isArray||function(t){return vv.call(t)==="[object Array]"},fo=Object.create(null);function Fn(t){return fo[t]||(fo[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function wn(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var bv=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Zr=function(t,e){this.line=t,this.column=e};Zr.prototype.offset=function(t){return new Zr(this.line,this.column+t)};var Ui=function(t,e,n){this.start=e,this.end=n,t.sourceFile!==null&&(this.source=t.sourceFile)};function nd(t,e){for(var n=1,r=0;;){var i=Qm(t,r,e);if(i<0)return new Zr(n,e-r);++n,r=i}}var tu={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},go=!1;function Mv(t){var e={};for(var n in tu)e[n]=t&&Yr(t,n)?t[n]:tu[n];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!go&&typeof console=="object"&&console.warn&&(go=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),mo(e.onToken)){var r=e.onToken;e.onToken=function(i){return r.push(i)}}return mo(e.onComment)&&(e.onComment=Ev(e,e.onComment)),e}function Ev(t,e){return function(n,r,i,s,u,a){var c={type:n?"Block":"Line",value:r,start:i,end:s};t.locations&&(c.loc=new Ui(this,u,a)),t.ranges&&(c.range=[i,s]),e.push(c)}}var jr=1,Dr=2,$u=4,rd=8,id=16,sd=32,Qu=64,ud=128,Ur=256,ta=jr|Dr|Ur;function ea(t,e){return Dr|(t?$u:0)|(e?rd:0)}var Ni=0,na=1,mn=2,ad=3,od=4,cd=5,Jt=function(t,e,n){this.options=t=Mv(t),this.sourceFile=t.sourceFile,this.keywords=Fn(fv[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var r="";t.allowReserved!==!0&&(r=ws[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(r+=" await")),this.reservedWords=Fn(r);var i=(r?r+" ":"")+ws.strict;this.reservedWordsStrict=Fn(i),this.reservedWordsStrictBind=Fn(i+" "+ws.strictBind),this.input=String(e),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ke).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=y.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(jr),this.regexpState=null,this.privateNameStack=[]},Ye={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Jt.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Ye.inFunction.get=function(){return(this.currentVarScope().flags&Dr)>0};Ye.inGenerator.get=function(){return(this.currentVarScope().flags&rd)>0&&!this.currentVarScope().inClassFieldInit};Ye.inAsync.get=function(){return(this.currentVarScope().flags&$u)>0&&!this.currentVarScope().inClassFieldInit};Ye.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Ur)return!1;if(e.flags&Dr)return(e.flags&$u)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Ye.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&Qu)>0||n||this.options.allowSuperOutsideMethod};Ye.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ud)>0};Ye.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Ye.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&(Dr|Ur))>0||n};Ye.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Ur)>0};Jt.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=this,r=0;r<t.length;r++)n=t[r](n);return n};Jt.parse=function(t,e){return new this(e,t).parse()};Jt.parseExpressionAt=function(t,e,n){var r=new this(n,t,e);return r.nextToken(),r.parseExpression()};Jt.tokenizer=function(t,e){return new this(e,t)};Object.defineProperties(Jt.prototype,Ye);var ue=Jt.prototype,Fv=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;ue.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){_e.lastIndex=t,t+=_e.exec(this.input)[0].length;var e=Fv.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){_e.lastIndex=t+e[0].length;var n=_e.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ke.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}t+=e[0].length,_e.lastIndex=t,t+=_e.exec(this.input)[0].length,this.input[t]===";"&&t++}};ue.eat=function(t){return this.type===t?(this.next(),!0):!1};ue.isContextual=function(t){return this.type===y.name&&this.value===t&&!this.containsEsc};ue.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};ue.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};ue.canInsertSemicolon=function(){return this.type===y.eof||this.type===y.braceR||ke.test(this.input.slice(this.lastTokEnd,this.start))};ue.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ue.semicolon=function(){!this.eat(y.semi)&&!this.insertSemicolon()&&this.unexpected()};ue.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};ue.expect=function(t){this.eat(t)||this.unexpected()};ue.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var Ji=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ue.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}};ue.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};ue.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ue.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var it=Jt.prototype;it.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==y.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var ra={kind:"loop"},Pv={kind:"switch"};it.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;_e.lastIndex=this.pos;var e=_e.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(t)return!1;if(r===123||r>55295&&r<56320)return!0;if(ln(r,!0)){for(var i=n+1;hr(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!gv.test(s))return!0}return!1};it.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;_e.lastIndex=this.pos;var t=_e.exec(this.input),e=this.pos+t[0].length,n;return!ke.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(hr(n=this.input.charCodeAt(e+8))||n>55295&&n<56320))};it.parseStatement=function(t,e,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(t)&&(r=y._var,s="let"),r){case y._break:case y._continue:return this.parseBreakContinueStatement(i,r.keyword);case y._debugger:return this.parseDebuggerStatement(i);case y._do:return this.parseDoStatement(i);case y._for:return this.parseForStatement(i);case y._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!t);case y._class:return t&&this.unexpected(),this.parseClass(i,!0);case y._if:return this.parseIfStatement(i);case y._return:return this.parseReturnStatement(i);case y._switch:return this.parseSwitchStatement(i);case y._throw:return this.parseThrowStatement(i);case y._try:return this.parseTryStatement(i);case y._const:case y._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case y._while:return this.parseWhileStatement(i);case y._with:return this.parseWithStatement(i);case y.braceL:return this.parseBlock(!0,i);case y.semi:return this.parseEmptyStatement(i);case y._export:case y._import:if(this.options.ecmaVersion>10&&r===y._import){_e.lastIndex=this.pos;var u=_e.exec(this.input),a=this.pos+u[0].length,c=this.input.charCodeAt(a);if(c===40||c===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===y._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!t);var h=this.value,m=this.parseExpression();return r===y.name&&m.type==="Identifier"&&this.eat(y.colon)?this.parseLabeledStatement(i,h,m,t):this.parseExpressionStatement(i,m)}};it.parseBreakContinueStatement=function(t,e){var n=e==="break";this.next(),this.eat(y.semi)||this.insertSemicolon()?t.label=null:this.type!==y.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((t.label==null||i.name===t.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||t.label&&n))break}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")};it.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};it.parseDoStatement=function(t){return this.next(),this.labels.push(ra),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(y._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(y.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};it.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ra),this.enterScope(0),this.expect(y.parenL),this.type===y.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===y._var||this.type===y._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===y._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===y._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var s=this.isContextual("let"),u=!1,a=new Ji,c=this.parseExpression(e>-1?"await":!0,a);return this.type===y._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===y._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&u&&this.raise(c.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(c,!1,a),this.checkLValPattern(c),this.parseForIn(t,c)):(this.checkExpressionErrors(a,!0),e>-1&&this.unexpected(e),this.parseFor(t,c))};it.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,Or|(n?0:eu),!1,e)};it.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(y._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};it.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(y.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};it.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(y.braceL),this.labels.push(Pv),this.enterScope(0);for(var e,n=!1;this.type!==y.braceR;)if(this.type===y._case||this.type===y._default){var r=this.type===y._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(y.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};it.parseThrowStatement=function(t){return this.next(),ke.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var _v=[];it.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?sd:0),this.checkLValPattern(t,e?od:mn),this.expect(y.parenR),t};it.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===y._catch){var e=this.startNode();this.next(),this.eat(y.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(y._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};it.parseVarStatement=function(t,e,n){return this.next(),this.parseVar(t,!1,e,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")};it.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(ra),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};it.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};it.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};it.parseLabeledStatement=function(t,e,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var u=s[i];u.name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===y._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var h=this.labels[c];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=a;else break}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")};it.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};it.parseBlock=function(t,e,n){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(y.braceL),t&&this.enterScope(0);this.type!==y.braceR;){var r=this.parseStatement(null);e.body.push(r)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};it.parseFor=function(t,e){return t.init=e,this.expect(y.semi),t.test=this.type===y.semi?null:this.parseExpression(),this.expect(y.semi),t.update=this.type===y.parenR?null:this.parseExpression(),this.expect(y.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};it.parseForIn=function(t,e){var n=this.type===y._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(y.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")};it.parseVar=function(t,e,n,r){for(t.declarations=[],t.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(y.eq)?i.init=this.parseMaybeAssign(e):!r&&n==="const"&&!(this.type===y._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(e&&(this.type===y._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(y.comma))break}return t};it.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?na:mn,!1)};var Or=1,eu=2,ld=4;it.parseFunction=function(t,e,n,r,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===y.star&&e&eu&&this.unexpected(),t.generator=this.eat(y.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&Or&&(t.id=e&ld&&this.type!==y.name?null:this.parseIdent(),t.id&&!(e&eu)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?na:mn:ad));var s=this.yieldPos,u=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ea(t.async,t.generator)),e&Or||(t.id=this.type===y.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,i),this.yieldPos=s,this.awaitPos=u,this.awaitIdentPos=a,this.finishNode(t,e&Or?"FunctionDeclaration":"FunctionExpression")};it.parseFunctionParams=function(t){this.expect(y.parenL),t.params=this.parseBindingList(y.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};it.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(y.braceL);this.type!==y.braceR;){var u=this.parseClassElement(t.superClass!==null);u&&(i.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(s&&this.raiseRecoverable(u.start,"Duplicate constructor in the same class"),s=!0):u.key&&u.key.type==="PrivateIdentifier"&&Bv(r,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};it.parseClassElement=function(t){if(this.eat(y.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,u="method",a=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(y.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===y.star?a=!0:r="static"}if(n.static=a,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===y.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(e>=9||!s)&&this.eat(y.star)&&(i=!0),!r&&!s&&!i){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=c:r=c)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===y.parenL||u!=="method"||i||s){var h=!n.static&&Ti(n,"constructor"),m=h&&t;h&&u!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=h?"constructor":u,this.parseClassMethod(n,i,s,m)}else this.parseClassField(n);return n};it.isClassElementNameStart=function(){return this.type===y.name||this.type===y.privateId||this.type===y.num||this.type===y.string||this.type===y.bracketL||this.type.keyword};it.parseClassElementName=function(t){this.type===y.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};it.parseClassMethod=function(t,e,n,r){var i=t.key;t.kind==="constructor"?(e&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):t.static&&Ti(t,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,n,r);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};it.parseClassField=function(t){if(Ti(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Ti(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(y.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};it.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Ur|Qu);this.type!==y.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};it.parseClassId=function(t,e){this.type===y.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,mn,!1)):(e===!0&&this.unexpected(),t.id=null)};it.parseClassSuper=function(t){t.superClass=this.eat(y._extends)?this.parseExprSubscripts(null,!1):null};it.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};it.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var u=n[s];Yr(e,u.name)||(i?i.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function Bv(t,e){var n=e.key.name,r=t[n],i="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(i=(e.static?"s":"i")+e.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(t[n]="true",!1):r?!0:(t[n]=i,!1)}function Ti(t,e){var n=t.computed,r=t.key;return!n&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)}it.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==y.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};it.parseExport=function(t,e){if(this.next(),this.eat(y.star))return this.parseExportAllDeclaration(t,e);if(this.eat(y._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==y.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var n=0,r=t.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};it.parseExportDeclaration=function(t){return this.parseStatement(null)};it.parseExportDefaultDeclaration=function(){var t;if(this.type===y._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Or|ld,!1,t)}else if(this.type===y._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};it.checkExport=function(t,e,n){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Yr(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)};it.checkPatternExport=function(t,e){var n=e.type;if(n==="Identifier")this.checkExport(t,e,e.start);else if(n==="ObjectPattern")for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(t,s)}else if(n==="ArrayPattern")for(var u=0,a=e.elements;u<a.length;u+=1){var c=a[u];c&&this.checkPatternExport(t,c)}else n==="Property"?this.checkPatternExport(t,e.value):n==="AssignmentPattern"?this.checkPatternExport(t,e.left):n==="RestElement"&&this.checkPatternExport(t,e.argument)};it.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}};it.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};it.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};it.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(y.braceL);!this.eat(y.braceR);){if(n)n=!1;else if(this.expect(y.comma),this.afterTrailingComma(y.braceR))break;e.push(this.parseExportSpecifier(t))}return e};it.parseImport=function(t){return this.next(),this.type===y.string?(t.specifiers=_v,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===y.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};it.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,mn),this.finishNode(t,"ImportSpecifier")};it.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,mn),this.finishNode(t,"ImportDefaultSpecifier")};it.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,mn),this.finishNode(t,"ImportNamespaceSpecifier")};it.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===y.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(y.comma)))return t;if(this.type===y.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(y.braceL);!this.eat(y.braceR);){if(e)e=!1;else if(this.expect(y.comma),this.afterTrailingComma(y.braceR))break;t.push(this.parseImportSpecifier())}return t};it.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===y.string){var t=this.parseLiteral(this.value);return bv.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};it.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};it.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Ne=Jt.prototype;Ne.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t};Ne.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var s=t[n-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Ne.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Ne.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==y.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Ne.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case y.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(y.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case y.braceL:return this.parseObj(!0)}return this.parseIdent()};Ne.parseBindingList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(y.comma),e&&this.type===y.comma)i.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===y.ellipsis){var u=this.parseRestBinding();this.parseBindingListItem(u),i.push(u),this.type===y.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else i.push(this.parseAssignableListItem(r))}return i};Ne.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Ne.parseBindingListItem=function(t){return t};Ne.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(y.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Ne.checkLValSimple=function(t,e,n){e===void 0&&(e=Ni);var r=e!==Ni;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(e===mn&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(Yr(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==cd&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}};Ne.checkLValPattern=function(t,e,n){switch(e===void 0&&(e=Ni),t.type){case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,e,n)}break;case"ArrayPattern":for(var u=0,a=t.elements;u<a.length;u+=1){var c=a[u];c&&this.checkLValInnerPattern(c,e,n)}break;default:this.checkLValSimple(t,e,n)}};Ne.checkLValInnerPattern=function(t,e,n){switch(e===void 0&&(e=Ni),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var Ge=function(t,e,n,r,i){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=r,this.generator=!!i},Tt={b_stat:new Ge("{",!1),b_expr:new Ge("{",!0),b_tmpl:new Ge("${",!1),p_stat:new Ge("(",!1),p_expr:new Ge("(",!0),q_tmpl:new Ge("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Ge("function",!1),f_expr:new Ge("function",!0),f_expr_gen:new Ge("function",!0,!1,null,!0),f_gen:new Ge("function",!1,!1,null,!0)},vr=Jt.prototype;vr.initialContext=function(){return[Tt.b_stat]};vr.curContext=function(){return this.context[this.context.length-1]};vr.braceIsBlock=function(t){var e=this.curContext();return e===Tt.f_expr||e===Tt.f_stat?!0:t===y.colon&&(e===Tt.b_stat||e===Tt.b_expr)?!e.isExpr:t===y._return||t===y.name&&this.exprAllowed?ke.test(this.input.slice(this.lastTokEnd,this.start)):t===y._else||t===y.semi||t===y.eof||t===y.parenR||t===y.arrow?!0:t===y.braceL?e===Tt.b_stat:t===y._var||t===y._const||t===y.name?!1:!this.exprAllowed};vr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};vr.updateContext=function(t){var e,n=this.type;n.keyword&&t===y.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr};vr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};y.parenR.updateContext=y.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Tt.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};y.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Tt.b_stat:Tt.b_expr),this.exprAllowed=!0};y.dollarBraceL.updateContext=function(){this.context.push(Tt.b_tmpl),this.exprAllowed=!0};y.parenL.updateContext=function(t){var e=t===y._if||t===y._for||t===y._with||t===y._while;this.context.push(e?Tt.p_stat:Tt.p_expr),this.exprAllowed=!0};y.incDec.updateContext=function(){};y._function.updateContext=y._class.updateContext=function(t){t.beforeExpr&&t!==y._else&&!(t===y.semi&&this.curContext()!==Tt.p_stat)&&!(t===y._return&&ke.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===y.colon||t===y.braceL)&&this.curContext()===Tt.b_stat)?this.context.push(Tt.f_expr):this.context.push(Tt.f_stat),this.exprAllowed=!1};y.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};y.backQuote.updateContext=function(){this.curContext()===Tt.q_tmpl?this.context.pop():this.context.push(Tt.q_tmpl),this.exprAllowed=!1};y.star.updateContext=function(t){if(t===y._function){var e=this.context.length-1;this.context[e]===Tt.f_expr?this.context[e]=Tt.f_expr_gen:this.context[e]=Tt.f_gen}this.exprAllowed=!0};y.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==y.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var lt=Jt.prototype;lt.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r=t.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}i="$"+i;var u=e[i];if(u){var a;s==="init"?a=this.strict&&u.init||u.get||u.set:a=u.init||u[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else u=e[i]={init:!1,get:!1,set:!1};u[s]=!0}};lt.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===y.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(y.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return i};lt.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,s=-1,u=-1;e?(i=e.parenthesizedAssign,s=e.trailingComma,u=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Ji,r=!0);var a=this.start,c=this.startLoc;(this.type===y.parenL||this.type===y.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(n&&(h=n.call(this,h,a,c)),this.type.isAssign){var m=this.startNodeAt(a,c);return m.operator=this.value,this.type===y.eq&&(h=this.toAssignable(h,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===y.eq?this.checkLValPattern(h):this.checkLValSimple(h),m.left=h,this.next(),m.right=this.parseMaybeAssign(t),u>-1&&(e.doubleProto=u),this.finishNode(m,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return i>-1&&(e.parenthesizedAssign=i),s>-1&&(e.trailingComma=s),h};lt.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(y.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(y.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return i};lt.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,t)};lt.parseExprOp=function(t,e,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==y._in)&&s>r){var u=this.type===y.logicalOR||this.type===y.logicalAND,a=this.type===y.coalesce;a&&(s=y.logicalAND.binop);var c=this.value;this.next();var h=this.start,m=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),h,m,s,i),d=this.buildBinary(e,n,t,p,c,u||a);return(u&&this.type===y.coalesce||a&&(this.type===y.logicalOR||this.type===y.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,e,n,r,i)}return t};lt.buildBinary=function(t,e,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(t,e);return u.left=n,u.operator=i,u.right=r,this.finishNode(u,s?"LogicalExpression":"BinaryExpression")};lt.parseMaybeUnary=function(t,e,n,r){var i=this.start,s=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(r),e=!0;else if(this.type.prefix){var a=this.startNode(),c=this.type===y.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,c,r),this.checkExpressionErrors(t,!0),c?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&hd(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,u=this.finishNode(a,c?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===y.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==y._in&&this.unexpected();else{if(u=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(i,s);h.operator=this.value,h.prefix=!1,h.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(h,"UpdateExpression")}}if(!n&&this.eat(y.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,u,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return u};function hd(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&hd(t.expression)}lt.parseExprSubscripts=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprAtom(t,e);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};lt.parseSubscripts=function(t,e,n,r,i){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,u=!1;;){var a=this.parseSubscript(t,e,n,r,s,u,i);if(a.optional&&(u=!0),a===t||a.type==="ArrowFunctionExpression"){if(u){var c=this.startNodeAt(e,n);c.expression=a,a=this.finishNode(c,"ChainExpression")}return a}t=a}};lt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(y.arrow)};lt.parseSubscriptAsyncArrow=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!0,r)};lt.parseSubscript=function(t,e,n,r,i,s,u){var a=this.options.ecmaVersion>=11,c=a&&this.eat(y.questionDot);r&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(y.bracketL);if(h||c&&this.type!==y.parenL&&this.type!==y.backQuote||this.eat(y.dot)){var m=this.startNodeAt(e,n);m.object=t,h?(m.property=this.parseExpression(),this.expect(y.bracketR)):this.type===y.privateId&&t.type!=="Super"?m.property=this.parsePrivateIdent():m.property=this.parseIdent(this.options.allowReserved!=="never"),m.computed=!!h,a&&(m.optional=c),t=this.finishNode(m,"MemberExpression")}else if(!r&&this.eat(y.parenL)){var p=new Ji,d=this.yieldPos,g=this.awaitPos,M=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var v=this.parseExprList(y.parenR,this.options.ecmaVersion>=8,!1,p);if(i&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=g,this.awaitIdentPos=M,this.parseSubscriptAsyncArrow(e,n,v,u);this.checkExpressionErrors(p,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=g||this.awaitPos,this.awaitIdentPos=M||this.awaitIdentPos;var P=this.startNodeAt(e,n);P.callee=t,P.arguments=v,a&&(P.optional=c),t=this.finishNode(P,"CallExpression")}else if(this.type===y.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var B=this.startNodeAt(e,n);B.tag=t,B.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(B,"TaggedTemplateExpression")}return t};lt.parseExprAtom=function(t,e,n){this.type===y.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case y._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===y.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==y.dot&&this.type!==y.bracketL&&this.type!==y.parenL&&this.unexpected(),this.finishNode(r,"Super");case y._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case y.name:var s=this.start,u=this.startLoc,a=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(y._function))return this.overrideContext(Tt.f_expr),this.parseFunction(this.startNodeAt(s,u),0,!1,!0,e);if(i&&!this.canInsertSemicolon()){if(this.eat(y.arrow))return this.parseArrowExpression(this.startNodeAt(s,u),[c],!1,e);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===y.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(y.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,u),[c],!0,e)}return c;case y.regexp:var h=this.value;return r=this.parseLiteral(h.value),r.regex={pattern:h.pattern,flags:h.flags},r;case y.num:case y.string:return this.parseLiteral(this.value);case y._null:case y._true:case y._false:return r=this.startNode(),r.value=this.type===y._null?null:this.type===y._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case y.parenL:var m=this.start,p=this.parseParenAndDistinguishExpression(i,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(p)&&(t.parenthesizedAssign=m),t.parenthesizedBind<0&&(t.parenthesizedBind=m)),p;case y.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(y.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case y.braceL:return this.overrideContext(Tt.b_expr),this.parseObj(!1,t);case y._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case y._class:return this.parseClass(this.startNode(),!1);case y._new:return this.parseNew();case y.backQuote:return this.parseTemplate();case y._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};lt.parseExprAtomDefault=function(){this.unexpected()};lt.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===y.parenL&&!t)return this.parseDynamicImport(e);if(this.type===y.dot){var n=this.startNodeAt(e.start,e.loc&&e.loc.start);return n.name="import",e.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};lt.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(y.parenR)){var e=this.start;this.eat(y.comma)&&this.eat(y.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};lt.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};lt.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};lt.parseParenExpression=function(){this.expect(y.parenL);var t=this.parseExpression();return this.expect(y.parenR),t};lt.shouldParseArrow=function(t){return!this.canInsertSemicolon()};lt.parseParenAndDistinguishExpression=function(t,e){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,a=this.startLoc,c=[],h=!0,m=!1,p=new Ji,d=this.yieldPos,g=this.awaitPos,M;for(this.yieldPos=0,this.awaitPos=0;this.type!==y.parenR;)if(h?h=!1:this.expect(y.comma),s&&this.afterTrailingComma(y.parenR,!0)){m=!0;break}else if(this.type===y.ellipsis){M=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===y.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,p,this.parseParenItem));var v=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(y.parenR),t&&this.shouldParseArrow(c)&&this.eat(y.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=g,this.parseParenArrowList(n,r,c,e);(!c.length||m)&&this.unexpected(this.lastTokStart),M&&this.unexpected(M),this.checkExpressionErrors(p,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=g||this.awaitPos,c.length>1?(i=this.startNodeAt(u,a),i.expressions=c,this.finishNodeAt(i,"SequenceExpression",v,P)):i=c[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var B=this.startNodeAt(n,r);return B.expression=i,this.finishNode(B,"ParenthesizedExpression")}else return i};lt.parseParenItem=function(t){return t};lt.parseParenArrowList=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,r)};var wv=[];lt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===y.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(y.parenL)?t.arguments=this.parseExprList(y.parenR,this.options.ecmaVersion>=8,!1):t.arguments=wv,this.finishNode(t,"NewExpression")};lt.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===y.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===y.backQuote,this.finishNode(n,"TemplateElement")};lt.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===y.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(y.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(y.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")};lt.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===y.name||this.type===y.num||this.type===y.string||this.type===y.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===y.star)&&!ke.test(this.input.slice(this.lastTokEnd,this.start))};lt.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(y.braceR);){if(r)r=!1;else if(this.expect(y.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(y.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,i,e),n.properties.push(s)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")};lt.parseProperty=function(t,e){var n=this.startNode(),r,i,s,u;if(this.options.ecmaVersion>=9&&this.eat(y.ellipsis))return t?(n.argument=this.parseIdent(!1),this.type===y.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,e),this.type===y.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(t||e)&&(s=this.start,u=this.startLoc),t||(r=this.eat(y.star)));var a=this.containsEsc;return this.parsePropertyName(n),!t&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(y.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,t,r,i,s,u,e,a),this.finishNode(n,"Property")};lt.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var n=t.value.start;t.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};lt.parsePropertyValue=function(t,e,n,r,i,s,u,a){(n||r)&&this.type===y.colon&&this.unexpected(),this.eat(y.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),t.kind="init"):this.options.ecmaVersion>=6&&this.type===y.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r)):!e&&!a&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==y.comma&&this.type!==y.braceR&&this.type!==y.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key)):this.type===y.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};lt.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(y.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(y.bracketR),t.key;t.computed=!1}return t.key=this.type===y.num||this.type===y.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};lt.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};lt.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ea(e,r.generator)|Qu|(n?ud:0)),this.expect(y.parenL),r.params=this.parseBindingList(y.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(r,"FunctionExpression")};lt.parseArrowExpression=function(t,e,n,r){var i=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(ea(n,!1)|id),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(t,"ArrowFunctionExpression")};lt.parseFunctionBody=function(t,e,n,r){var i=e&&this.type!==y.braceL,s=this.strict,u=!1;if(i)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||a)&&(u=this.strictDirective(this.end),u&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(t,!s&&!u&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,cd),t.body=this.parseBlock(!1,void 0,u&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=c}this.exitScope()};lt.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(r.type!=="Identifier")return!1}return!0};lt.checkParams=function(t,e){for(var n=Object.create(null),r=0,i=t.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,na,e?null:n)}};lt.parseExprList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(y.comma),e&&this.afterTrailingComma(t))break;var u=void 0;n&&this.type===y.comma?u=null:this.type===y.ellipsis?(u=this.parseSpread(r),r&&this.type===y.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):u=this.parseMaybeAssign(!1,r),i.push(u)}return i};lt.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};lt.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};lt.parseIdentNode=function(){var t=this.startNode();return this.type===y.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=y.name):this.unexpected(),t};lt.parsePrivateIdent=function(){var t=this.startNode();return this.type===y.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};lt.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===y.semi||this.canInsertSemicolon()||this.type!==y.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(y.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};lt.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Vi=Jt.prototype;Vi.raise=function(t,e){var n=nd(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r};Vi.raiseRecoverable=Vi.raise;Vi.curPosition=function(){if(this.options.locations)return new Zr(this.curLine,this.pos-this.lineStart)};var Sn=Jt.prototype,xv=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Sn.enterScope=function(t){this.scopeStack.push(new xv(t))};Sn.exitScope=function(){this.scopeStack.pop()};Sn.treatFunctionsAsVarInScope=function(t){return t.flags&Dr||!this.inModule&&t.flags&jr};Sn.declareName=function(t,e,n){var r=!1;if(e===mn){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&i.flags&jr&&delete this.undefinedExports[t]}else if(e===od){var s=this.currentScope();s.lexical.push(t)}else if(e===ad){var u=this.currentScope();this.treatFunctionsAsVar?r=u.lexical.indexOf(t)>-1:r=u.lexical.indexOf(t)>-1||u.var.indexOf(t)>-1,u.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var c=this.scopeStack[a];if(c.lexical.indexOf(t)>-1&&!(c.flags&sd&&c.lexical[0]===t)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(t)>-1){r=!0;break}if(c.var.push(t),this.inModule&&c.flags&jr&&delete this.undefinedExports[t],c.flags&ta)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")};Sn.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Sn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Sn.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&ta)return e}};Sn.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&ta&&!(e.flags&id))return e}};var $i=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new Ui(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},Jr=Jt.prototype;Jr.startNode=function(){return new $i(this,this.start,this.startLoc)};Jr.startNodeAt=function(t,e){return new $i(this,t,e)};function pd(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t}Jr.finishNode=function(t,e){return pd.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Jr.finishNodeAt=function(t,e,n,r){return pd.call(this,t,e,n,r)};Jr.copyNode=function(t){var e=new $i(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var md="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",dd=md+" Extended_Pictographic",fd=dd,gd=fd+" EBase EComp EMod EPres ExtPict",Ad=gd,Iv=Ad,Sv={9:md,10:dd,11:fd,12:gd,13:Ad,14:Iv},kv="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Nv={9:"",10:"",11:"",12:"",13:"",14:kv},Ao="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Cd="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",yd=Cd+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Dd=yd+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",vd=Dd+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",bd=vd+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Tv=bd+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Vv={9:Cd,10:yd,11:Dd,12:vd,13:bd,14:Tv},Md={};function Rv(t){var e=Md[t]={binary:Fn(Sv[t]+" "+Ao),binaryOfStrings:Fn(Nv[t]),nonBinary:{General_Category:Fn(Ao),Script:Fn(Vv[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var Is=0,Co=[9,10,11,12,13,14];Is<Co.length;Is+=1){var Lv=Co[Is];Rv(Lv)}var Q=Jt.prototype,Ue=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Md[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Ue.prototype.reset=function(t,e,n){var r=n.indexOf("v")!==-1,i=n.indexOf("u")!==-1;this.start=t|0,this.source=e+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=i&&this.parser.options.ecmaVersion>=9)};Ue.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Ue.prototype.at=function(t,e){e===void 0&&(e=!1);var n=this.source,r=n.length;if(t>=r)return-1;var i=n.charCodeAt(t);if(!(e||this.switchU)||i<=55295||i>=57344||t+1>=r)return i;var s=n.charCodeAt(t+1);return s>=56320&&s<=57343?(i<<10)+s-56613888:i};Ue.prototype.nextIndex=function(t,e){e===void 0&&(e=!1);var n=this.source,r=n.length;if(t>=r)return r;var i=n.charCodeAt(t),s;return!(e||this.switchU)||i<=55295||i>=57344||t+1>=r||(s=n.charCodeAt(t+1))<56320||s>57343?t+1:t+2};Ue.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Ue.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Ue.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Ue.prototype.eat=function(t,e){return e===void 0&&(e=!1),this.current(e)===t?(this.advance(e),!0):!1};Ue.prototype.eatChars=function(t,e){e===void 0&&(e=!1);for(var n=this.pos,r=0,i=t;r<i.length;r+=1){var s=i[r],u=this.at(n,e);if(u===-1||u!==s)return!1;n=this.nextIndex(n,e)}return this.pos=n,!0};Q.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=!1,i=!1,s=0;s<n.length;s++){var u=n.charAt(s);e.indexOf(u)===-1&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(u,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),u==="u"&&(r=!0),u==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(t.start,"Invalid regular expression flag")};Q.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};Q.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];t.groupNames.indexOf(r)===-1&&t.raise("Invalid named capture referenced")}};Q.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};Q.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};Q.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};Q.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1};Q.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};Q.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};Q.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return i!==-1&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1};Q.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};Q.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};Q.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};Q.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};Q.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};Q.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};Q.regexp_eatSyntaxCharacter=function(t){var e=t.current();return Ed(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Ed(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}Q.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;(n=t.current())!==-1&&!Ed(n);)t.advance();return t.pos!==e};Q.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};Q.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};Q.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};Q.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=wn(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=wn(t.lastIntValue);return!0}return!1};Q.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),Gv(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function Gv(t){return ln(t,!0)||t===36||t===95}Q.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),Ov(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function Ov(t){return hr(t,!0)||t===36||t===95||t===8204||t===8205}Q.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};Q.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1};Q.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};Q.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};Q.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};Q.regexp_eatZero=function(t){return t.current()===48&&!Qi(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};Q.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};Q.regexp_eatControlLetter=function(t){var e=t.current();return Fd(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function Fd(t){return t>=65&&t<=90||t>=97&&t<=122}Q.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var n=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(r&&i>=55296&&i<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var u=t.lastIntValue;if(u>=56320&&u<=57343)return t.lastIntValue=(i-55296)*1024+(u-56320)+65536,!0}t.pos=s,t.lastIntValue=i}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&Wv(t.lastIntValue))return!0;r&&t.raise("Invalid unicode escape"),t.pos=n}return!1};function Wv(t){return t>=0&&t<=1114111}Q.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};Q.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var Pd=0,hn=1,Be=2;Q.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(zv(e))return t.lastIntValue=-1,t.advance(),hn;var n=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((n=e===80)||e===112)){t.lastIntValue=-1,t.advance();var r;if(t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return n&&r===Be&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return Pd};function zv(t){return t===100||t===68||t===115||t===83||t===119||t===87}Q.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),hn}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i)}return Pd};Q.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){Yr(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")};Q.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return hn;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Be;t.raise("Invalid property name")};Q.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";_d(e=t.current());)t.lastStringValue+=wn(e),t.advance();return t.lastStringValue!==""};function _d(t){return Fd(t)||t===95}Q.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";Hv(e=t.current());)t.lastStringValue+=wn(e),t.advance();return t.lastStringValue!==""};function Hv(t){return _d(t)||Qi(t)}Q.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};Q.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&n===Be&&t.raise("Negated character class may contain strings"),!0}return!1};Q.regexp_classContents=function(t){return t.current()===93?hn:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),hn)};Q.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;t.switchU&&(e===-1||n===-1)&&t.raise("Invalid character class"),e!==-1&&n!==-1&&e>n&&t.raise("Range out of order in character class")}}};Q.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(n===99||xd(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return r!==93?(t.lastIntValue=r,t.advance(),!0):!1};Q.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};Q.regexp_classSetExpression=function(t){var e=hn,n;if(!this.regexp_eatClassSetRange(t))if(n=this.regexp_eatClassSetOperand(t)){n===Be&&(e=Be);for(var r=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(n=this.regexp_eatClassSetOperand(t))){n!==Be&&(e=hn);continue}t.raise("Invalid character in character class")}if(r!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(r!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(n=this.regexp_eatClassSetOperand(t),!n)return e;n===Be&&(e=Be)}};Q.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var r=t.lastIntValue;return n!==-1&&r!==-1&&n>r&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};Q.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?hn:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};Q.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var n=t.eat(94),r=this.regexp_classContents(t);if(t.eat(93))return n&&r===Be&&t.raise("Negated character class may contain strings"),r;t.pos=e}if(t.eat(92)){var i=this.regexp_eatCharacterClassEscape(t);if(i)return i;t.pos=e}return null};Q.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=e}return null};Q.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Be&&(e=Be);return e};Q.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?hn:Be};Q.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var n=t.current();return n<0||n===t.lookahead()&&qv(n)||Zv(n)?!1:(t.advance(),t.lastIntValue=n,!0)};function qv(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function Zv(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}Q.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return jv(e)?(t.lastIntValue=e,t.advance(),!0):!1};function jv(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}Q.regexp_eatClassControlLetter=function(t){var e=t.current();return Qi(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};Q.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};Q.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Qi(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e};function Qi(t){return t>=48&&t<=57}Q.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Bd(n=t.current());)t.lastIntValue=16*t.lastIntValue+wd(n),t.advance();return t.pos!==e};function Bd(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function wd(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}Q.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+n*8+t.lastIntValue:t.lastIntValue=e*8+n}else t.lastIntValue=e;return!0}return!1};Q.regexp_eatOctalDigit=function(t){var e=t.current();return xd(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function xd(t){return t>=48&&t<=55}Q.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!Bd(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+wd(i),t.advance()}return!0};var ia=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Ui(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},gt=Jt.prototype;gt.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ia(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};gt.getToken=function(){return this.next(),new ia(this)};typeof Symbol<"u"&&(gt[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===y.eof,value:e}}}});gt.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(y.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};gt.readToken=function(t){return ln(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};gt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};gt.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=e;(r=Qm(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())};gt.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!yr(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())};gt.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(t>8&&t<14||t>=5760&&td.test(String.fromCharCode(t)))++this.pos;else break t}}};gt.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)};gt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(y.ellipsis)):(++this.pos,this.finishToken(y.dot))};gt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(y.assign,2):this.finishOp(y.slash,1)};gt.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=t===42?y.star:y.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++n,r=y.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(y.assign,n+1):this.finishOp(r,n)};gt.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(y.assign,3)}return this.finishOp(t===124?y.logicalOR:y.logicalAND,2)}return e===61?this.finishOp(y.assign,2):this.finishOp(t===124?y.bitwiseOR:y.bitwiseAND,1)};gt.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(y.assign,2):this.finishOp(y.bitwiseXOR,1)};gt.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ke.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(y.incDec,2):e===61?this.finishOp(y.assign,2):this.finishOp(y.plusMin,1)};gt.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(y.assign,n+1):this.finishOp(y.bitShift,n)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(n=2),this.finishOp(y.relational,n))};gt.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(y.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(y.arrow)):this.finishOp(t===61?y.eq:y.prefix,1)};gt.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(y.questionDot,2)}if(e===63){if(t>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(y.assign,3)}return this.finishOp(y.coalesce,2)}}return this.finishOp(y.question,1)};gt.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),ln(e,!0)||e===92))return this.finishToken(y.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+wn(e)+"'")};gt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(y.parenL);case 41:return++this.pos,this.finishToken(y.parenR);case 59:return++this.pos,this.finishToken(y.semi);case 44:return++this.pos,this.finishToken(y.comma);case 91:return++this.pos,this.finishToken(y.bracketL);case 93:return++this.pos,this.finishToken(y.bracketR);case 123:return++this.pos,this.finishToken(y.braceL);case 125:return++this.pos,this.finishToken(y.braceR);case 58:return++this.pos,this.finishToken(y.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(y.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(y.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+wn(t)+"'")};gt.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};gt.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ke.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;t=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Ue(this));a.reset(n,i,u),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var c=null;try{c=new RegExp(i,u)}catch{}return this.finishToken(y.regexp,{pattern:i,flags:u,value:c})};gt.readInt=function(t,e,n){for(var r=this.options.ecmaVersion>=12&&e===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,u=0,a=0,c=0,h=e??1/0;c<h;++c,++this.pos){var m=this.input.charCodeAt(this.pos),p=void 0;if(r&&m===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=m;continue}if(m>=97?p=m-97+10:m>=65?p=m-65+10:m>=48&&m<=57?p=m-48:p=1/0,p>=t)break;a=m,u=u*t+p}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:u};function Xv(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function Id(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}gt.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return n==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Id(this.input.slice(e,this.pos)),++this.pos):ln(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(y.num,n)};gt.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var n=this.pos-e>=2&&this.input.charCodeAt(e)===48;n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&r===110){var i=Id(this.input.slice(e,this.pos));return++this.pos,ln(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(y.num,i)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),ln(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=Xv(this.input.slice(e,this.pos),n);return this.finishToken(y.num,s)};gt.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e};gt.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;r===92?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(yr(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(y.string,e)};var Sd={};gt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Sd)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};gt.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Sd;this.raise(t,e)};gt.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===y.template||this.type===y.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(y.dollarBraceL)):(++this.pos,this.finishToken(y.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(y.template,t));if(n===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(yr(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};gt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(y.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};gt.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return wn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return yr(e)?"":String.fromCharCode(e)}};gt.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return n===null&&this.invalidStringToken(e,"Bad character escape sequence"),n};gt.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(hr(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,t+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(e?ln:hr)(u,r)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=wn(u),n=this.pos}else break;e=!1}return t+this.input.slice(n,this.pos)};gt.readWord=function(){var t=this.readWord1(),e=y.name;return this.keywords.test(t)&&(e=Ju[t]),this.finishToken(e,t)};var Kv="8.11.3";Jt.acorn={Parser:Jt,version:Kv,defaultOptions:tu,Position:Zr,SourceLocation:Ui,getLineInfo:nd,Node:$i,TokenType:vt,tokTypes:y,keywordTypes:Ju,TokContext:Ge,tokContexts:Tt,isIdentifierChar:hr,isIdentifierStart:ln,Token:ia,isNewLine:yr,lineBreak:ke,lineBreakG:yv,nonASCIIwhitespace:td};function Yv(t,e){return Jt.parse(t,e)}var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Nd={},Td={};(function(t){(function e(n){var r,i,s,u,a,c;function h(_){var k={},I,T;for(I in _)_.hasOwnProperty(I)&&(T=_[I],typeof T=="object"&&T!==null?k[I]=h(T):k[I]=T);return k}function m(_,k){var I,T,H,G;for(T=_.length,H=0;T;)I=T>>>1,G=H+I,k(_[G])?T=I:(H=G+1,T-=I+1);return H}r={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={},a={},c={},i={Break:u,Skip:a,Remove:c};function p(_,k){this.parent=_,this.key=k}p.prototype.replace=function(_){this.parent[this.key]=_},p.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function d(_,k,I,T){this.node=_,this.path=k,this.wrap=I,this.ref=T}function g(){}g.prototype.path=function(){var _,k,I,T,H,G;function Z(W,q){if(Array.isArray(q))for(I=0,T=q.length;I<T;++I)W.push(q[I]);else W.push(q)}if(!this.__current.path)return null;for(H=[],_=2,k=this.__leavelist.length;_<k;++_)G=this.__leavelist[_],Z(H,G.path);return Z(H,this.__current.path),H},g.prototype.type=function(){var _=this.current();return _.type||this.__current.wrap},g.prototype.parents=function(){var _,k,I;for(I=[],_=1,k=this.__leavelist.length;_<k;++_)I.push(this.__leavelist[_].node);return I},g.prototype.current=function(){return this.__current.node},g.prototype.__execute=function(_,k){var I,T;return T=void 0,I=this.__current,this.__current=k,this.__state=null,_&&(T=_.call(this,k.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=I,T},g.prototype.notify=function(_){this.__state=_},g.prototype.skip=function(){this.notify(a)},g.prototype.break=function(){this.notify(u)},g.prototype.remove=function(){this.notify(c)},g.prototype.__initialize=function(_,k){this.visitor=k,this.root=_,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,k.fallback==="iteration"?this.__fallback=Object.keys:typeof k.fallback=="function"&&(this.__fallback=k.fallback),this.__keys=s,k.keys&&(this.__keys=Object.assign(Object.create(this.__keys),k.keys))};function M(_){return _==null?!1:typeof _=="object"&&typeof _.type=="string"}function v(_,k){return(_===r.ObjectExpression||_===r.ObjectPattern)&&k==="properties"}function P(_,k){for(var I=_.length-1;I>=0;--I)if(_[I].node===k)return!0;return!1}g.prototype.traverse=function(_,k){var I,T,H,G,Z,W,q,X,ht,tt,at,ot;for(this.__initialize(_,k),ot={},I=this.__worklist,T=this.__leavelist,I.push(new d(_,null,null,null)),T.push(new d(null,null,null,null));I.length;){if(H=I.pop(),H===ot){if(H=T.pop(),W=this.__execute(k.leave,H),this.__state===u||W===u)return;continue}if(H.node){if(W=this.__execute(k.enter,H),this.__state===u||W===u)return;if(I.push(ot),T.push(H),this.__state===a||W===a)continue;if(G=H.node,Z=G.type||H.wrap,tt=this.__keys[Z],!tt)if(this.__fallback)tt=this.__fallback(G);else throw new Error("Unknown node type "+Z+".");for(X=tt.length;(X-=1)>=0;)if(q=tt[X],at=G[q],!!at){if(Array.isArray(at)){for(ht=at.length;(ht-=1)>=0;)if(at[ht]&&!P(T,at[ht])){if(v(Z,tt[X]))H=new d(at[ht],[q,ht],"Property",null);else if(M(at[ht]))H=new d(at[ht],[q,ht],null,null);else continue;I.push(H)}}else if(M(at)){if(P(T,at))continue;I.push(new d(at,q,null,null))}}}}},g.prototype.replace=function(_,k){var I,T,H,G,Z,W,q,X,ht,tt,at,ot,Mt;function ae(Qt){var j,te,ne,ge;if(Qt.ref.remove()){for(te=Qt.ref.key,ge=Qt.ref.parent,j=I.length;j--;)if(ne=I[j],ne.ref&&ne.ref.parent===ge){if(ne.ref.key<te)break;--ne.ref.key}}}for(this.__initialize(_,k),at={},I=this.__worklist,T=this.__leavelist,ot={root:_},W=new d(_,null,null,new p(ot,"root")),I.push(W),T.push(W);I.length;){if(W=I.pop(),W===at){if(W=T.pop(),Z=this.__execute(k.leave,W),Z!==void 0&&Z!==u&&Z!==a&&Z!==c&&W.ref.replace(Z),(this.__state===c||Z===c)&&ae(W),this.__state===u||Z===u)return ot.root;continue}if(Z=this.__execute(k.enter,W),Z!==void 0&&Z!==u&&Z!==a&&Z!==c&&(W.ref.replace(Z),W.node=Z),(this.__state===c||Z===c)&&(ae(W),W.node=null),this.__state===u||Z===u)return ot.root;if(H=W.node,!!H&&(I.push(at),T.push(W),!(this.__state===a||Z===a))){if(G=H.type||W.wrap,ht=this.__keys[G],!ht)if(this.__fallback)ht=this.__fallback(H);else throw new Error("Unknown node type "+G+".");for(q=ht.length;(q-=1)>=0;)if(Mt=ht[q],tt=H[Mt],!!tt)if(Array.isArray(tt)){for(X=tt.length;(X-=1)>=0;)if(tt[X]){if(v(G,ht[q]))W=new d(tt[X],[Mt,X],"Property",new p(tt,X));else if(M(tt[X]))W=new d(tt[X],[Mt,X],null,new p(tt,X));else continue;I.push(W)}}else M(tt)&&I.push(new d(tt,Mt,null,new p(H,Mt)))}}return ot.root};function B(_,k){var I=new g;return I.traverse(_,k)}function S(_,k){var I=new g;return I.replace(_,k)}function O(_,k){var I;return I=m(k,function(T){return T.range[0]>_.range[0]}),_.extendedRange=[_.range[0],_.range[1]],I!==k.length&&(_.extendedRange[1]=k[I].range[0]),I-=1,I>=0&&(_.extendedRange[0]=k[I].range[1]),_}function w(_,k,I){var T=[],H,G,Z,W;if(!_.range)throw new Error("attachComments needs range information");if(!I.length){if(k.length){for(Z=0,G=k.length;Z<G;Z+=1)H=h(k[Z]),H.extendedRange=[0,_.range[0]],T.push(H);_.leadingComments=T}return _}for(Z=0,G=k.length;Z<G;Z+=1)T.push(O(h(k[Z]),I));return W=0,B(_,{enter:function(q){for(var X;W<T.length&&(X=T[W],!(X.extendedRange[1]>q.range[0]));)X.extendedRange[1]===q.range[0]?(q.leadingComments||(q.leadingComments=[]),q.leadingComments.push(X),T.splice(W,1)):W+=1;if(W===T.length)return i.Break;if(T[W].extendedRange[0]>q.range[1])return i.Skip}}),W=0,B(_,{leave:function(q){for(var X;W<T.length&&(X=T[W],!(q.range[1]<X.extendedRange[0]));)q.range[1]===X.extendedRange[0]?(q.trailingComments||(q.trailingComments=[]),q.trailingComments.push(X),T.splice(W,1)):W+=1;if(W===T.length)return i.Break;if(T[W].extendedRange[0]>q.range[1])return i.Skip}}),_}return n.Syntax=r,n.traverse=B,n.replace=S,n.attachComments=w,n.VisitorKeys=s,n.VisitorOption=i,n.Controller=g,n.cloneEnvironment=function(){return e({})},n})(t)})(Td);var Pi={},Vd={exports:{}};(function(){function t(u){if(u==null)return!1;switch(u.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function e(u){if(u==null)return!1;switch(u.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function n(u){if(u==null)return!1;switch(u.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function r(u){return n(u)||u!=null&&u.type==="FunctionDeclaration"}function i(u){switch(u.type){case"IfStatement":return u.alternate!=null?u.alternate:u.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return u.body}return null}function s(u){var a;if(u.type!=="IfStatement"||u.alternate==null)return!1;a=u.consequent;do{if(a.type==="IfStatement"&&a.alternate==null)return!0;a=i(a)}while(a);return!1}Vd.exports={isExpression:t,isStatement:n,isIterationStatement:e,isSourceElement:r,isProblematicIfStatement:s,trailingStatement:i}})();var Jv=Vd.exports,Rd={exports:{}};(function(){var t,e,n,r,i,s;e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function u(P){return 48<=P&&P<=57}function a(P){return 48<=P&&P<=57||97<=P&&P<=102||65<=P&&P<=70}function c(P){return P>=48&&P<=55}n=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(P){return P===32||P===9||P===11||P===12||P===160||P>=5760&&n.indexOf(P)>=0}function m(P){return P===10||P===13||P===8232||P===8233}function p(P){if(P<=65535)return String.fromCharCode(P);var B=String.fromCharCode(Math.floor((P-65536)/1024)+55296),S=String.fromCharCode((P-65536)%1024+56320);return B+S}for(r=new Array(128),s=0;s<128;++s)r[s]=s>=97&&s<=122||s>=65&&s<=90||s===36||s===95;for(i=new Array(128),s=0;s<128;++s)i[s]=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===36||s===95;function d(P){return P<128?r[P]:e.NonAsciiIdentifierStart.test(p(P))}function g(P){return P<128?i[P]:e.NonAsciiIdentifierPart.test(p(P))}function M(P){return P<128?r[P]:t.NonAsciiIdentifierStart.test(p(P))}function v(P){return P<128?i[P]:t.NonAsciiIdentifierPart.test(p(P))}Rd.exports={isDecimalDigit:u,isHexDigit:a,isOctalDigit:c,isWhiteSpace:h,isLineTerminator:m,isIdentifierStartES5:d,isIdentifierPartES5:g,isIdentifierStartES6:M,isIdentifierPartES6:v}})();var Ld=Rd.exports,Gd={exports:{}};(function(){var t=Ld;function e(d){switch(d){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(d,g){return!g&&d==="yield"?!1:r(d,g)}function r(d,g){if(g&&e(d))return!0;switch(d.length){case 2:return d==="if"||d==="in"||d==="do";case 3:return d==="var"||d==="for"||d==="new"||d==="try";case 4:return d==="this"||d==="else"||d==="case"||d==="void"||d==="with"||d==="enum";case 5:return d==="while"||d==="break"||d==="catch"||d==="throw"||d==="const"||d==="yield"||d==="class"||d==="super";case 6:return d==="return"||d==="typeof"||d==="delete"||d==="switch"||d==="export"||d==="import";case 7:return d==="default"||d==="finally"||d==="extends";case 8:return d==="function"||d==="continue"||d==="debugger";case 10:return d==="instanceof";default:return!1}}function i(d,g){return d==="null"||d==="true"||d==="false"||n(d,g)}function s(d,g){return d==="null"||d==="true"||d==="false"||r(d,g)}function u(d){return d==="eval"||d==="arguments"}function a(d){var g,M,v;if(d.length===0||(v=d.charCodeAt(0),!t.isIdentifierStartES5(v)))return!1;for(g=1,M=d.length;g<M;++g)if(v=d.charCodeAt(g),!t.isIdentifierPartES5(v))return!1;return!0}function c(d,g){return(d-55296)*1024+(g-56320)+65536}function h(d){var g,M,v,P,B;if(d.length===0)return!1;for(B=t.isIdentifierStartES6,g=0,M=d.length;g<M;++g){if(v=d.charCodeAt(g),55296<=v&&v<=56319){if(++g,g>=M||(P=d.charCodeAt(g),!(56320<=P&&P<=57343)))return!1;v=c(v,P)}if(!B(v))return!1;B=t.isIdentifierPartES6}return!0}function m(d,g){return a(d)&&!i(d,g)}function p(d,g){return h(d)&&!s(d,g)}Gd.exports={isKeywordES5:n,isKeywordES6:r,isReservedWordES5:i,isReservedWordES6:s,isRestrictedWord:u,isIdentifierNameES5:a,isIdentifierNameES6:h,isIdentifierES5:m,isIdentifierES6:p}})();var $v=Gd.exports;(function(){Pi.ast=Jv,Pi.code=Ld,Pi.keyword=$v})();var Ai={},Ss={},Ci={},yi={},yo;function Qv(){if(yo)return yi;yo=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return yi.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},yi.decode=function(e){var n=65,r=90,i=97,s=122,u=48,a=57,c=43,h=47,m=26,p=52;return n<=e&&e<=r?e-n:i<=e&&e<=s?e-i+m:u<=e&&e<=a?e-u+p:e==c?62:e==h?63:-1},yi}var Do;function Od(){if(Do)return Ci;Do=1;var t=Qv(),e=5,n=1<<e,r=n-1,i=n;function s(a){return a<0?(-a<<1)+1:(a<<1)+0}function u(a){var c=(a&1)===1,h=a>>1;return c?-h:h}return Ci.encode=function(a){var c="",h,m=s(a);do h=m&r,m>>>=e,m>0&&(h|=i),c+=t.encode(h);while(m>0);return c},Ci.decode=function(a,c,h){var m=a.length,p=0,d=0,g,M;do{if(c>=m)throw new Error("Expected more digits in base 64 VLQ value.");if(M=t.decode(a.charCodeAt(c++)),M===-1)throw new Error("Invalid base64 digit: "+a.charAt(c-1));g=!!(M&i),M&=r,p=p+(M<<d),d+=e}while(g);h.value=u(p),h.rest=c},Ci}var vo={},bo;function $r(){return bo||(bo=1,function(t){function e(w,_,k){if(_ in w)return w[_];if(arguments.length===3)return k;throw new Error('"'+_+'" is a required argument.')}t.getArg=e;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function i(w){var _=w.match(n);return _?{scheme:_[1],auth:_[2],host:_[3],port:_[4],path:_[5]}:null}t.urlParse=i;function s(w){var _="";return w.scheme&&(_+=w.scheme+":"),_+="//",w.auth&&(_+=w.auth+"@"),w.host&&(_+=w.host),w.port&&(_+=":"+w.port),w.path&&(_+=w.path),_}t.urlGenerate=s;function u(w){var _=w,k=i(w);if(k){if(!k.path)return w;_=k.path}for(var I=t.isAbsolute(_),T=_.split(/\/+/),H,G=0,Z=T.length-1;Z>=0;Z--)H=T[Z],H==="."?T.splice(Z,1):H===".."?G++:G>0&&(H===""?(T.splice(Z+1,G),G=0):(T.splice(Z,2),G--));return _=T.join("/"),_===""&&(_=I?"/":"."),k?(k.path=_,s(k)):_}t.normalize=u;function a(w,_){w===""&&(w="."),_===""&&(_=".");var k=i(_),I=i(w);if(I&&(w=I.path||"/"),k&&!k.scheme)return I&&(k.scheme=I.scheme),s(k);if(k||_.match(r))return _;if(I&&!I.host&&!I.path)return I.host=_,s(I);var T=_.charAt(0)==="/"?_:u(w.replace(/\/+$/,"")+"/"+_);return I?(I.path=T,s(I)):T}t.join=a,t.isAbsolute=function(w){return w.charAt(0)==="/"||n.test(w)};function c(w,_){w===""&&(w="."),w=w.replace(/\/$/,"");for(var k=0;_.indexOf(w+"/")!==0;){var I=w.lastIndexOf("/");if(I<0||(w=w.slice(0,I),w.match(/^([^\/]+:\/)?\/*$/)))return _;++k}return Array(k+1).join("../")+_.substr(w.length+1)}t.relative=c;var h=function(){var w=Object.create(null);return!("__proto__"in w)}();function m(w){return w}function p(w){return g(w)?"$"+w:w}t.toSetString=h?m:p;function d(w){return g(w)?w.slice(1):w}t.fromSetString=h?m:d;function g(w){if(!w)return!1;var _=w.length;if(_<9||w.charCodeAt(_-1)!==95||w.charCodeAt(_-2)!==95||w.charCodeAt(_-3)!==111||w.charCodeAt(_-4)!==116||w.charCodeAt(_-5)!==111||w.charCodeAt(_-6)!==114||w.charCodeAt(_-7)!==112||w.charCodeAt(_-8)!==95||w.charCodeAt(_-9)!==95)return!1;for(var k=_-10;k>=0;k--)if(w.charCodeAt(k)!==36)return!1;return!0}function M(w,_,k){var I=P(w.source,_.source);return I!==0||(I=w.originalLine-_.originalLine,I!==0)||(I=w.originalColumn-_.originalColumn,I!==0||k)||(I=w.generatedColumn-_.generatedColumn,I!==0)||(I=w.generatedLine-_.generatedLine,I!==0)?I:P(w.name,_.name)}t.compareByOriginalPositions=M;function v(w,_,k){var I=w.generatedLine-_.generatedLine;return I!==0||(I=w.generatedColumn-_.generatedColumn,I!==0||k)||(I=P(w.source,_.source),I!==0)||(I=w.originalLine-_.originalLine,I!==0)||(I=w.originalColumn-_.originalColumn,I!==0)?I:P(w.name,_.name)}t.compareByGeneratedPositionsDeflated=v;function P(w,_){return w===_?0:w===null?1:_===null?-1:w>_?1:-1}function B(w,_){var k=w.generatedLine-_.generatedLine;return k!==0||(k=w.generatedColumn-_.generatedColumn,k!==0)||(k=P(w.source,_.source),k!==0)||(k=w.originalLine-_.originalLine,k!==0)||(k=w.originalColumn-_.originalColumn,k!==0)?k:P(w.name,_.name)}t.compareByGeneratedPositionsInflated=B;function S(w){return JSON.parse(w.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=S;function O(w,_,k){if(_=_||"",w&&(w[w.length-1]!=="/"&&_[0]!=="/"&&(w+="/"),_=w+_),k){var I=i(k);if(!I)throw new Error("sourceMapURL could not be parsed");if(I.path){var T=I.path.lastIndexOf("/");T>=0&&(I.path=I.path.substring(0,T+1))}_=a(s(I),_)}return u(_)}t.computeSourceURL=O}(vo)),vo}var ks={},Mo;function Wd(){if(Mo)return ks;Mo=1;var t=$r(),e=Object.prototype.hasOwnProperty,n=typeof Map<"u";function r(){this._array=[],this._set=n?new Map:Object.create(null)}return r.fromArray=function(i,s){for(var u=new r,a=0,c=i.length;a<c;a++)u.add(i[a],s);return u},r.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(i,s){var u=n?i:t.toSetString(i),a=n?this.has(i):e.call(this._set,u),c=this._array.length;(!a||s)&&this._array.push(i),a||(n?this._set.set(i,c):this._set[u]=c)},r.prototype.has=function(i){if(n)return this._set.has(i);var s=t.toSetString(i);return e.call(this._set,s)},r.prototype.indexOf=function(i){if(n){var s=this._set.get(i);if(s>=0)return s}else{var u=t.toSetString(i);if(e.call(this._set,u))return this._set[u]}throw new Error('"'+i+'" is not in the set.')},r.prototype.at=function(i){if(i>=0&&i<this._array.length)return this._array[i];throw new Error("No element indexed by "+i)},r.prototype.toArray=function(){return this._array.slice()},ks.ArraySet=r,ks}var Ns={},Eo;function tb(){if(Eo)return Ns;Eo=1;var t=$r();function e(r,i){var s=r.generatedLine,u=i.generatedLine,a=r.generatedColumn,c=i.generatedColumn;return u>s||u==s&&c>=a||t.compareByGeneratedPositionsInflated(r,i)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(r,i){this._array.forEach(r,i)},n.prototype.add=function(r){e(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Ns.MappingList=n,Ns}var Fo;function zd(){if(Fo)return Ss;Fo=1;var t=Od(),e=$r(),n=Wd().ArraySet,r=tb().MappingList;function i(s){s||(s={}),this._file=e.getArg(s,"file",null),this._sourceRoot=e.getArg(s,"sourceRoot",null),this._skipValidation=e.getArg(s,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new r,this._sourcesContents=null}return i.prototype._version=3,i.fromSourceMap=function(s){var u=s.sourceRoot,a=new i({file:s.file,sourceRoot:u});return s.eachMapping(function(c){var h={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(h.source=c.source,u!=null&&(h.source=e.relative(u,h.source)),h.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(h.name=c.name)),a.addMapping(h)}),s.sources.forEach(function(c){var h=c;u!==null&&(h=e.relative(u,c)),a._sources.has(h)||a._sources.add(h);var m=s.sourceContentFor(c);m!=null&&a.setSourceContent(c,m)}),a},i.prototype.addMapping=function(s){var u=e.getArg(s,"generated"),a=e.getArg(s,"original",null),c=e.getArg(s,"source",null),h=e.getArg(s,"name",null);this._skipValidation||this._validateMapping(u,a,c,h),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),h!=null&&(h=String(h),this._names.has(h)||this._names.add(h)),this._mappings.add({generatedLine:u.line,generatedColumn:u.column,originalLine:a!=null&&a.line,originalColumn:a!=null&&a.column,source:c,name:h})},i.prototype.setSourceContent=function(s,u){var a=s;this._sourceRoot!=null&&(a=e.relative(this._sourceRoot,a)),u!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(a)]=u):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(a)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(s,u,a){var c=u;if(u==null){if(s.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=s.file}var h=this._sourceRoot;h!=null&&(c=e.relative(h,c));var m=new n,p=new n;this._mappings.unsortedForEach(function(d){if(d.source===c&&d.originalLine!=null){var g=s.originalPositionFor({line:d.originalLine,column:d.originalColumn});g.source!=null&&(d.source=g.source,a!=null&&(d.source=e.join(a,d.source)),h!=null&&(d.source=e.relative(h,d.source)),d.originalLine=g.line,d.originalColumn=g.column,g.name!=null&&(d.name=g.name))}var M=d.source;M!=null&&!m.has(M)&&m.add(M);var v=d.name;v!=null&&!p.has(v)&&p.add(v)},this),this._sources=m,this._names=p,s.sources.forEach(function(d){var g=s.sourceContentFor(d);g!=null&&(a!=null&&(d=e.join(a,d)),h!=null&&(d=e.relative(h,d)),this.setSourceContent(d,g))},this)},i.prototype._validateMapping=function(s,u,a,c){if(u&&typeof u.line!="number"&&typeof u.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(s&&"line"in s&&"column"in s&&s.line>0&&s.column>=0&&!u&&!a&&!c)){if(s&&"line"in s&&"column"in s&&u&&"line"in u&&"column"in u&&s.line>0&&s.column>=0&&u.line>0&&u.column>=0&&a)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:s,source:a,original:u,name:c}))}},i.prototype._serializeMappings=function(){for(var s=0,u=1,a=0,c=0,h=0,m=0,p="",d,g,M,v,P=this._mappings.toArray(),B=0,S=P.length;B<S;B++){if(g=P[B],d="",g.generatedLine!==u)for(s=0;g.generatedLine!==u;)d+=";",u++;else if(B>0){if(!e.compareByGeneratedPositionsInflated(g,P[B-1]))continue;d+=","}d+=t.encode(g.generatedColumn-s),s=g.generatedColumn,g.source!=null&&(v=this._sources.indexOf(g.source),d+=t.encode(v-m),m=v,d+=t.encode(g.originalLine-1-c),c=g.originalLine-1,d+=t.encode(g.originalColumn-a),a=g.originalColumn,g.name!=null&&(M=this._names.indexOf(g.name),d+=t.encode(M-h),h=M)),p+=d}return p},i.prototype._generateSourcesContent=function(s,u){return s.map(function(a){if(!this._sourcesContents)return null;u!=null&&(a=e.relative(u,a));var c=e.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},i.prototype.toJSON=function(){var s={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(s.file=this._file),this._sourceRoot!=null&&(s.sourceRoot=this._sourceRoot),this._sourcesContents&&(s.sourcesContent=this._generateSourcesContent(s.sources,s.sourceRoot)),s},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},Ss.SourceMapGenerator=i,Ss}var Nr={},Po={},_o;function eb(){return _o||(_o=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(n,r,i,s,u,a){var c=Math.floor((r-n)/2)+n,h=u(i,s[c],!0);return h===0?c:h>0?r-c>1?e(c,r,i,s,u,a):a==t.LEAST_UPPER_BOUND?r<s.length?r:-1:c:c-n>1?e(n,c,i,s,u,a):a==t.LEAST_UPPER_BOUND?c:n<0?-1:n}t.search=function(n,r,i,s){if(r.length===0)return-1;var u=e(-1,r.length,n,r,i,s||t.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&i(r[u],r[u-1],!0)===0;)--u;return u}}(Po)),Po}var Ts={},Bo;function nb(){if(Bo)return Ts;Bo=1;function t(r,i,s){var u=r[i];r[i]=r[s],r[s]=u}function e(r,i){return Math.round(r+Math.random()*(i-r))}function n(r,i,s,u){if(s<u){var a=e(s,u),c=s-1;t(r,a,u);for(var h=r[u],m=s;m<u;m++)i(r[m],h)<=0&&(c+=1,t(r,c,m));t(r,c+1,m);var p=c+1;n(r,i,s,p-1),n(r,i,p+1,u)}}return Ts.quickSort=function(r,i){n(r,i,0,r.length-1)},Ts}var wo;function rb(){if(wo)return Nr;wo=1;var t=$r(),e=eb(),n=Wd().ArraySet,r=Od(),i=nb().quickSort;function s(h,m){var p=h;return typeof h=="string"&&(p=t.parseSourceMapInput(h)),p.sections!=null?new c(p,m):new u(p,m)}s.fromSourceMap=function(h,m){return u.fromSourceMap(h,m)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(h,m){var p=h.charAt(m);return p===";"||p===","},s.prototype._parseMappings=function(h,m){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(h,m,p){var d=m||null,g=p||s.GENERATED_ORDER,M;switch(g){case s.GENERATED_ORDER:M=this._generatedMappings;break;case s.ORIGINAL_ORDER:M=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;M.map(function(P){var B=P.source===null?null:this._sources.at(P.source);return B=t.computeSourceURL(v,B,this._sourceMapURL),{source:B,generatedLine:P.generatedLine,generatedColumn:P.generatedColumn,originalLine:P.originalLine,originalColumn:P.originalColumn,name:P.name===null?null:this._names.at(P.name)}},this).forEach(h,d)},s.prototype.allGeneratedPositionsFor=function(h){var m=t.getArg(h,"line"),p={source:t.getArg(h,"source"),originalLine:m,originalColumn:t.getArg(h,"column",0)};if(p.source=this._findSourceIndex(p.source),p.source<0)return[];var d=[],g=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(g>=0){var M=this._originalMappings[g];if(h.column===void 0)for(var v=M.originalLine;M&&M.originalLine===v;)d.push({line:t.getArg(M,"generatedLine",null),column:t.getArg(M,"generatedColumn",null),lastColumn:t.getArg(M,"lastGeneratedColumn",null)}),M=this._originalMappings[++g];else for(var P=M.originalColumn;M&&M.originalLine===m&&M.originalColumn==P;)d.push({line:t.getArg(M,"generatedLine",null),column:t.getArg(M,"generatedColumn",null),lastColumn:t.getArg(M,"lastGeneratedColumn",null)}),M=this._originalMappings[++g]}return d},Nr.SourceMapConsumer=s;function u(h,m){var p=h;typeof h=="string"&&(p=t.parseSourceMapInput(h));var d=t.getArg(p,"version"),g=t.getArg(p,"sources"),M=t.getArg(p,"names",[]),v=t.getArg(p,"sourceRoot",null),P=t.getArg(p,"sourcesContent",null),B=t.getArg(p,"mappings"),S=t.getArg(p,"file",null);if(d!=this._version)throw new Error("Unsupported version: "+d);v&&(v=t.normalize(v)),g=g.map(String).map(t.normalize).map(function(O){return v&&t.isAbsolute(v)&&t.isAbsolute(O)?t.relative(v,O):O}),this._names=n.fromArray(M.map(String),!0),this._sources=n.fromArray(g,!0),this._absoluteSources=this._sources.toArray().map(function(O){return t.computeSourceURL(v,O,m)}),this.sourceRoot=v,this.sourcesContent=P,this._mappings=B,this._sourceMapURL=m,this.file=S}u.prototype=Object.create(s.prototype),u.prototype.consumer=s,u.prototype._findSourceIndex=function(h){var m=h;if(this.sourceRoot!=null&&(m=t.relative(this.sourceRoot,m)),this._sources.has(m))return this._sources.indexOf(m);var p;for(p=0;p<this._absoluteSources.length;++p)if(this._absoluteSources[p]==h)return p;return-1},u.fromSourceMap=function(h,m){var p=Object.create(u.prototype),d=p._names=n.fromArray(h._names.toArray(),!0),g=p._sources=n.fromArray(h._sources.toArray(),!0);p.sourceRoot=h._sourceRoot,p.sourcesContent=h._generateSourcesContent(p._sources.toArray(),p.sourceRoot),p.file=h._file,p._sourceMapURL=m,p._absoluteSources=p._sources.toArray().map(function(_){return t.computeSourceURL(p.sourceRoot,_,m)});for(var M=h._mappings.toArray().slice(),v=p.__generatedMappings=[],P=p.__originalMappings=[],B=0,S=M.length;B<S;B++){var O=M[B],w=new a;w.generatedLine=O.generatedLine,w.generatedColumn=O.generatedColumn,O.source&&(w.source=g.indexOf(O.source),w.originalLine=O.originalLine,w.originalColumn=O.originalColumn,O.name&&(w.name=d.indexOf(O.name)),P.push(w)),v.push(w)}return i(p.__originalMappings,t.compareByOriginalPositions),p},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function a(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}u.prototype._parseMappings=function(h,m){for(var p=1,d=0,g=0,M=0,v=0,P=0,B=h.length,S=0,O={},w={},_=[],k=[],I,T,H,G,Z;S<B;)if(h.charAt(S)===";")p++,S++,d=0;else if(h.charAt(S)===",")S++;else{for(I=new a,I.generatedLine=p,G=S;G<B&&!this._charIsMappingSeparator(h,G);G++);if(T=h.slice(S,G),H=O[T],H)S+=T.length;else{for(H=[];S<G;)r.decode(h,S,w),Z=w.value,S=w.rest,H.push(Z);if(H.length===2)throw new Error("Found a source, but no line and column");if(H.length===3)throw new Error("Found a source and line, but no column");O[T]=H}I.generatedColumn=d+H[0],d=I.generatedColumn,H.length>1&&(I.source=v+H[1],v+=H[1],I.originalLine=g+H[2],g=I.originalLine,I.originalLine+=1,I.originalColumn=M+H[3],M=I.originalColumn,H.length>4&&(I.name=P+H[4],P+=H[4])),k.push(I),typeof I.originalLine=="number"&&_.push(I)}i(k,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=k,i(_,t.compareByOriginalPositions),this.__originalMappings=_},u.prototype._findMapping=function(h,m,p,d,g,M){if(h[p]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+h[p]);if(h[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+h[d]);return e.search(h,m,g,M)},u.prototype.computeColumnSpans=function(){for(var h=0;h<this._generatedMappings.length;++h){var m=this._generatedMappings[h];if(h+1<this._generatedMappings.length){var p=this._generatedMappings[h+1];if(m.generatedLine===p.generatedLine){m.lastGeneratedColumn=p.generatedColumn-1;continue}}m.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(h){var m={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},p=this._findMapping(m,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(h,"bias",s.GREATEST_LOWER_BOUND));if(p>=0){var d=this._generatedMappings[p];if(d.generatedLine===m.generatedLine){var g=t.getArg(d,"source",null);g!==null&&(g=this._sources.at(g),g=t.computeSourceURL(this.sourceRoot,g,this._sourceMapURL));var M=t.getArg(d,"name",null);return M!==null&&(M=this._names.at(M)),{source:g,line:t.getArg(d,"originalLine",null),column:t.getArg(d,"originalColumn",null),name:M}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(h){return h==null}):!1},u.prototype.sourceContentFor=function(h,m){if(!this.sourcesContent)return null;var p=this._findSourceIndex(h);if(p>=0)return this.sourcesContent[p];var d=h;this.sourceRoot!=null&&(d=t.relative(this.sourceRoot,d));var g;if(this.sourceRoot!=null&&(g=t.urlParse(this.sourceRoot))){var M=d.replace(/^file:\/\//,"");if(g.scheme=="file"&&this._sources.has(M))return this.sourcesContent[this._sources.indexOf(M)];if((!g.path||g.path=="/")&&this._sources.has("/"+d))return this.sourcesContent[this._sources.indexOf("/"+d)]}if(m)return null;throw new Error('"'+d+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(h){var m=t.getArg(h,"source");if(m=this._findSourceIndex(m),m<0)return{line:null,column:null,lastColumn:null};var p={source:m,originalLine:t.getArg(h,"line"),originalColumn:t.getArg(h,"column")},d=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(h,"bias",s.GREATEST_LOWER_BOUND));if(d>=0){var g=this._originalMappings[d];if(g.source===p.source)return{line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Nr.BasicSourceMapConsumer=u;function c(h,m){var p=h;typeof h=="string"&&(p=t.parseSourceMapInput(h));var d=t.getArg(p,"version"),g=t.getArg(p,"sections");if(d!=this._version)throw new Error("Unsupported version: "+d);this._sources=new n,this._names=new n;var M={line:-1,column:0};this._sections=g.map(function(v){if(v.url)throw new Error("Support for url field in sections not implemented.");var P=t.getArg(v,"offset"),B=t.getArg(P,"line"),S=t.getArg(P,"column");if(B<M.line||B===M.line&&S<M.column)throw new Error("Section offsets must be ordered and non-overlapping.");return M=P,{generatedOffset:{generatedLine:B+1,generatedColumn:S+1},consumer:new s(t.getArg(v,"map"),m)}})}return c.prototype=Object.create(s.prototype),c.prototype.constructor=s,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var h=[],m=0;m<this._sections.length;m++)for(var p=0;p<this._sections[m].consumer.sources.length;p++)h.push(this._sections[m].consumer.sources[p]);return h}}),c.prototype.originalPositionFor=function(h){var m={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},p=e.search(m,this._sections,function(g,M){var v=g.generatedLine-M.generatedOffset.generatedLine;return v||g.generatedColumn-M.generatedOffset.generatedColumn}),d=this._sections[p];return d?d.consumer.originalPositionFor({line:m.generatedLine-(d.generatedOffset.generatedLine-1),column:m.generatedColumn-(d.generatedOffset.generatedLine===m.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:h.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(h){return h.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(h,m){for(var p=0;p<this._sections.length;p++){var d=this._sections[p],g=d.consumer.sourceContentFor(h,!0);if(g)return g}if(m)return null;throw new Error('"'+h+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(h){for(var m=0;m<this._sections.length;m++){var p=this._sections[m];if(p.consumer._findSourceIndex(t.getArg(h,"source"))!==-1){var d=p.consumer.generatedPositionFor(h);if(d){var g={line:d.line+(p.generatedOffset.generatedLine-1),column:d.column+(p.generatedOffset.generatedLine===d.line?p.generatedOffset.generatedColumn-1:0)};return g}}}return{line:null,column:null}},c.prototype._parseMappings=function(h,m){this.__generatedMappings=[],this.__originalMappings=[];for(var p=0;p<this._sections.length;p++)for(var d=this._sections[p],g=d.consumer._generatedMappings,M=0;M<g.length;M++){var v=g[M],P=d.consumer._sources.at(v.source);P=t.computeSourceURL(d.consumer.sourceRoot,P,this._sourceMapURL),this._sources.add(P),P=this._sources.indexOf(P);var B=null;v.name&&(B=d.consumer._names.at(v.name),this._names.add(B),B=this._names.indexOf(B));var S={source:P,generatedLine:v.generatedLine+(d.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(d.generatedOffset.generatedLine===v.generatedLine?d.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:B};this.__generatedMappings.push(S),typeof S.originalLine=="number"&&this.__originalMappings.push(S)}i(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),i(this.__originalMappings,t.compareByOriginalPositions)},Nr.IndexedSourceMapConsumer=c,Nr}var Vs={},xo;function ib(){if(xo)return Vs;xo=1;var t=zd().SourceMapGenerator,e=$r(),n=/(\r?\n)/,r=10,i="$$$isSourceNode$$$";function s(u,a,c,h,m){this.children=[],this.sourceContents={},this.line=u??null,this.column=a??null,this.source=c??null,this.name=m??null,this[i]=!0,h!=null&&this.add(h)}return s.fromStringWithSourceMap=function(u,a,c){var h=new s,m=u.split(n),p=0,d=function(){var B=O(),S=O()||"";return B+S;function O(){return p<m.length?m[p++]:void 0}},g=1,M=0,v=null;return a.eachMapping(function(B){if(v!==null)if(g<B.generatedLine)P(v,d()),g++,M=0;else{var S=m[p]||"",O=S.substr(0,B.generatedColumn-M);m[p]=S.substr(B.generatedColumn-M),M=B.generatedColumn,P(v,O),v=B;return}for(;g<B.generatedLine;)h.add(d()),g++;if(M<B.generatedColumn){var S=m[p]||"";h.add(S.substr(0,B.generatedColumn)),m[p]=S.substr(B.generatedColumn),M=B.generatedColumn}v=B},this),p<m.length&&(v&&P(v,d()),h.add(m.splice(p).join(""))),a.sources.forEach(function(B){var S=a.sourceContentFor(B);S!=null&&(c!=null&&(B=e.join(c,B)),h.setSourceContent(B,S))}),h;function P(B,S){if(B===null||B.source===void 0)h.add(S);else{var O=c?e.join(c,B.source):B.source;h.add(new s(B.originalLine,B.originalColumn,O,S,B.name))}}},s.prototype.add=function(u){if(Array.isArray(u))u.forEach(function(a){this.add(a)},this);else if(u[i]||typeof u=="string")u&&this.children.push(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},s.prototype.prepend=function(u){if(Array.isArray(u))for(var a=u.length-1;a>=0;a--)this.prepend(u[a]);else if(u[i]||typeof u=="string")this.children.unshift(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},s.prototype.walk=function(u){for(var a,c=0,h=this.children.length;c<h;c++)a=this.children[c],a[i]?a.walk(u):a!==""&&u(a,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(u){var a,c,h=this.children.length;if(h>0){for(a=[],c=0;c<h-1;c++)a.push(this.children[c]),a.push(u);a.push(this.children[c]),this.children=a}return this},s.prototype.replaceRight=function(u,a){var c=this.children[this.children.length-1];return c[i]?c.replaceRight(u,a):typeof c=="string"?this.children[this.children.length-1]=c.replace(u,a):this.children.push("".replace(u,a)),this},s.prototype.setSourceContent=function(u,a){this.sourceContents[e.toSetString(u)]=a},s.prototype.walkSourceContents=function(u){for(var a=0,c=this.children.length;a<c;a++)this.children[a][i]&&this.children[a].walkSourceContents(u);for(var h=Object.keys(this.sourceContents),a=0,c=h.length;a<c;a++)u(e.fromSetString(h[a]),this.sourceContents[h[a]])},s.prototype.toString=function(){var u="";return this.walk(function(a){u+=a}),u},s.prototype.toStringWithSourceMap=function(u){var a={code:"",line:1,column:0},c=new t(u),h=!1,m=null,p=null,d=null,g=null;return this.walk(function(M,v){a.code+=M,v.source!==null&&v.line!==null&&v.column!==null?((m!==v.source||p!==v.line||d!==v.column||g!==v.name)&&c.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:a.line,column:a.column},name:v.name}),m=v.source,p=v.line,d=v.column,g=v.name,h=!0):h&&(c.addMapping({generated:{line:a.line,column:a.column}}),m=null,h=!1);for(var P=0,B=M.length;P<B;P++)M.charCodeAt(P)===r?(a.line++,a.column=0,P+1===B?(m=null,h=!1):h&&c.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:a.line,column:a.column},name:v.name})):a.column++}),this.walkSourceContents(function(M,v){c.setSourceContent(M,v)}),{code:a.code,map:c}},Vs.SourceNode=s,Vs}var Io;function sb(){return Io||(Io=1,Ai.SourceMapGenerator=zd().SourceMapGenerator,Ai.SourceMapConsumer=rb().SourceMapConsumer,Ai.SourceNode=ib().SourceNode),Ai}const ub="2.1.0",ab={version:ub};(function(t){(function(){var e,n,r,i,s,u,a,c,h,m,p,d,g,M,v,P,B,S,O,w,_,k,I,T,H,G;s=Td,u=Pi,e=s.Syntax;function Z(l){return st.Expression.hasOwnProperty(l.type)}function W(l){return st.Statement.hasOwnProperty(l.type)}n={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},r={"??":n.Coalesce,"||":n.LogicalOR,"&&":n.LogicalAND,"|":n.BitwiseOR,"^":n.BitwiseXOR,"&":n.BitwiseAND,"==":n.Equality,"!=":n.Equality,"===":n.Equality,"!==":n.Equality,is:n.Equality,isnt:n.Equality,"<":n.Relational,">":n.Relational,"<=":n.Relational,">=":n.Relational,in:n.Relational,instanceof:n.Relational,"<<":n.BitwiseSHIFT,">>":n.BitwiseSHIFT,">>>":n.BitwiseSHIFT,"+":n.Additive,"-":n.Additive,"*":n.Multiplicative,"%":n.Multiplicative,"/":n.Multiplicative,"**":n.Exponentiation};var q=1,X=2,ht=4,tt=8,at=16,ot=32,Mt=64,ae=X|ht,Qt=q|X,j=q|X|ht,te=q,ne=ht,ge=q|ht,Et=q,Ut=q|ot,yt=0,Wt=q|at,me=q|tt;function de(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function xt(l,A){var f="";for(A|=0;A>0;A>>>=1,l+=l)A&1&&(f+=l);return f}function dn(l){return/[\r\n]/g.test(l)}function It(l){var A=l.length;return A&&u.code.isLineTerminator(l.charCodeAt(A-1))}function fn(l,A){var f;for(f in A)A.hasOwnProperty(f)&&(l[f]=A[f]);return l}function Ae(l,A){var f,C;function E(N){return typeof N=="object"&&N instanceof Object&&!(N instanceof RegExp)}for(f in A)A.hasOwnProperty(f)&&(C=A[f],E(C)?E(l[f])?Ae(l[f],C):l[f]=Ae({},C):l[f]=C);return l}function Ve(l){var A,f,C,E,N;if(l!==l)throw new Error("Numeric literal whose value is NaN");if(l<0||l===0&&1/l<0)throw new Error("Numeric literal whose value is negative");if(l===1/0)return h?"null":m?"1e400":"1e+400";if(A=""+l,!m||A.length<3)return A;for(f=A.indexOf("."),!h&&A.charCodeAt(0)===48&&f===1&&(f=0,A=A.slice(1)),C=A,A=A.replace("e+","e"),E=0,(N=C.indexOf("e"))>0&&(E=+C.slice(N+1),C=C.slice(0,N)),f>=0&&(E-=C.length-f-1,C=+(C.slice(0,f)+C.slice(f+1))+""),N=0;C.charCodeAt(C.length+N-1)===48;)--N;return N!==0&&(E-=N,C=C.slice(0,N)),E!==0&&(C+="e"+E),(C.length<A.length||p&&l>1e12&&Math.floor(l)===l&&(C="0x"+l.toString(16)).length<A.length)&&+C===l&&(A=C),A}function Je(l,A){return(l&-2)===8232?(A?"u":"\\u")+(l===8232?"2028":"2029"):l===10||l===13?(A?"":"\\")+(l===10?"n":"r"):String.fromCharCode(l)}function $e(l){var A,f,C,E,N,R,z,U;if(f=l.toString(),l.source){if(A=f.match(/\/([^/]*)$/),!A)return f;for(C=A[1],f="",z=!1,U=!1,E=0,N=l.source.length;E<N;++E)R=l.source.charCodeAt(E),U?(f+=Je(R,U),U=!1):(z?R===93&&(z=!1):R===47?f+="\\":R===91&&(z=!0),f+=Je(R,U),U=R===92);return"/"+f+"/"+C}return f}function Qe(l,A){var f;return l===8?"\\b":l===12?"\\f":l===9?"\\t":(f=l.toString(16).toUpperCase(),h||l>255?"\\u"+"0000".slice(f.length)+f:l===0&&!u.code.isDecimalDigit(A)?"\\0":l===11?"\\x0B":"\\x"+"00".slice(f.length)+f)}function gn(l){if(l===92)return"\\\\";if(l===10)return"\\n";if(l===13)return"\\r";if(l===8232)return"\\u2028";if(l===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function tn(l){var A,f,C,E;for(E=d==="double"?'"':"'",A=0,f=l.length;A<f;++A)if(C=l.charCodeAt(A),C===39){E='"';break}else if(C===34){E="'";break}else C===92&&++A;return E+l+E}function Re(l){var A="",f,C,E,N=0,R=0,z,U;for(f=0,C=l.length;f<C;++f){if(E=l.charCodeAt(f),E===39)++N;else if(E===34)++R;else if(E===47&&h)A+="\\";else if(u.code.isLineTerminator(E)||E===92){A+=gn(E);continue}else if(!u.code.isIdentifierPartES5(E)&&(h&&E<32||!h&&!g&&(E<32||E>126))){A+=Qe(E,l.charCodeAt(f+1));continue}A+=String.fromCharCode(E)}if(z=!(d==="double"||d==="auto"&&R<N),U=z?"'":'"',!(z?N:R))return U+A+U;for(l=A,A=U,f=0,C=l.length;f<C;++f)E=l.charCodeAt(f),(E===39&&z||E===34&&!z)&&(A+="\\"),A+=String.fromCharCode(E);return A+U}function Ce(l){var A,f,C,E="";for(A=0,f=l.length;A<f;++A)C=l[A],E+=Array.isArray(C)?Ce(C):C;return E}function ft(l,A){if(!k)return Array.isArray(l)?Ce(l):l;if(A==null){if(l instanceof i)return l;A={}}return A.loc==null?new i(null,null,k,l,A.name||null):new i(A.loc.start.line,A.loc.start.column,k===!0?A.loc.source||null:k,l,A.name||null)}function Rt(){return v||" "}function ut(l,A){var f,C,E,N;return f=ft(l).toString(),f.length===0?[A]:(C=ft(A).toString(),C.length===0?[l]:(E=f.charCodeAt(f.length-1),N=C.charCodeAt(0),(E===43||E===45)&&E===N||u.code.isIdentifierPartES5(E)&&u.code.isIdentifierPartES5(N)||E===47&&N===105?[l,Rt(),A]:u.code.isWhiteSpace(E)||u.code.isLineTerminator(E)||u.code.isWhiteSpace(N)||u.code.isLineTerminator(N)?[l,A]:[l,v,A]))}function Ot(l){return[a,l]}function wt(l){var A;A=a,a+=c,l(a),a=A}function xr(l){var A;for(A=l.length-1;A>=0&&!u.code.isLineTerminator(l.charCodeAt(A));--A);return l.length-1-A}function An(l,A){var f,C,E,N,R,z,U,dt;for(f=l.split(/\r\n|[\r\n]/),z=Number.MAX_VALUE,C=1,E=f.length;C<E;++C){for(N=f[C],R=0;R<N.length&&u.code.isWhiteSpace(N.charCodeAt(R));)++R;z>R&&(z=R)}for(typeof A<"u"?(U=a,f[1][z]==="*"&&(A+=" "),a=A):(z&1&&--z,U=a),C=1,E=f.length;C<E;++C)dt=ft(Ot(f[C].slice(z))),f[C]=k?dt.join(""):dt;return a=U,f.join(`
`)}function Dt(l,A){if(l.type==="Line"){if(It(l.value))return"//"+l.value;var f="//"+l.value;return T||(f+=`
`),f}return w.format.indent.adjustMultilineComment&&/[\n\r]/.test(l.value)?An("/*"+l.value+"*/",A):"/*"+l.value+"*/"}function en(l,A){var f,C,E,N,R,z,U,dt,zt,nn,Cn,ai,oi,De;if(l.leadingComments&&l.leadingComments.length>0){if(N=A,T){for(E=l.leadingComments[0],A=[],dt=E.extendedRange,zt=E.range,Cn=I.substring(dt[0],zt[0]),De=(Cn.match(/\n/g)||[]).length,De>0?(A.push(xt(`
`,De)),A.push(Ot(Dt(E)))):(A.push(Cn),A.push(Dt(E))),nn=zt,f=1,C=l.leadingComments.length;f<C;f++)E=l.leadingComments[f],zt=E.range,ai=I.substring(nn[1],zt[0]),De=(ai.match(/\n/g)||[]).length,A.push(xt(`
`,De)),A.push(Ot(Dt(E))),nn=zt;oi=I.substring(zt[1],dt[1]),De=(oi.match(/\n/g)||[]).length,A.push(xt(`
`,De))}else for(E=l.leadingComments[0],A=[],S&&l.type===e.Program&&l.body.length===0&&A.push(`
`),A.push(Dt(E)),It(ft(A).toString())||A.push(`
`),f=1,C=l.leadingComments.length;f<C;++f)E=l.leadingComments[f],U=[Dt(E)],It(ft(U).toString())||U.push(`
`),A.push(Ot(U));A.push(Ot(N))}if(l.trailingComments)if(T)E=l.trailingComments[0],dt=E.extendedRange,zt=E.range,Cn=I.substring(dt[0],zt[0]),De=(Cn.match(/\n/g)||[]).length,De>0?(A.push(xt(`
`,De)),A.push(Ot(Dt(E)))):(A.push(Cn),A.push(Dt(E)));else for(R=!It(ft(A).toString()),z=xt(" ",xr(ft([a,A,c]).toString())),f=0,C=l.trailingComments.length;f<C;++f)E=l.trailingComments[f],R?(f===0?A=[A,c]:A=[A,z],A.push(Dt(E,z))):A=[A,Ot(Dt(E))],f!==C-1&&!It(ft(A).toString())&&(A=[A,`
`]);return A}function oe(l,A,f){var C,E=0;for(C=l;C<A;C++)I[C]===`
`&&E++;for(C=1;C<E;C++)f.push(M)}function St(l,A,f){return A<f?["(",l,")"]:l}function Nn(l){var A,f,C;for(C=l.split(/\r\n|\n/),A=1,f=C.length;A<f;A++)C[A]=M+a+C[A];return C}function Xn(l,A){var f,C,E;return f=l[w.verbatim],typeof f=="string"?C=St(Nn(f),n.Sequence,A):(C=Nn(f.content),E=f.precedence!=null?f.precedence:n.Sequence,C=St(C,E,A)),ft(C,l)}function st(){}st.prototype.maybeBlock=function(l,A){var f,C,E=this;return C=!w.comment||!l.leadingComments,l.type===e.BlockStatement&&C?[v,this.generateStatement(l,A)]:l.type===e.EmptyStatement&&C?";":(wt(function(){f=[M,Ot(E.generateStatement(l,A))]}),f)},st.prototype.maybeBlockSuffix=function(l,A){var f=It(ft(A).toString());return l.type===e.BlockStatement&&(!w.comment||!l.leadingComments)&&!f?[A,v]:f?[A,a]:[A,M,a]};function Lt(l){return ft(l.name,l)}function ye(l,A){return l.async?"async"+(A?Rt():v):""}function ce(l){var A=l.generator&&!w.moz.starlessGenerator;return A?"*"+v:""}function Ir(l){var A=l.value,f="";return A.async&&(f+=ye(A,!l.computed)),A.generator&&(f+=ce(A)?"*":""),f}st.prototype.generatePattern=function(l,A,f){return l.type===e.Identifier?Lt(l):this.generateExpression(l,A,f)},st.prototype.generateFunctionParams=function(l){var A,f,C,E;if(E=!1,l.type===e.ArrowFunctionExpression&&!l.rest&&(!l.defaults||l.defaults.length===0)&&l.params.length===1&&l.params[0].type===e.Identifier)C=[ye(l,!0),Lt(l.params[0])];else{for(C=l.type===e.ArrowFunctionExpression?[ye(l,!1)]:[],C.push("("),l.defaults&&(E=!0),A=0,f=l.params.length;A<f;++A)E&&l.defaults[A]?C.push(this.generateAssignment(l.params[A],l.defaults[A],"=",n.Assignment,j)):C.push(this.generatePattern(l.params[A],n.Assignment,j)),A+1<f&&C.push(","+v);l.rest&&(l.params.length&&C.push(","+v),C.push("..."),C.push(Lt(l.rest))),C.push(")")}return C},st.prototype.generateFunctionBody=function(l){var A,f;return A=this.generateFunctionParams(l),l.type===e.ArrowFunctionExpression&&(A.push(v),A.push("=>")),l.expression?(A.push(v),f=this.generateExpression(l.body,n.Assignment,j),f.toString().charAt(0)==="{"&&(f=["(",f,")"]),A.push(f)):A.push(this.maybeBlock(l.body,me)),A},st.prototype.generateIterationForStatement=function(l,A,f){var C=["for"+(A.await?Rt()+"await":"")+v+"("],E=this;return wt(function(){A.left.type===e.VariableDeclaration?wt(function(){C.push(A.left.kind+Rt()),C.push(E.generateStatement(A.left.declarations[0],yt))}):C.push(E.generateExpression(A.left,n.Call,j)),C=ut(C,l),C=[ut(C,E.generateExpression(A.right,n.Assignment,j)),")"]}),C.push(this.maybeBlock(A.body,f)),C},st.prototype.generatePropertyKey=function(l,A){var f=[];return A&&f.push("["),f.push(this.generateExpression(l,n.Assignment,j)),A&&f.push("]"),f},st.prototype.generateAssignment=function(l,A,f,C,E){return n.Assignment<C&&(E|=q),St([this.generateExpression(l,n.Call,E),v+f+v,this.generateExpression(A,n.Assignment,E)],n.Assignment,C)},st.prototype.semicolon=function(l){return!B&&l&ot?"":";"},st.Statement={BlockStatement:function(l,A){var f,C,E=["{",M],N=this;return wt(function(){l.body.length===0&&T&&(f=l.range,f[1]-f[0]>2&&(C=I.substring(f[0]+1,f[1]-1),C[0]===`
`&&(E=["{"]),E.push(C)));var R,z,U,dt;for(dt=Et,A&tt&&(dt|=at),R=0,z=l.body.length;R<z;++R)T&&(R===0&&(l.body[0].leadingComments&&(f=l.body[0].leadingComments[0].extendedRange,C=I.substring(f[0],f[1]),C[0]===`
`&&(E=["{"])),l.body[0].leadingComments||oe(l.range[0],l.body[0].range[0],E)),R>0&&!l.body[R-1].trailingComments&&!l.body[R].leadingComments&&oe(l.body[R-1].range[1],l.body[R].range[0],E)),R===z-1&&(dt|=ot),l.body[R].leadingComments&&T?U=N.generateStatement(l.body[R],dt):U=Ot(N.generateStatement(l.body[R],dt)),E.push(U),It(ft(U).toString())||T&&R<z-1&&l.body[R+1].leadingComments||E.push(M),T&&R===z-1&&(l.body[R].trailingComments||oe(l.body[R].range[1],l.range[1],E))}),E.push(Ot("}")),E},BreakStatement:function(l,A){return l.label?"break "+l.label.name+this.semicolon(A):"break"+this.semicolon(A)},ContinueStatement:function(l,A){return l.label?"continue "+l.label.name+this.semicolon(A):"continue"+this.semicolon(A)},ClassBody:function(l,A){var f=["{",M],C=this;return wt(function(E){var N,R;for(N=0,R=l.body.length;N<R;++N)f.push(E),f.push(C.generateExpression(l.body[N],n.Sequence,j)),N+1<R&&f.push(M)}),It(ft(f).toString())||f.push(M),f.push(a),f.push("}"),f},ClassDeclaration:function(l,A){var f,C;return f=["class"],l.id&&(f=ut(f,this.generateExpression(l.id,n.Sequence,j))),l.superClass&&(C=ut("extends",this.generateExpression(l.superClass,n.Unary,j)),f=ut(f,C)),f.push(v),f.push(this.generateStatement(l.body,Ut)),f},DirectiveStatement:function(l,A){return w.raw&&l.raw?l.raw+this.semicolon(A):tn(l.directive)+this.semicolon(A)},DoWhileStatement:function(l,A){var f=ut("do",this.maybeBlock(l.body,Et));return f=this.maybeBlockSuffix(l.body,f),ut(f,["while"+v+"(",this.generateExpression(l.test,n.Sequence,j),")"+this.semicolon(A)])},CatchClause:function(l,A){var f,C=this;return wt(function(){var E;l.param?(f=["catch"+v+"(",C.generateExpression(l.param,n.Sequence,j),")"],l.guard&&(E=C.generateExpression(l.guard,n.Sequence,j),f.splice(2,0," if ",E))):f=["catch"]}),f.push(this.maybeBlock(l.body,Et)),f},DebuggerStatement:function(l,A){return"debugger"+this.semicolon(A)},EmptyStatement:function(l,A){return";"},ExportDefaultDeclaration:function(l,A){var f=["export"],C;return C=A&ot?Ut:Et,f=ut(f,"default"),W(l.declaration)?f=ut(f,this.generateStatement(l.declaration,C)):f=ut(f,this.generateExpression(l.declaration,n.Assignment,j)+this.semicolon(A)),f},ExportNamedDeclaration:function(l,A){var f=["export"],C,E=this;return C=A&ot?Ut:Et,l.declaration?ut(f,this.generateStatement(l.declaration,C)):(l.specifiers&&(l.specifiers.length===0?f=ut(f,"{"+v+"}"):l.specifiers[0].type===e.ExportBatchSpecifier?f=ut(f,this.generateExpression(l.specifiers[0],n.Sequence,j)):(f=ut(f,"{"),wt(function(N){var R,z;for(f.push(M),R=0,z=l.specifiers.length;R<z;++R)f.push(N),f.push(E.generateExpression(l.specifiers[R],n.Sequence,j)),R+1<z&&f.push(","+M)}),It(ft(f).toString())||f.push(M),f.push(a+"}")),l.source?f=ut(f,["from"+v,this.generateExpression(l.source,n.Sequence,j),this.semicolon(A)]):f.push(this.semicolon(A))),f)},ExportAllDeclaration:function(l,A){return["export"+v,"*"+v,"from"+v,this.generateExpression(l.source,n.Sequence,j),this.semicolon(A)]},ExpressionStatement:function(l,A){var f,C;function E(z){var U;return z.slice(0,5)!=="class"?!1:(U=z.charCodeAt(5),U===123||u.code.isWhiteSpace(U)||u.code.isLineTerminator(U))}function N(z){var U;return z.slice(0,8)!=="function"?!1:(U=z.charCodeAt(8),U===40||u.code.isWhiteSpace(U)||U===42||u.code.isLineTerminator(U))}function R(z){var U,dt,zt;if(z.slice(0,5)!=="async"||!u.code.isWhiteSpace(z.charCodeAt(5)))return!1;for(dt=6,zt=z.length;dt<zt&&u.code.isWhiteSpace(z.charCodeAt(dt));++dt);return dt===zt||z.slice(dt,dt+8)!=="function"?!1:(U=z.charCodeAt(dt+8),U===40||u.code.isWhiteSpace(U)||U===42||u.code.isLineTerminator(U))}return f=[this.generateExpression(l.expression,n.Sequence,j)],C=ft(f).toString(),C.charCodeAt(0)===123||E(C)||N(C)||R(C)||O&&A&at&&l.expression.type===e.Literal&&typeof l.expression.value=="string"?f=["(",f,")"+this.semicolon(A)]:f.push(this.semicolon(A)),f},ImportDeclaration:function(l,A){var f,C,E=this;return l.specifiers.length===0?["import",v,this.generateExpression(l.source,n.Sequence,j),this.semicolon(A)]:(f=["import"],C=0,l.specifiers[C].type===e.ImportDefaultSpecifier&&(f=ut(f,[this.generateExpression(l.specifiers[C],n.Sequence,j)]),++C),l.specifiers[C]&&(C!==0&&f.push(","),l.specifiers[C].type===e.ImportNamespaceSpecifier?f=ut(f,[v,this.generateExpression(l.specifiers[C],n.Sequence,j)]):(f.push(v+"{"),l.specifiers.length-C===1?(f.push(v),f.push(this.generateExpression(l.specifiers[C],n.Sequence,j)),f.push(v+"}"+v)):(wt(function(N){var R,z;for(f.push(M),R=C,z=l.specifiers.length;R<z;++R)f.push(N),f.push(E.generateExpression(l.specifiers[R],n.Sequence,j)),R+1<z&&f.push(","+M)}),It(ft(f).toString())||f.push(M),f.push(a+"}"+v)))),f=ut(f,["from"+v,this.generateExpression(l.source,n.Sequence,j),this.semicolon(A)]),f)},VariableDeclarator:function(l,A){var f=A&q?j:ae;return l.init?[this.generateExpression(l.id,n.Assignment,f),v,"=",v,this.generateExpression(l.init,n.Assignment,f)]:this.generatePattern(l.id,n.Assignment,f)},VariableDeclaration:function(l,A){var f,C,E,N,R,z=this;f=[l.kind],R=A&q?Et:yt;function U(){for(N=l.declarations[0],w.comment&&N.leadingComments?(f.push(`
`),f.push(Ot(z.generateStatement(N,R)))):(f.push(Rt()),f.push(z.generateStatement(N,R))),C=1,E=l.declarations.length;C<E;++C)N=l.declarations[C],w.comment&&N.leadingComments?(f.push(","+M),f.push(Ot(z.generateStatement(N,R)))):(f.push(","+v),f.push(z.generateStatement(N,R)))}return l.declarations.length>1?wt(U):U(),f.push(this.semicolon(A)),f},ThrowStatement:function(l,A){return[ut("throw",this.generateExpression(l.argument,n.Sequence,j)),this.semicolon(A)]},TryStatement:function(l,A){var f,C,E,N;if(f=["try",this.maybeBlock(l.block,Et)],f=this.maybeBlockSuffix(l.block,f),l.handlers)for(C=0,E=l.handlers.length;C<E;++C)f=ut(f,this.generateStatement(l.handlers[C],Et)),(l.finalizer||C+1!==E)&&(f=this.maybeBlockSuffix(l.handlers[C].body,f));else{for(N=l.guardedHandlers||[],C=0,E=N.length;C<E;++C)f=ut(f,this.generateStatement(N[C],Et)),(l.finalizer||C+1!==E)&&(f=this.maybeBlockSuffix(N[C].body,f));if(l.handler)if(Array.isArray(l.handler))for(C=0,E=l.handler.length;C<E;++C)f=ut(f,this.generateStatement(l.handler[C],Et)),(l.finalizer||C+1!==E)&&(f=this.maybeBlockSuffix(l.handler[C].body,f));else f=ut(f,this.generateStatement(l.handler,Et)),l.finalizer&&(f=this.maybeBlockSuffix(l.handler.body,f))}return l.finalizer&&(f=ut(f,["finally",this.maybeBlock(l.finalizer,Et)])),f},SwitchStatement:function(l,A){var f,C,E,N,R,z=this;if(wt(function(){f=["switch"+v+"(",z.generateExpression(l.discriminant,n.Sequence,j),")"+v+"{"+M]}),l.cases)for(R=Et,E=0,N=l.cases.length;E<N;++E)E===N-1&&(R|=ot),C=Ot(this.generateStatement(l.cases[E],R)),f.push(C),It(ft(C).toString())||f.push(M);return f.push(Ot("}")),f},SwitchCase:function(l,A){var f,C,E,N,R,z=this;return wt(function(){for(l.test?f=[ut("case",z.generateExpression(l.test,n.Sequence,j)),":"]:f=["default:"],E=0,N=l.consequent.length,N&&l.consequent[0].type===e.BlockStatement&&(C=z.maybeBlock(l.consequent[0],Et),f.push(C),E=1),E!==N&&!It(ft(f).toString())&&f.push(M),R=Et;E<N;++E)E===N-1&&A&ot&&(R|=ot),C=Ot(z.generateStatement(l.consequent[E],R)),f.push(C),E+1!==N&&!It(ft(C).toString())&&f.push(M)}),f},IfStatement:function(l,A){var f,C,E,N=this;return wt(function(){f=["if"+v+"(",N.generateExpression(l.test,n.Sequence,j),")"]}),E=A&ot,C=Et,E&&(C|=ot),l.alternate?(f.push(this.maybeBlock(l.consequent,Et)),f=this.maybeBlockSuffix(l.consequent,f),l.alternate.type===e.IfStatement?f=ut(f,["else ",this.generateStatement(l.alternate,C)]):f=ut(f,ut("else",this.maybeBlock(l.alternate,C)))):f.push(this.maybeBlock(l.consequent,C)),f},ForStatement:function(l,A){var f,C=this;return wt(function(){f=["for"+v+"("],l.init?l.init.type===e.VariableDeclaration?f.push(C.generateStatement(l.init,yt)):(f.push(C.generateExpression(l.init,n.Sequence,ae)),f.push(";")):f.push(";"),l.test&&(f.push(v),f.push(C.generateExpression(l.test,n.Sequence,j))),f.push(";"),l.update&&(f.push(v),f.push(C.generateExpression(l.update,n.Sequence,j))),f.push(")")}),f.push(this.maybeBlock(l.body,A&ot?Ut:Et)),f},ForInStatement:function(l,A){return this.generateIterationForStatement("in",l,A&ot?Ut:Et)},ForOfStatement:function(l,A){return this.generateIterationForStatement("of",l,A&ot?Ut:Et)},LabeledStatement:function(l,A){return[l.label.name+":",this.maybeBlock(l.body,A&ot?Ut:Et)]},Program:function(l,A){var f,C,E,N,R;for(N=l.body.length,f=[S&&N>0?`
`:""],R=Wt,E=0;E<N;++E)!S&&E===N-1&&(R|=ot),T&&(E===0&&(l.body[0].leadingComments||oe(l.range[0],l.body[E].range[0],f)),E>0&&!l.body[E-1].trailingComments&&!l.body[E].leadingComments&&oe(l.body[E-1].range[1],l.body[E].range[0],f)),C=Ot(this.generateStatement(l.body[E],R)),f.push(C),E+1<N&&!It(ft(C).toString())&&(T&&l.body[E+1].leadingComments||f.push(M)),T&&E===N-1&&(l.body[E].trailingComments||oe(l.body[E].range[1],l.range[1],f));return f},FunctionDeclaration:function(l,A){return[ye(l,!0),"function",ce(l)||Rt(),l.id?Lt(l.id):"",this.generateFunctionBody(l)]},ReturnStatement:function(l,A){return l.argument?[ut("return",this.generateExpression(l.argument,n.Sequence,j)),this.semicolon(A)]:["return"+this.semicolon(A)]},WhileStatement:function(l,A){var f,C=this;return wt(function(){f=["while"+v+"(",C.generateExpression(l.test,n.Sequence,j),")"]}),f.push(this.maybeBlock(l.body,A&ot?Ut:Et)),f},WithStatement:function(l,A){var f,C=this;return wt(function(){f=["with"+v+"(",C.generateExpression(l.object,n.Sequence,j),")"]}),f.push(this.maybeBlock(l.body,A&ot?Ut:Et)),f}},fn(st.prototype,st.Statement),st.Expression={SequenceExpression:function(l,A,f){var C,E,N;for(n.Sequence<A&&(f|=q),C=[],E=0,N=l.expressions.length;E<N;++E)C.push(this.generateExpression(l.expressions[E],n.Assignment,f)),E+1<N&&C.push(","+v);return St(C,n.Sequence,A)},AssignmentExpression:function(l,A,f){return this.generateAssignment(l.left,l.right,l.operator,A,f)},ArrowFunctionExpression:function(l,A,f){return St(this.generateFunctionBody(l),n.ArrowFunction,A)},ConditionalExpression:function(l,A,f){return n.Conditional<A&&(f|=q),St([this.generateExpression(l.test,n.Coalesce,f),v+"?"+v,this.generateExpression(l.consequent,n.Assignment,f),v+":"+v,this.generateExpression(l.alternate,n.Assignment,f)],n.Conditional,A)},LogicalExpression:function(l,A,f){return l.operator==="??"&&(f|=Mt),this.BinaryExpression(l,A,f)},BinaryExpression:function(l,A,f){var C,E,N,R,z,U;return R=r[l.operator],E=l.operator==="**"?n.Postfix:R,N=l.operator==="**"?R:R+1,R<A&&(f|=q),z=this.generateExpression(l.left,E,f),U=z.toString(),U.charCodeAt(U.length-1)===47&&u.code.isIdentifierPartES5(l.operator.charCodeAt(0))?C=[z,Rt(),l.operator]:C=ut(z,l.operator),z=this.generateExpression(l.right,N,f),l.operator==="/"&&z.toString().charAt(0)==="/"||l.operator.slice(-1)==="<"&&z.toString().slice(0,3)==="!--"?(C.push(Rt()),C.push(z)):C=ut(C,z),l.operator==="in"&&!(f&q)?["(",C,")"]:(l.operator==="||"||l.operator==="&&")&&f&Mt?["(",C,")"]:St(C,R,A)},CallExpression:function(l,A,f){var C,E,N;for(C=[this.generateExpression(l.callee,n.Call,Qt)],l.optional&&C.push("?."),C.push("("),E=0,N=l.arguments.length;E<N;++E)C.push(this.generateExpression(l.arguments[E],n.Assignment,j)),E+1<N&&C.push(","+v);return C.push(")"),f&X?St(C,n.Call,A):["(",C,")"]},ChainExpression:function(l,A,f){n.OptionalChaining<A&&(f|=X);var C=this.generateExpression(l.expression,n.OptionalChaining,f);return St(C,n.OptionalChaining,A)},NewExpression:function(l,A,f){var C,E,N,R,z;if(E=l.arguments.length,z=f&ht&&!P&&E===0?ge:te,C=ut("new",this.generateExpression(l.callee,n.New,z)),!(f&ht)||P||E>0){for(C.push("("),N=0,R=E;N<R;++N)C.push(this.generateExpression(l.arguments[N],n.Assignment,j)),N+1<R&&C.push(","+v);C.push(")")}return St(C,n.New,A)},MemberExpression:function(l,A,f){var C,E;return C=[this.generateExpression(l.object,n.Call,f&X?Qt:te)],l.computed?(l.optional&&C.push("?."),C.push("["),C.push(this.generateExpression(l.property,n.Sequence,f&X?j:ge)),C.push("]")):(!l.optional&&l.object.type===e.Literal&&typeof l.object.value=="number"&&(E=ft(C).toString(),E.indexOf(".")<0&&!/[eExX]/.test(E)&&u.code.isDecimalDigit(E.charCodeAt(E.length-1))&&!(E.length>=2&&E.charCodeAt(0)===48)&&C.push(" ")),C.push(l.optional?"?.":"."),C.push(Lt(l.property))),St(C,n.Member,A)},MetaProperty:function(l,A,f){var C;return C=[],C.push(typeof l.meta=="string"?l.meta:Lt(l.meta)),C.push("."),C.push(typeof l.property=="string"?l.property:Lt(l.property)),St(C,n.Member,A)},UnaryExpression:function(l,A,f){var C,E,N,R,z;return E=this.generateExpression(l.argument,n.Unary,j),v===""?C=ut(l.operator,E):(C=[l.operator],l.operator.length>2?C=ut(C,E):(R=ft(C).toString(),z=R.charCodeAt(R.length-1),N=E.toString().charCodeAt(0),((z===43||z===45)&&z===N||u.code.isIdentifierPartES5(z)&&u.code.isIdentifierPartES5(N))&&C.push(Rt()),C.push(E))),St(C,n.Unary,A)},YieldExpression:function(l,A,f){var C;return l.delegate?C="yield*":C="yield",l.argument&&(C=ut(C,this.generateExpression(l.argument,n.Yield,j))),St(C,n.Yield,A)},AwaitExpression:function(l,A,f){var C=ut(l.all?"await*":"await",this.generateExpression(l.argument,n.Await,j));return St(C,n.Await,A)},UpdateExpression:function(l,A,f){return l.prefix?St([l.operator,this.generateExpression(l.argument,n.Unary,j)],n.Unary,A):St([this.generateExpression(l.argument,n.Postfix,j),l.operator],n.Postfix,A)},FunctionExpression:function(l,A,f){var C=[ye(l,!0),"function"];return l.id?(C.push(ce(l)||Rt()),C.push(Lt(l.id))):C.push(ce(l)||v),C.push(this.generateFunctionBody(l)),C},ArrayPattern:function(l,A,f){return this.ArrayExpression(l,A,f,!0)},ArrayExpression:function(l,A,f,C){var E,N,R=this;return l.elements.length?(N=C?!1:l.elements.length>1,E=["[",N?M:""],wt(function(z){var U,dt;for(U=0,dt=l.elements.length;U<dt;++U)l.elements[U]?(E.push(N?z:""),E.push(R.generateExpression(l.elements[U],n.Assignment,j))):(N&&E.push(z),U+1===dt&&E.push(",")),U+1<dt&&E.push(","+(N?M:v))}),N&&!It(ft(E).toString())&&E.push(M),E.push(N?a:""),E.push("]"),E):"[]"},RestElement:function(l,A,f){return"..."+this.generatePattern(l.argument)},ClassExpression:function(l,A,f){var C,E;return C=["class"],l.id&&(C=ut(C,this.generateExpression(l.id,n.Sequence,j))),l.superClass&&(E=ut("extends",this.generateExpression(l.superClass,n.Unary,j)),C=ut(C,E)),C.push(v),C.push(this.generateStatement(l.body,Ut)),C},MethodDefinition:function(l,A,f){var C,E;return l.static?C=["static"+v]:C=[],l.kind==="get"||l.kind==="set"?E=[ut(l.kind,this.generatePropertyKey(l.key,l.computed)),this.generateFunctionBody(l.value)]:E=[Ir(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)],ut(C,E)},Property:function(l,A,f){return l.kind==="get"||l.kind==="set"?[l.kind,Rt(),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:l.shorthand?l.value.type==="AssignmentPattern"?this.AssignmentPattern(l.value,n.Sequence,j):this.generatePropertyKey(l.key,l.computed):l.method?[Ir(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:[this.generatePropertyKey(l.key,l.computed),":"+v,this.generateExpression(l.value,n.Assignment,j)]},ObjectExpression:function(l,A,f){var C,E,N,R=this;return l.properties.length?(C=l.properties.length>1,wt(function(){N=R.generateExpression(l.properties[0],n.Sequence,j)}),!C&&!dn(ft(N).toString())?["{",v,N,v,"}"]:(wt(function(z){var U,dt;if(E=["{",M,z,N],C)for(E.push(","+M),U=1,dt=l.properties.length;U<dt;++U)E.push(z),E.push(R.generateExpression(l.properties[U],n.Sequence,j)),U+1<dt&&E.push(","+M)}),It(ft(E).toString())||E.push(M),E.push(a),E.push("}"),E)):"{}"},AssignmentPattern:function(l,A,f){return this.generateAssignment(l.left,l.right,"=",A,f)},ObjectPattern:function(l,A,f){var C,E,N,R,z,U=this;if(!l.properties.length)return"{}";if(R=!1,l.properties.length===1)z=l.properties[0],z.type===e.Property&&z.value.type!==e.Identifier&&(R=!0);else for(E=0,N=l.properties.length;E<N;++E)if(z=l.properties[E],z.type===e.Property&&!z.shorthand){R=!0;break}return C=["{",R?M:""],wt(function(dt){var zt,nn;for(zt=0,nn=l.properties.length;zt<nn;++zt)C.push(R?dt:""),C.push(U.generateExpression(l.properties[zt],n.Sequence,j)),zt+1<nn&&C.push(","+(R?M:v))}),R&&!It(ft(C).toString())&&C.push(M),C.push(R?a:""),C.push("}"),C},ThisExpression:function(l,A,f){return"this"},Super:function(l,A,f){return"super"},Identifier:function(l,A,f){return Lt(l)},ImportDefaultSpecifier:function(l,A,f){return Lt(l.id||l.local)},ImportNamespaceSpecifier:function(l,A,f){var C=["*"],E=l.id||l.local;return E&&C.push(v+"as"+Rt()+Lt(E)),C},ImportSpecifier:function(l,A,f){var C=l.imported,E=[C.name],N=l.local;return N&&N.name!==C.name&&E.push(Rt()+"as"+Rt()+Lt(N)),E},ExportSpecifier:function(l,A,f){var C=l.local,E=[C.name],N=l.exported;return N&&N.name!==C.name&&E.push(Rt()+"as"+Rt()+Lt(N)),E},Literal:function(l,A,f){var C;if(l.hasOwnProperty("raw")&&_&&w.raw)try{if(C=_(l.raw).body[0].expression,C.type===e.Literal&&C.value===l.value)return l.raw}catch{}return l.regex?"/"+l.regex.pattern+"/"+l.regex.flags:typeof l.value=="bigint"?l.value.toString()+"n":l.bigint?l.bigint+"n":l.value===null?"null":typeof l.value=="string"?Re(l.value):typeof l.value=="number"?Ve(l.value):typeof l.value=="boolean"?l.value?"true":"false":$e(l.value)},GeneratorExpression:function(l,A,f){return this.ComprehensionExpression(l,A,f)},ComprehensionExpression:function(l,A,f){var C,E,N,R,z=this;return C=l.type===e.GeneratorExpression?["("]:["["],w.moz.comprehensionExpressionStartsWithAssignment&&(R=this.generateExpression(l.body,n.Assignment,j),C.push(R)),l.blocks&&wt(function(){for(E=0,N=l.blocks.length;E<N;++E)R=z.generateExpression(l.blocks[E],n.Sequence,j),E>0||w.moz.comprehensionExpressionStartsWithAssignment?C=ut(C,R):C.push(R)}),l.filter&&(C=ut(C,"if"+v),R=this.generateExpression(l.filter,n.Sequence,j),C=ut(C,["(",R,")"])),w.moz.comprehensionExpressionStartsWithAssignment||(R=this.generateExpression(l.body,n.Assignment,j),C=ut(C,R)),C.push(l.type===e.GeneratorExpression?")":"]"),C},ComprehensionBlock:function(l,A,f){var C;return l.left.type===e.VariableDeclaration?C=[l.left.kind,Rt(),this.generateStatement(l.left.declarations[0],yt)]:C=this.generateExpression(l.left,n.Call,j),C=ut(C,l.of?"of":"in"),C=ut(C,this.generateExpression(l.right,n.Sequence,j)),["for"+v+"(",C,")"]},SpreadElement:function(l,A,f){return["...",this.generateExpression(l.argument,n.Assignment,j)]},TaggedTemplateExpression:function(l,A,f){var C=Qt;f&X||(C=te);var E=[this.generateExpression(l.tag,n.Call,C),this.generateExpression(l.quasi,n.Primary,ne)];return St(E,n.TaggedTemplate,A)},TemplateElement:function(l,A,f){return l.value.raw},TemplateLiteral:function(l,A,f){var C,E,N;for(C=["`"],E=0,N=l.quasis.length;E<N;++E)C.push(this.generateExpression(l.quasis[E],n.Primary,j)),E+1<N&&(C.push("${"+v),C.push(this.generateExpression(l.expressions[E],n.Sequence,j)),C.push(v+"}"));return C.push("`"),C},ModuleSpecifier:function(l,A,f){return this.Literal(l,A,f)},ImportExpression:function(l,A,f){return St(["import(",this.generateExpression(l.source,n.Assignment,j),")"],n.Call,A)}},fn(st.prototype,st.Expression),st.prototype.generateExpression=function(l,A,f){var C,E;return E=l.type||e.Property,w.verbatim&&l.hasOwnProperty(w.verbatim)?Xn(l,A):(C=this[E](l,A,f),w.comment&&(C=en(l,C)),ft(C,l))},st.prototype.generateStatement=function(l,A){var f,C;return f=this[l.type](l,A),w.comment&&(f=en(l,f)),C=ft(f).toString(),l.type===e.Program&&!S&&M===""&&C.charAt(C.length-1)===`
`&&(f=k?ft(f).replaceRight(/\s+$/,""):C.replace(/\s+$/,"")),ft(f,l)};function ui(l){var A;if(A=new st,W(l))return A.generateStatement(l,Et);if(Z(l))return A.generateExpression(l,n.Sequence,j);throw new Error("Unknown node type: "+l.type)}function fs(l,A){var f=de(),C,E;return A!=null?(typeof A.indent=="string"&&(f.format.indent.style=A.indent),typeof A.base=="number"&&(f.format.indent.base=A.base),A=Ae(f,A),c=A.format.indent.style,typeof A.base=="string"?a=A.base:a=xt(c,A.format.indent.base)):(A=f,c=A.format.indent.style,a=xt(c,A.format.indent.base)),h=A.format.json,m=A.format.renumber,p=h?!1:A.format.hexadecimal,d=h?"double":A.format.quotes,g=A.format.escapeless,M=A.format.newline,v=A.format.space,A.format.compact&&(M=v=c=a=""),P=A.format.parentheses,B=A.format.semicolons,S=A.format.safeConcatenation,O=A.directive,_=h?null:A.parse,k=A.sourceMap,I=A.sourceCode,T=A.format.preserveBlankLines&&I!==null,w=A,k&&(t.browser?i=Rr.sourceMap.SourceNode:i=sb().SourceNode),C=ui(l),k?(E=C.toStringWithSourceMap({file:A.file,sourceRoot:A.sourceMapRoot}),A.sourceContent&&E.map.setSourceContent(A.sourceMap,A.sourceContent),A.sourceMapWithCode?E:E.map.toString()):(E={code:C.toString(),map:null},A.sourceMapWithCode?E:E.code)}H={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},G=de().format,t.version=ab.version,t.generate=fs,t.attachComments=s.attachComments,t.Precedence=Ae({},n),t.browser=!1,t.FORMAT_MINIFY=H,t.FORMAT_DEFAULTS=G})()})(Nd);const ob=kd(Nd);class cb{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,n,r,i){e&&n&&(r!=null?e[n][r]=i:e[n]=i)}remove(e,n,r){e&&n&&(r!=null?e[n].splice(r,1):delete e[n])}}class lb extends cb{constructor(e,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:r=>this.replacement=r},this.enter=e,this.leave=n}visit(e,n,r,i){if(e){if(this.enter){const u=this.should_skip,a=this.should_remove,c=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,n,r,i),this.replacement&&(e=this.replacement,this.replace(n,r,i,e)),this.should_remove&&this.remove(n,r,i);const h=this.should_skip,m=this.should_remove;if(this.should_skip=u,this.should_remove=a,this.replacement=c,h)return e;if(m)return null}let s;for(s in e){const u=e[s];if(u&&typeof u=="object")if(Array.isArray(u)){const a=u;for(let c=0;c<a.length;c+=1){const h=a[c];So(h)&&(this.visit(h,e,s,c)||c--)}}else So(u)&&this.visit(u,e,s,null)}if(this.leave){const u=this.replacement,a=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,n,r,i),this.replacement&&(e=this.replacement,this.replace(n,r,i,e)),this.should_remove&&this.remove(n,r,i);const c=this.should_remove;if(this.replacement=u,this.should_remove=a,c)return null}}return e}}function So(t){return t!==null&&typeof t=="object"&&"type"in t&&typeof t.type=="string"}function hb(t,{enter:e,leave:n}){return new lb(e,n).visit(t,null)}let pb=[];function mb(t,e={}){var d;const{wrapAsync:n=!1,addReturn:r=!0,emitMiniLocations:i=!0,emitWidgets:s=!0}=e;let u=Yv(t,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),a=[];const c=(g,M)=>{const v=Yu(`"${g}"`,M.start,t);a=a.concat(v)};let h=[];hb(u,{enter(g,M){var v,P,B;if(Fb(g)){const S=g.quasi.quasis[0].value.raw,O=g.quasi.start+1;if(i){const w=Pb(S,O);a=a.concat(w)}return this.skip(),this.replace(_b(S,O))}if(fb(g,M)){const{quasis:S}=g,{raw:O}=S[0].value;return this.skip(),i&&c(O,g),this.replace(ko(O,g))}if(db(g)){const{value:S}=g;return this.skip(),i&&c(S,g),this.replace(ko(S,g))}if(gb(g))return s&&h.push({from:g.arguments[0].start,to:g.arguments[0].end,value:g.arguments[0].raw,min:((v=g.arguments[1])==null?void 0:v.value)??0,max:((P=g.arguments[2])==null?void 0:P.value)??1,step:(B=g.arguments[3])==null?void 0:B.value,type:"slider"}),this.replace(Cb(g));if(Ab(g)){const S=g.callee.property.name,O=h.filter(_=>_.type===S).length,w={to:g.end,index:O,type:S};return s&&h.push(w),this.replace(Db(g,w))}if(vb(g,M))return this.replace(bb(g));if(Mb(g))return this.replace(Eb(g))},leave(g,M,v,P){}});const{body:m}=u;if(!((d=m==null?void 0:m[m.length-1])!=null&&d.expression))throw new Error("unexpected ast format without body expression");if(r){const{expression:g}=m[m.length-1];m[m.length-1]={type:"ReturnStatement",argument:g}}let p=ob.generate(u);return n&&(p=`(async ()=>{${p}})()`),i?{output:p,miniLocations:a,widgets:h}:{output:p}}function db(t,e,n){return t.type!=="Literal"?!1:t.raw[0]==='"'}function fb(t,e){return t.type==="TemplateLiteral"&&e.type!=="TaggedTemplateExpression"}function ko(t,e){const{start:n}=e;return{type:"CallExpression",callee:{type:"Identifier",name:"m"},arguments:[{type:"Literal",value:t},{type:"Literal",value:n}],optional:!1}}function gb(t){return t.type==="CallExpression"&&t.callee.name==="slider"}function Ab(t){var e;return t.type==="CallExpression"&&pb.includes((e=t.callee.property)==null?void 0:e.name)}function Cb(t){const e="slider_"+t.arguments[0].start;return t.arguments.unshift({type:"Literal",value:e,raw:e}),t.callee.name="sliderWithID",t}function yb(t){return`widget_${t.type}_${t.index}`}function Db(t,e){const n=yb(e);return t.arguments.unshift({type:"Literal",value:n,raw:n}),t}function vb(t,e){return t.type==="CallExpression"&&t.callee.name==="samples"&&e.type!=="AwaitExpression"}function bb(t){return{type:"AwaitExpression",argument:t}}function Mb(t){return t.type==="LabeledStatement"}function Eb(t){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:t.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:t.label.name,raw:`'${t.label.name}'`}]}}}function Fb(t){return t.type==="TaggedTemplateExpression"&&t.tag.name==="tidal"}function Pb(t,e){return t.split("").reduce((n,r,i)=>(r!=='"'||(!n.length||n[n.length-1].length>1?n.push([i+1]):n[n.length-1].push(i)),n),[]).map(([n,r])=>{const i=t.slice(n,r);return Yu(`"${i}"`,e+n-1)}).flat()}function _b(t,e){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:t},{type:"Literal",value:e}],optional:!1}}var pr=(t,e)=>Array(Math.abs(e)+1).join(t);function Te(t,e,n){return function(...r){return console.warn(`${t} is deprecated. Use ${e}.`),n.apply(this,r)}}function Qr(t){return t!==null&&typeof t=="object"&&typeof t.name=="string"}function ti(t){return t!==null&&typeof t=="object"&&typeof t.step=="number"&&typeof t.alt=="number"}var Hd=[0,2,4,-1,1,3,5],qd=Hd.map(t=>Math.floor(t*7/12));function ts(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=Hd[e]+7*n;if(r===void 0)return[i*s];const u=r-qd[e]-4*n;return[i*s,i*u]}var Bb=[3,0,4,1,5,2,6];function es(t){const[e,n,r]=t,i=Bb[wb(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const u=n+4*s+qd[i];return{step:i,alt:s,oct:u,dir:r}}function wb(t){const e=(t+1)%7;return e<0?7+e:e}var Zd={empty:!0,name:"",pc:"",acc:""},No=new Map,sa=t=>"CDEFGAB".charAt(t),br=t=>t<0?pr("b",-t):pr("#",t),ei=t=>t[0]==="b"?-t.length:t.length;function Ct(t){const e=JSON.stringify(t),n=No.get(e);if(n)return n;const r=typeof t=="string"?Sb(t):ti(t)?Ct(kb(t)):Qr(t)?Ct(t.name):Zd;return No.set(e,r),r}var xb=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function ns(t){const e=xb.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}function ua(t){return Ct(es(t))}var Ib=(t,e)=>(t%e+e)%e,Rs=[0,2,4,5,7,9,11];function Sb(t){const e=ns(t);if(e[0]===""||e[3]!=="")return Zd;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,u=ei(r),a=i.length?+i:void 0,c=ts({step:s,alt:u,oct:a}),h=n+r+i,m=n+r,p=(Rs[s]+u+120)%12,d=a===void 0?Ib(Rs[s]+u,12)-12*99:Rs[s]+u+12*(a+1),g=d>=0&&d<=127?d:null,M=a===void 0?null:Math.pow(2,(d-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:p,coord:c,freq:M,height:d,letter:n,midi:g,name:h,oct:a,pc:m,step:s}}function kb(t){const{step:e,alt:n,oct:r}=t,i=sa(e);if(!i)return"";const s=i+br(n);return r||r===0?s+r:s}var nu={empty:!0,name:"",acc:""},Nb="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Tb="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Vb=new RegExp("^"+Nb+"|"+Tb+"$");function aa(t){const e=Vb.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var To={};function Yt(t){return typeof t=="string"?To[t]||(To[t]=Rb(t)):ti(t)?Yt(Gb(t)):Qr(t)?Yt(t.name):nu}var Vo=[0,2,4,5,7,9,11],jd="PMMPPMM";function Rb(t){const e=aa(t);if(e[0]==="")return nu;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=jd[i];if(s==="M"&&r==="P")return nu;const u=s==="M"?"majorable":"perfectable",a=""+n+r,c=n<0?-1:1,h=n===8||n===-8?n:c*(i+1),m=Lb(u,r),p=Math.floor((Math.abs(n)-1)/7),d=c*(Vo[i]+m+12*p),g=(c*(Vo[i]+m)%12+12)%12,M=ts({step:i,alt:m,oct:p,dir:c});return{empty:!1,name:a,num:n,q:r,step:i,alt:m,dir:c,type:u,simple:h,semitones:d,chroma:g,coord:M,oct:p}}function ni(t,e){const[n,r=0]=t,i=n*7+r*12<0,s=e||i?[-n,-r,-1]:[n,r,1];return Yt(es(s))}function Lb(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function Gb(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,u=s===0?e+1:s,a=i<0?"-":"",c=jd[e]==="M"?"majorable":"perfectable";return a+u+Ob(c,n)}function Ob(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?pr("A",e):pr("d",t==="perfectable"?e:e+1)}function $t(t,e){const n=Ct(t),r=Array.isArray(e)?e:Yt(e).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,s=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return ua(s).name}function Mr(t,e){const n=t.length;return r=>{if(!e)return"";const i=r<0?(n- -r%n)%n:r%n,s=Math.floor(r/n),u=$t(e,[0,s]);return $t(u,t[i])}}function Er(t,e){const n=Ct(t),r=Ct(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,u=s[0]-i[0],a=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(u*7/12),c=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return ni([u,a],c).name}const Xd=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:ei,altToAcc:br,coordToInterval:ni,coordToNote:ua,decode:es,deprecate:Te,distance:Er,encode:ts,fillStr:pr,interval:Yt,isNamed:Qr,isPitch:ti,note:Ct,stepToLetter:sa,tokenizeInterval:aa,tokenizeNote:ns,tonicIntervalsTransposer:Mr,transpose:$t},Symbol.toStringTag,{value:"Module"}));var Ro=(t,e)=>Array(e+1).join(t),Wb=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function Kd(t){const e=Wb.exec(t);return e?[e[1],e[2],e[3]]:["","",""]}function Ri(t){const[e,n,r]=Kd(t);if(n==="")return"";let i=4;for(let u=0;u<r.length;u++)i+=r.charAt(u)===","?-1:1;const s=e[0]==="_"?e.replace(/_/g,"b"):e[0]==="^"?e.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+s+(i+1):n+s+i}function Yd(t){const e=Ct(t);if(e.empty||!e.oct&&e.oct!==0)return"";const{letter:n,acc:r,oct:i}=e,s=r[0]==="b"?r.replace(/b/g,"_"):r.replace(/#/g,"^"),u=i>4?n.toLowerCase():n,a=i===5?"":i>4?Ro("'",i-5):Ro(",",4-i);return s+u+a}function zb(t,e){return Yd($t(Ri(t),e))}function Hb(t,e){return Er(Ri(t),Ri(e))}var qb={abcToScientificNotation:Ri,scientificToAbcNotation:Yd,tokenize:Kd,transpose:zb,distance:Hb};function Zb(t,e){const n=[];for(;e--;n[e]=e+t);return n}function jb(t,e){const n=[];for(;e--;n[e]=t-e);return n}function Xb(t,e){return t<e?Zb(t,e-t+1):jb(t,t-e+1)}function Kb(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}function Yb(t){return t.filter(e=>e===0||e)}function Ud(t){return t.map(e=>Ct(e)).filter(e=>!e.empty).sort((e,n)=>e.height-n.height).map(e=>e.name)}function Ub(t){return Ud(t).filter((e,n,r)=>n===0||e!==r[n-1])}function Jb(t,e=Math.random){let n,r,i=t.length;for(;i;)n=Math.floor(e()*i--),r=t[i],t[i]=t[n],t[n]=r;return t}function Jd(t){return t.length===0?[[]]:Jd(t.slice(1)).reduce((e,n)=>e.concat(t.map((r,i)=>{const s=n.slice();return s.splice(i,0,t[0]),s})),[])}const $b=Object.freeze(Object.defineProperty({__proto__:null,compact:Yb,permutations:Jd,range:Xb,rotate:Kb,shuffle:Jb,sortedNoteNames:Ud,sortedUniqNoteNames:Ub},Symbol.toStringTag,{value:"Module"}));function Qb(t,e){const n=[];for(;e--;n[e]=e+t);return n}function tM(t,e){const n=[];for(;e--;n[e]=t-e);return n}function rs(t,e){return t<e?Qb(t,e-t+1):tM(t,t-e+1)}function Fr(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}function oa(t){return t.filter(e=>e===0||e)}function eM(t,e=Math.random){let n,r,i=t.length;for(;i;)n=Math.floor(e()*i--),r=t[i],t[i]=t[n],t[n]=r;return t}function $d(t){return t.length===0?[[]]:$d(t.slice(1)).reduce((e,n)=>e.concat(t.map((r,i)=>{const s=n.slice();return s.splice(i,0,t[0]),s})),[])}var nM={compact:oa,permutations:$d,range:rs,rotate:Fr,shuffle:eM},zn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},ca=t=>Number(t).toString(2),Lo=t=>parseInt(t,2),rM=/^[01]{12}$/;function la(t){return rM.test(t)}var iM=t=>typeof t=="number"&&t>=0&&t<=4095,sM=t=>t&&la(t.chroma),Go={[zn.chroma]:zn};function se(t){const e=la(t)?t:iM(t)?ca(t):Array.isArray(t)?gM(t):sM(t)?t.chroma:zn.chroma;return Go[e]=Go[e]||fM(e)}var uM=Te("Pcset.pcset","Pcset.get",se),Qd=t=>se(t).chroma,aM=t=>se(t).intervals,oM=t=>se(t).setNum,cM=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function lM(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(cM[n]);return e}function hM(){return rs(2048,4095).map(ca)}function ha(t,e=!0){const n=se(t).chroma.split("");return oa(n.map((r,i)=>{const s=Fr(i,n);return e&&s[0]==="0"?null:s.join("")}))}function pM(t,e){return se(t).setNum===se(e).setNum}function is(t){const e=se(t).setNum;return n=>{const r=se(n).setNum;return e&&e!==r&&(r&e)===r}}function ss(t){const e=se(t).setNum;return n=>{const r=se(n).setNum;return e&&e!==r&&(r|e)===r}}function tf(t){const e=se(t);return n=>{const r=Ct(n);return e&&!r.empty&&e.chroma.charAt(r.chroma)==="1"}}function mM(t){const e=tf(t);return n=>n.filter(e)}var ef={get:se,chroma:Qd,num:oM,intervals:aM,chromas:hM,isSupersetOf:ss,isSubsetOf:is,isNoteIncludedIn:tf,isEqual:pM,filter:mM,modes:ha,pcset:uM};function dM(t){const e=t.split("");return e.map((n,r)=>Fr(r,e).join(""))}function fM(t){const e=Lo(t),n=dM(t).map(Lo).filter(s=>s>=2048).sort()[0],r=ca(n),i=lM(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:i}}function gM(t){if(t.length===0)return zn.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=Ct(t[r]),e.empty&&(e=Yt(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var AM=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],CM=AM,yM={...zn,name:"",quality:"Unknown",intervals:[],aliases:[]},Pr=[],Ln={};function pa(t){return Ln[t]||yM}var DM=Te("ChordType.chordType","ChordType.get",pa);function vM(){return Pr.map(t=>t.name).filter(t=>t)}function bM(){return Pr.map(t=>t.aliases[0]).filter(t=>t)}function MM(){return Object.keys(Ln)}function _r(){return Pr.slice()}var EM=Te("ChordType.entries","ChordType.all",_r);function FM(){Pr=[],Ln={}}function nf(t,e,n){const r=_M(t),i={...se(t),name:n||"",quality:r,intervals:t,aliases:e};Pr.push(i),i.name&&(Ln[i.name]=i),Ln[i.setNum]=i,Ln[i.chroma]=i,i.aliases.forEach(s=>PM(i,s))}function PM(t,e){Ln[e]=t}function _M(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}CM.forEach(([t,e,n])=>nf(t.split(" "),n.split(" "),e));Pr.sort((t,e)=>t.setNum-e.setNum);var rf={names:vM,symbols:bM,get:pa,all:_r,add:nf,removeAll:FM,keys:MM,entries:EM,chordType:DM},BM=t=>{const e=t.reduce((n,r)=>{const i=Ct(r).chroma;return i!==void 0&&(n[i]=n[i]||Ct(r).name),n},{});return n=>e[n]};function wM(t,e={}){const n=t.map(r=>Ct(r).pc).filter(r=>r);return Ct.length===0?[]:VM(n,1,e).filter(r=>r.weight).sort((r,i)=>i.weight-r.weight).map(r=>r.name)}var us={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},as=t=>e=>!!(e&t),xM=as(us.anyThirds),IM=as(us.perfectFifth),SM=as(us.anySeventh),kM=as(us.nonPerfectFifths);function NM(t){const e=parseInt(t.chroma,2);return xM(e)&&IM(e)&&SM(e)}function TM(t){const e=parseInt(t,2);return kM(e)?t:(e|16).toString(2)}function VM(t,e,n){const r=t[0],i=Ct(r).chroma,s=BM(t),u=ha(t,!1),a=[];return u.forEach((c,h)=>{const m=n.assumePerfectFifth&&TM(c);_r().filter(p=>n.assumePerfectFifth&&NM(p)?p.chroma===m:p.chroma===c).forEach(p=>{const d=p.aliases[0],g=s(h);h!==i?a.push({weight:.5*e,name:`${g}${d}/${r}`}):a.push({weight:1*e,name:`${g}${d}`})})}),a}var RM=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],LM=RM,GM={...zn,intervals:[],aliases:[]},os=[],Gn={};function sf(){return os.map(t=>t.name)}function cs(t){return Gn[t]||GM}var OM=Te("ScaleDictionary.scaleType","ScaleType.get",cs);function Br(){return os.slice()}var WM=Te("ScaleDictionary.entries","ScaleType.all",Br);function zM(){return Object.keys(Gn)}function HM(){os=[],Gn={}}function uf(t,e,n=[]){const r={...se(t),name:e,intervals:t,aliases:n};return os.push(r),Gn[r.name]=r,Gn[r.setNum]=r,Gn[r.chroma]=r,r.aliases.forEach(i=>qM(r,i)),r}function qM(t,e){Gn[e]=t}LM.forEach(([t,e,...n])=>uf(t.split(" "),e,n));var af={names:sf,get:cs,all:Br,add:uf,removeAll:HM,keys:zM,entries:WM,scaleType:OM},ru={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},ZM=/^(6|64|7|9|11|13)$/;function ls(t){const[e,n,r,i]=ns(t);return e===""?["",t]:e==="A"&&i==="ug"?["","aug"]:!i&&(r==="4"||r==="5")?[e+n,r]:ZM.test(r)?[e+n,r+i]:[e+n+r,i]}function jn(t){if(t==="")return ru;if(Array.isArray(t)&&t.length===2)return _i(t[1],t[0]);{const[e,n]=ls(t),r=_i(n,e);return r.empty?_i(t):r}}function _i(t,e,n){const r=pa(t),i=Ct(e||""),s=Ct(n||"");if(r.empty||e&&i.empty||n&&s.empty)return ru;const u=Er(i.pc,s.pc),a=r.intervals.indexOf(u)+1;if(!s.empty&&!a)return ru;const c=Array.from(r.intervals);for(let d=1;d<a;d++){const g=c[0][0],M=c[0][1],v=parseInt(g,10)+7;c.push(`${v}${M}`),c.shift()}const h=i.empty?[]:c.map(d=>$t(i,d));t=r.aliases.indexOf(t)!==-1?t:r.aliases[0];const m=`${i.empty?"":i.pc}${t}${s.empty||a<=1?"":"/"+s.pc}`,p=`${e?i.pc+" ":""}${r.name}${a>1&&n?" over "+s.pc:""}`;return{...r,name:p,symbol:m,type:r.name,root:s.name,intervals:c,rootDegree:a,tonic:i.name,notes:h}}var jM=Te("Chord.chord","Chord.get",jn);function XM(t,e){const[n,r]=ls(t);return n?$t(n,e)+r:t}function KM(t){const e=jn(t),n=ss(e.chroma);return Br().filter(r=>n(r.chroma)).map(r=>r.name)}function YM(t){const e=jn(t),n=ss(e.chroma);return _r().filter(r=>n(r.chroma)).map(r=>e.tonic+r.aliases[0])}function UM(t){const e=jn(t),n=is(e.chroma);return _r().filter(r=>n(r.chroma)).map(r=>e.tonic+r.aliases[0])}function JM(t){const{intervals:e,tonic:n}=jn(t),r=Mr(e,n);return i=>i?r(i>0?i-1:i):""}function $M(t){const{intervals:e,tonic:n}=jn(t);return Mr(e,n)}var QM={getChord:_i,get:jn,detect:wM,chordScales:KM,extended:YM,reduced:UM,tokenize:ls,transpose:XM,degrees:JM,steps:$M,chord:jM},tE=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],eE=tE,hs=[];eE.forEach(([t,e,n])=>cE(t,e,n));var nE={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function rE(){return hs.reduce((t,e)=>(e.names.forEach(n=>t.push(n)),t),[])}function iE(){return hs.map(t=>t.shorthand)}var sE=/^([^.]+)(\.*)$/;function ma(t){const[e,n,r]=sE.exec(t)||[],i=hs.find(a=>a.shorthand===n||a.names.includes(n));if(!i)return nE;const s=lE(i.fraction,r.length),u=s[0]/s[1];return{...i,name:t,dots:r,value:u,fraction:s}}var uE=t=>ma(t).value,aE=t=>ma(t).fraction,oE={names:rE,shorthands:iE,get:ma,value:uE,fraction:aE};function cE(t,e,n){hs.push({empty:!1,dots:"",name:"",value:1/t,fraction:t<1?[1/t,1]:[1,t],shorthand:e,names:n})}function lE(t,e){const n=Math.pow(2,e);let r=t[0]*n,i=t[1]*n;const s=r;for(let u=0;u<e;u++)r+=s/Math.pow(2,u+1);for(;r%2===0&&i%2===0;)r/=2,i/=2;return[r,i]}function hE(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var of=Yt,pE=t=>Yt(t).name,mE=t=>Yt(t).semitones,dE=t=>Yt(t).q,fE=t=>Yt(t).num;function cf(t){const e=Yt(t);return e.empty?"":e.simple+e.q}function gE(t){const e=Yt(t);if(e.empty)return"";const n=(7-e.step)%7,r=e.type==="perfectable"?-e.alt:-(e.alt+1);return Yt({step:n,alt:r,oct:e.oct,dir:e.dir}).name}var AE=[1,2,2,3,3,4,5,5,6,6,7,7],CE="P m M m M P d P m M m M".split(" ");function yE(t){const e=t<0?-1:1,n=Math.abs(t),r=n%12,i=Math.floor(n/12);return e*(AE[r]+7*i)+CE[r]}var DE=Er,lf=pf((t,e)=>[t[0]+e[0],t[1]+e[1]]),vE=t=>e=>lf(t,e),bE=pf((t,e)=>[t[0]-e[0],t[1]-e[1]]);function hf(t,e){const n=of(t);if(n.empty)return"";const[r,i,s]=n.coord;return ni([r+e,i,s]).name}var mr={names:hE,get:of,name:pE,num:fE,semitones:mE,quality:dE,fromSemitones:yE,distance:DE,invert:gE,simplify:cf,add:lf,addTo:vE,substract:bE,transposeFifths:hf};function pf(t){return(e,n)=>{const r=Yt(e).coord,i=Yt(n).coord;if(r&&i){const s=t(r,i);return ni(s).name}}}function mf(t){return+t>=0&&+t<=127}function df(t){if(mf(t))return+t;const e=Ct(t);return e.empty?null:e.midi}function ME(t,e=440){return Math.pow(2,(t-69)/12)*e}var EE=Math.log(2),FE=Math.log(440);function da(t){const e=12*(Math.log(t)-FE)/EE+69;return Math.round(e*100)/100}var PE="C C# D D# E F F# G G# A A# B".split(" "),_E="C Db D Eb E F Gb G Ab A Bb B".split(" ");function kn(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const n=(e.sharps===!0?PE:_E)[t%12];if(e.pitchClass)return n;const r=Math.floor(t/12)-1;return n+r}function fa(t){return t%12}function BE(t){return t.split("").reduce((e,n,r)=>(r<12&&n==="1"&&e.push(r),e),[])}function wE(t){return t.map(fa).sort((e,n)=>e-n).filter((e,n,r)=>n===0||e!==r[n-1])}function ga(t){return Array.isArray(t)?wE(t):BE(t)}function xE(t){const e=ga(t);return n=>{const r=fa(n);for(let i=0;i<12;i++){if(e.includes(r+i))return n+i;if(e.includes(r-i))return n-i}}}function ff(t,e){const n=ga(t),r=n.length;return i=>{const s=i<0?(r- -i%r)%r:i%r,u=Math.floor(i/r);return n[s]+u*12+e}}function IE(t,e){const n=ff(t,e);return r=>{if(r!==0)return n(r>0?r-1:r)}}var SE={chroma:fa,freqToMidi:da,isMidi:mf,midiToFreq:ME,midiToNoteName:kn,pcsetNearest:xE,pcset:ga,pcsetDegrees:IE,pcsetSteps:ff,toMidi:df},kE=["C","D","E","F","G","A","B"],gf=t=>t.name,Af=t=>t.map(Ct).filter(e=>!e.empty);function NE(t){return t===void 0?kE.slice():Array.isArray(t)?Af(t).map(gf):[]}var ze=Ct,TE=t=>ze(t).name,VE=t=>ze(t).pc,RE=t=>ze(t).acc,LE=t=>ze(t).oct,GE=t=>ze(t).midi,OE=t=>ze(t).freq,WE=t=>ze(t).chroma;function Cf(t){return kn(t)}function zE(t){return kn(da(t))}function HE(t){return kn(da(t),{sharps:!0})}function qE(t){return kn(t,{sharps:!0})}var ri=$t,ZE=$t,yf=t=>e=>ri(e,t),jE=yf,Df=t=>e=>ri(t,e),XE=Df;function Li(t,e){return ri(t,[e,0])}var KE=Li;function YE(t,e){return ri(t,[0,e])}var Aa=(t,e)=>t.height-e.height,UE=(t,e)=>e.height-t.height;function vf(t,e){return e=e||Aa,Af(t).sort(e).map(gf)}function bf(t){return vf(t,Aa).filter((e,n,r)=>n===0||e!==r[n-1])}var JE=t=>{const e=ze(t);return e.empty?"":kn(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function Mf(t,e){const n=ze(t);if(n.empty)return"";const r=ze(e||kn(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const i=n.chroma-n.alt,s=r.chroma-r.alt,u=i>11||s<0?-1:i<0||s>11?1:0,a=n.oct+u;return r.pc+a}var xn={names:NE,get:ze,name:TE,pitchClass:VE,accidentals:RE,octave:LE,midi:GE,ascending:Aa,descending:UE,sortedNames:vf,sortedUniqNames:bf,fromMidi:Cf,fromMidiSharps:qE,freq:OE,fromFreq:zE,fromFreqSharps:HE,chroma:WE,transpose:ri,tr:ZE,transposeBy:yf,trBy:jE,transposeFrom:Df,trFrom:XE,transposeFifths:Li,transposeOctaves:YE,trFifths:KE,simplify:JE,enharmonic:Mf},Ef={empty:!0,name:"",chordType:""},Oo={};function pn(t){return typeof t=="string"?Oo[t]||(Oo[t]=i7(t)):typeof t=="number"?pn(ps[t]||""):ti(t)?t7(t):Qr(t)?pn(t.name):Ef}var $E=Te("RomanNumeral.romanNumeral","RomanNumeral.get",pn);function QE(t=!0){return(t?ps:r7).slice()}function t7(t){return pn(br(t.alt)+ps[t.step])}var e7=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function n7(t){return e7.exec(t)||["","","",""]}var Ff="I II III IV V VI VII",ps=Ff.split(" "),r7=Ff.toLowerCase().split(" ");function i7(t){const[e,n,r,i]=n7(t);if(!r)return Ef;const s=r.toUpperCase(),u=ps.indexOf(s),a=ei(n),c=1;return{empty:!1,name:e,roman:r,interval:Yt({step:u,alt:a,dir:c}).name,acc:n,chordType:i,alt:a,step:u,major:r===s,oct:0,dir:c}}var s7={names:QE,get:pn,romanNumeral:$E},Pe=Object.freeze([]),Pf={type:"major",tonic:"",alteration:0,keySignature:""},Bi={tonic:"",grades:Pe,intervals:Pe,scale:Pe,triads:Pe,chords:Pe,chordsHarmonicFunction:Pe,chordScales:Pe},u7={...Pf,...Bi,type:"major",minorRelative:"",scale:Pe,secondaryDominants:Pe,secondaryDominantsMinorRelative:Pe,substituteDominants:Pe,substituteDominantsMinorRelative:Pe},a7={...Pf,type:"minor",relativeMajor:"",natural:Bi,harmonic:Bi,melodic:Bi},Ls=(t,e,n="")=>e.map((r,i)=>`${t[i]}${n}${r}`);function ms(t,e,n,r,i){return s=>{const u=t.map(c=>pn(c).interval||""),a=u.map(c=>$t(s,c));return{tonic:s,grades:t,intervals:u,scale:a,triads:Ls(a,e),chords:Ls(a,n),chordsHarmonicFunction:r.slice(),chordScales:Ls(a,i," ")}}}var _f=(t,e)=>{const n=Ct(t),r=Ct(e);return n.empty||r.empty?0:r.coord[0]-n.coord[0]},o7=ms("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),c7=ms("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),l7=ms("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),h7=ms("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function p7(t){const e=Ct(t).pc;if(!e)return u7;const n=o7(e),r=_f("C",e),i=s=>{const u=pn(s);return u.empty?"":$t(t,u.interval)+u.chordType};return{...n,type:"major",minorRelative:$t(e,"-3m"),alteration:r,keySignature:br(r),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(i),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(i),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(i),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(i)}}function m7(t){const e=Ct(t).pc;if(!e)return a7;const n=_f("C",e)-3;return{type:"minor",tonic:e,relativeMajor:$t(e,"3m"),alteration:n,keySignature:br(n),natural:c7(e),harmonic:l7(e),melodic:h7(e)}}function d7(t){return typeof t=="number"?Li("C",t):typeof t=="string"&&/^b+|#+$/.test(t)?Li("C",ei(t)):null}var f7={majorKey:p7,majorTonicFromKeySignature:d7,minorKey:m7},Ca=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Wo={...zn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},ya=Ca.map(y7),iu={};ya.forEach(t=>{iu[t.name]=t,t.aliases.forEach(e=>{iu[e]=t})});function Hn(t){return typeof t=="string"?iu[t.toLowerCase()]||Wo:t&&t.name?Hn(t.name):Wo}var g7=Te("Mode.mode","Mode.get",Hn);function Bf(){return ya.slice()}var A7=Te("Mode.mode","Mode.all",Bf);function C7(){return ya.map(t=>t.name)}function y7(t){const[e,n,r,i,s,u,a]=t,c=a?[a]:[],h=Number(n).toString(2);return{empty:!1,intervals:cs(i).intervals,modeNum:e,chroma:h,normalized:h,name:i,setNum:n,alt:r,triad:s,seventh:u,aliases:c}}function D7(t,e){return Hn(t).intervals.map(n=>$t(e,n))}function wf(t){return(e,n)=>{const r=Hn(e);if(r.empty)return[];const i=Fr(r.modeNum,t),s=r.intervals.map(u=>$t(n,u));return i.map((u,a)=>s[a]+u)}}var v7=wf(Ca.map(t=>t[4])),b7=wf(Ca.map(t=>t[5]));function xf(t,e){const n=Hn(e),r=Hn(t);return n.empty||r.empty?"":cf(hf("1P",r.alt-n.alt))}function M7(t,e,n){return $t(n,xf(t,e))}var E7={get:Hn,names:C7,all:Bf,distance:xf,relativeTonic:M7,notes:D7,triads:v7,seventhChords:b7,entries:A7,mode:g7};function F7(t,e){return e.map(pn).map(n=>$t(t,Yt(n))+n.chordType)}function P7(t,e){return e.map(n=>{const[r,i]=ls(n),s=Er(t,r);return pn(Yt(s)).name+i})}var _7={fromRomanNumerals:F7,toRomanNumerals:P7};function If(t){const e=oa(t.map(n=>typeof n=="number"?n:df(n)));return!t.length||e.length!==t.length?[]:e.reduce((n,r)=>{const i=n[n.length-1];return n.concat(rs(i,r).slice(1))},[e[0]])}function B7(t,e){return If(t).map(n=>kn(n,e))}var w7={numeric:If,chromatic:B7},x7={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Sf(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),n=Ct(t.substring(0,e));if(n.empty){const i=Ct(t);return i.empty?["",t]:[i.name,""]}const r=t.substring(n.name.length+1);return[n.name,r.length?r:""]}var I7=sf;function Xe(t){const e=Array.isArray(t)?t:Sf(t),n=Ct(e[0]).name,r=cs(e[1]);if(r.empty)return x7;const i=r.name,s=n?r.intervals.map(a=>$t(n,a)):[],u=n?n+" "+i:i;return{...r,name:u,type:i,tonic:n,notes:s}}var S7=Te("Scale.scale","Scale.get",Xe);function k7(t,e={}){const n=Qd(t),r=Ct(e.tonic??t[0]??""),i=r.chroma;if(i===void 0)return[];const s=n.split("");s[i]="1";const u=Fr(i,s).join(""),a=Br().find(h=>h.chroma===u),c=[];return a&&c.push(r.name+" "+a.name),e.match==="exact"||kf(u).forEach(h=>{c.push(r.name+" "+h)}),c}function N7(t){const e=Xe(t),n=is(e.chroma);return _r().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function kf(t){const e=la(t)?t:Xe(t).chroma,n=ss(e);return Br().filter(r=>n(r.chroma)).map(r=>r.name)}function T7(t){const e=is(Xe(t).chroma);return Br().filter(n=>e(n.chroma)).map(n=>n.name)}function Nf(t){const e=t.map(i=>Ct(i).pc).filter(i=>i),n=e[0],r=bf(e);return Fr(r.indexOf(n),r)}function V7(t){const e=Xe(t);if(e.empty)return[];const n=e.tonic?e.notes:e.intervals;return ha(e.chroma).map((r,i)=>{const s=Xe(r).name;return s?[n[i],s]:["",""]}).filter(r=>r[0])}function R7(t){const e=Array.isArray(t)?Nf(t):Xe(t).notes,n=e.map(r=>Ct(r).chroma);return r=>{const i=Ct(typeof r=="number"?Cf(r):r),s=i.height;if(s===void 0)return;const u=s%12,a=n.indexOf(u);if(a!==-1)return Mf(i.name,e[a])}}function L7(t){const e=R7(t);return(n,r)=>{const i=Ct(n).height,s=Ct(r).height;return i===void 0||s===void 0?[]:rs(i,s).map(e).filter(u=>u)}}function G7(t){const{intervals:e,tonic:n}=Xe(t),r=Mr(e,n);return i=>i?r(i>0?i-1:i):""}function O7(t){const{intervals:e,tonic:n}=Xe(t);return Mr(e,n)}var dr={degrees:G7,detect:k7,extended:kf,get:Xe,modeNames:V7,names:I7,rangeOf:L7,reduced:T7,scaleChords:N7,scaleNotes:Nf,steps:O7,tokenize:Sf,scale:S7},W7={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},z7=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function H7(){return z7.slice()}var q7=/^(\d*\d(?:\+\d)*)\/(\d+)$/,zo=new Map;function Z7(t){const e=JSON.stringify(t),n=zo.get(e);if(n)return n;const r=K7(Da(t));return zo.set(e,r),r}function Da(t){if(typeof t=="string"){const[s,u,a]=q7.exec(t)||[];return Da([u,a])}const[e,n]=t,r=+n;if(typeof e=="number")return[e,r];const i=e.split("+").map(s=>+s);return i.length===1?[i[0],r]:[i,r]}var j7={names:H7,parse:Da,get:Z7},X7=t=>Math.log(t)/Math.log(2)%1===0;function K7([t,e]){const n=Array.isArray(t)?t.reduce((a,c)=>a+c,0):t,r=e;if(n===0||r===0)return W7;const i=Array.isArray(t)?`${t.join("+")}/${e}`:`${t}/${e}`,s=Array.isArray(t)?t:[],u=r===4||r===2?"simple":r===8&&n%3===0?"compound":X7(r)?"irregular":"irrational";return{empty:!1,name:i,type:u,upper:n,lower:r,additive:s}}var Y7=Xd,U7=ef,J7=rf,$7=af;const Q7=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:qb,Array:$b,Chord:QM,ChordDictionary:J7,ChordType:rf,Collection:nM,Core:Xd,DurationValue:oE,Interval:mr,Key:f7,Midi:SE,Mode:E7,Note:xn,PcSet:U7,Pcset:ef,Progression:_7,Range:w7,RomanNumeral:s7,Scale:dr,ScaleDictionary:$7,ScaleType:af,TimeSignature:j7,Tonal:Y7,accToAlt:ei,altToAcc:br,coordToInterval:ni,coordToNote:ua,decode:es,deprecate:Te,distance:Er,encode:ts,fillStr:pr,interval:Yt,isNamed:Qr,isPitch:ti,note:Ct,stepToLetter:sa,tokenizeInterval:aa,tokenizeNote:ns,tonicIntervalsTransposer:Mr,transpose:$t},Symbol.toStringTag,{value:"Module"})),tF=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],eF=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],nF=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],rF={b:-1,"#":1},iF=t=>{const[e,...n]=t.split("");return eF.indexOf(e.toLowerCase())+n.reduce((r,i)=>r+rF[i],0)};function sF(t){const e=(t||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return e?e.slice(1):[]}const su=t=>t%12,Tf=t=>{let e=Number(t);return isNaN(e)?mr.semitones(t):e},uu=(t,e)=>{if(typeof t=="number")return t;if(typeof t=="string")return In(t,e)},uF=(t,e=!1)=>{const n=Math.floor(t/12)-1;return(e?nF:tF)[t%12]+n};function aF(t,e,n=1){t=t.map(i=>typeof i=="string"?In(i):i);const r=Math.floor(e/t.length)*n*12;return e=we(e,t.length),t[e]+r}function oF(t,e,n){let r=0,i=1/0;return e.forEach((s,u)=>{const a=Math.abs(s-t);(a<i||n)&&(r=u,i=a)}),r}let Gs={};function cF(t,e,n,r){let[i,s]=dr.tokenize(e);const u=uu(i),a=su(u);if(!Gs[s]){let{intervals:p}=dr.get(`C ${s}`);Gs[s]=p.map(Tf)}const c=Gs[s];if(!c)return null;let h=u;if(n){n=uu(n,3);const p=su(n),d=we(p-a,12),g=oF(d,c,r);t=t+g,h=n-d}const m=Math.floor(t/c.length)*12;return t=we(t,c.length),c[t]+h+m}let Ho={below:t=>t.slice(-1)[0],duck:t=>t.slice(-1)[0],above:t=>t[0],root:t=>t[0]};function lF({chord:t,dictionary:e,offset:n=0,n:r,mode:i="below",anchor:s="c5",octaves:u=1}){const[a,c]=sF(t),h=iF(a);s=uu((s==null?void 0:s.note)||s,4);const m=su(s),p=e[c].map(k=>(typeof k=="string"?k.split(" "):k).map(Tf));let d,g,M=p.map((k,I)=>{const T=Ho[i](k),H=we(m-T-h,12);return(d===void 0||H<d)&&(d=H,g=I),H});i==="root"&&(g=0);const v=Math.ceil(n/p.length)*12,P=we(g+n,p.length),B=p[P],S=Ho[i](B),O=s-M[P]+v,w=B.map(k=>O-S+k);let _=w.map(k=>uF(k));return i==="duck"&&(_=_.filter((k,I)=>w[I]!==s)),r!==void 0?[aF(_,r,u)]:_}const hF=t=>(t<=0?-1:1)+t*7+"P";function pF(t,e){e=e.replaceAll(":"," "),t=Math.ceil(t);let{intervals:n,tonic:r,empty:i}=dr.get(e);if(i&&qn(e)||!i&&!r)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(i)throw new Error(`invalid scale "${e}"`);r=r||"C";const{pc:s,oct:u=3}=xn.get(r),a=Math.floor(t/n.length),c=we(t,n.length),h=mr.add(n[c],hF(a));return xn.transpose(s+u,h)}function qo(t,e,n){let[r,i]=dr.tokenize(t),{notes:s}=dr.get(`${r} ${i}`);if(s=s.map(g=>xn.get(g).pc),e=Number(e),isNaN(e))throw new Error(`scale offset "${e}" not a number`);const{pc:u,oct:a=3}=xn.get(n),c=s.indexOf(u);if(c===-1)throw new Error(`note "${n}" is not in scale "${t}"`);let h=c,m=a,p=u;const d=Math.sign(e);for(;Math.abs(h-c)<Math.abs(e);){h+=d;const g=we(h,s.length);d<0&&p[0]==="C"&&(m+=d),p=s[g],d>0&&p[0]==="C"&&(m+=d)}return p+m}const mF=L("transpose",function(t,e){return e.withHap(n=>{const r=n.value.note??n.value;if(typeof r=="number"){let u;typeof t=="number"?u=t:typeof t=="string"&&(u=mr.semitones(t)||0);const a=r+u;return typeof n.value=="object"?n.withValue(()=>({...n.value,note:a})):n.withValue(()=>a)}if(typeof r!="string"||!qn(r))return Kt(`[tonal] transpose: not a note "${r}"`,"warning"),n;const i=isNaN(Number(t))?String(t):mr.fromSemitones(t),s=xn.simplify(xn.transpose(r,i));return typeof n.value=="object"?n.withValue(()=>({...n.value,note:s})):n.withValue(()=>s)})}),dF=L("scaleTranspose",function(t,e){return e.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value=="object")return n.withValue(()=>({...n.value,note:qo(n.context.scale,Number(t),n.value.note)}));if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>qo(n.context.scale,Number(t),n.value))})}),fF=L("scale",function(t,e){return Array.isArray(t)&&(t=t.flat().join(" ")),e.fmap(n=>{const r=typeof n=="object";let i=r?n.n:n;if(r&&delete n.n,qn(i))return ie(i);let s=Number(i),u=0;if(isNaN(s)){if(i=String(i),!/^[-+]?\d+(#*|b*){1}$/.test(i))return Kt(`[tonal] invalid scale step "${i}", expected number or integer with optional # b suffixes`,"error"),Bt;const a=i.indexOf("#");if(a>=0)s=Number(i.substring(0,a)),u=i.length-a;else{const c=i.indexOf("b");s=Number(i.substring(0,c)),u=c-i.length}}try{let a;r&&n.anchor?a=cF(s,t,n.anchor):a=pF(s,t),u!=0&&(a=xn.transpose(a,mr.fromSemitones(u))),n=ie(r?{...n,note:a}:a)}catch(a){Kt(`[tonal] ${a.message}`,"error"),n=Bt}return n}).outerJoin().withHap(n=>n.setContext({...n.context,scale:t}))},!0,!0);var Vf={},Zo={},ii={};ii.__esModule=!0;ii.getBestVoicing=void 0;function gF(t){var e=t.chord,n=t.range,r=t.finder,i=t.picker,s=t.lastVoicing,u=r(e,n);return u.length?i(u,s):[]}ii.getBestVoicing=gF;var Tr={};const Rf=Uv(Q7);var si={};si.__esModule=!0;si.tokenizeChord=void 0;function AF(t){var e=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return e?e.slice(1):[]}si.tokenizeChord=AF;var jo;function CF(){if(jo)return Tr;jo=1,Tr.__esModule=!0,Tr.voicingsInRange=void 0;var t=Rf,e=Lf(),n=si;function r(i,s,u){s===void 0&&(s=e.lefthand),u===void 0&&(u=["D3","A4"]);var a=(0,n.tokenizeChord)(i),c=a[0],h=a[1];if(!s[h])return[];var m=s[h].map(function(d){return d.split(" ")}),p=t.Range.chromatic(u);return m.reduce(function(d,g){var M=g.map(function(S){return t.Interval.substract(S,g[0])}),v=t.Note.transpose(c,g[0]),P=p.filter(function(S){return t.Note.chroma(S)===t.Note.chroma(v)}).filter(function(S){return t.Note.midi(t.Note.transpose(S,M[M.length-1]))<=t.Note.midi(u[1])}).map(function(S){return t.Note.enharmonic(S,v)}),B=P.map(function(S){return M.map(function(O){return t.Note.transpose(S,O)})});return d.concat(B)},[])}return Tr.voicingsInRange=r,Tr}var Xo;function Lf(){return Xo||(Xo=1,function(t){var e=Rr&&Rr.__assign||function(){return e=Object.assign||function(a){for(var c,h=1,m=arguments.length;h<m;h++){c=arguments[h];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(a[p]=c[p])}return a},e.apply(this,arguments)},n=Rr&&Rr.__rest||function(a,c){var h={};for(var m in a)Object.prototype.hasOwnProperty.call(a,m)&&c.indexOf(m)<0&&(h[m]=a[m]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,m=Object.getOwnPropertySymbols(a);p<m.length;p++)c.indexOf(m[p])<0&&Object.prototype.propertyIsEnumerable.call(a,m[p])&&(h[m[p]]=a[m[p]]);return h};t.__esModule=!0,t.dictionaryVoicing=t.dictionaryVoicingFinder=t.triads=t.guidetones=t.lefthand=void 0;var r=ii,i=CF();t.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},t.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var s=function(a){return function(c,h){return(0,i.voicingsInRange)(c,a,h)}};t.dictionaryVoicingFinder=s;var u=function(a){var c=a.dictionary,h=a.range,m=n(a,["dictionary","range"]);return(0,r.getBestVoicing)(e(e({},m),{range:h,finder:(0,t.dictionaryVoicingFinder)(c)}))};t.dictionaryVoicing=u}(Zo)),Zo}var ds={};ds.__esModule=!0;ds.minTopNoteDiff=void 0;var Ko=Rf;function yF(t,e){if(!e)return t[0];var n=function(r){return Math.abs(Ko.Note.midi(e[e.length-1])-Ko.Note.midi(r[r.length-1]))};return t.reduce(function(r,i){return n(i)<n(r)?i:r},t[0])}ds.minTopNoteDiff=yF;(function(t){t.__esModule=!0;var e=Lf(),n=ds,r=ii,i=si;t.default={tokenizeChord:i.tokenizeChord,getBestVoicing:r.getBestVoicing,dictionaryVoicing:e.dictionaryVoicing,dictionaryVoicingFinder:e.dictionaryVoicingFinder,lefthand:e.lefthand,guidetones:e.guidetones,triads:e.triads,minTopNoteDiff:n.minTopNoteDiff}})(Vf);const Yo=kd(Vf),rr={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},Wr={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:DF,minTopNoteDiff:vF}=Yo.default||Yo,bF={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},MF={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},EF={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},FF={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},wr={lefthand:{dictionary:bF,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:EF,mode:"below",anchor:"a4"},guidetones:{dictionary:MF,mode:"above",anchor:"a4"},legacy:{dictionary:FF,mode:"below",anchor:"a4"}};let Gf="ireal";const Of=t=>Gf=t,PF=(t,e)=>Wf(t,wr[t].dictionary,e),Wf=(t,e,n=["F3","A4"])=>{Object.assign(wr,{[t]:{dictionary:e,range:n}})},va=(t,e,n={})=>{Object.assign(wr,{[t]:{dictionary:e,...n}})},_F=(t,e,n)=>{const{dictionary:r,range:i}=wr[e];return DF({chord:t,dictionary:r,range:i,picker:vF,lastVoicing:n})};let wi;const BF=L("voicings",function(t,e){return e.fmap(n=>(wi=_F(n,t,wi),Vt(...wi))).outerJoin()}),wF=L("rootNotes",function(t,e){return e.fmap(n=>{const r=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+t;return n.chord?{note:r}:r})}),xF=L("voicing",function(t){return t.fmap(e=>{e=typeof e=="string"?{chord:e}:e;let{dictionary:n=Gf,chord:r,anchor:i,offset:s,mode:u,n:a,octaves:c,...h}=e;n=typeof n=="string"?wr[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let m=lF({...n,chord:r,anchor:i,offset:s,mode:u,n:a,octaves:c});return Vt(...m).note().set(h)}catch{return Kt(`[voicing]: unknown chord "${r}"`),Bt}}).outerJoin()});function zr(t,e,n){n=Array.isArray(n)?n:[n],n.forEach(r=>{r[e]=r[t]})}zr("^","",[rr,Wr]);Object.keys(rr).forEach(t=>{if(t.includes("-")){let e=t.replace("-","m");zr(t,e,[Wr,rr])}if(t.includes("^")){let e=t.replace("^","M");zr(t,e,[Wr,rr])}if(t.includes("+")){let e=t.replace("+","aug");zr(t,e,[Wr,rr])}});va("ireal",rr);va("ireal-ext",Wr);function IF(){wi=void 0,Of("ireal")}const SF="@strudel/tonal",kF=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:Wf,packageName:SF,registerVoicings:va,resetVoicings:IF,rootNotes:wF,scale:fF,scaleTranspose:dF,setDefaultVoicings:Of,setVoicingRange:PF,transpose:mF,voicing:xF,voicingAlias:zr,voicingRegistry:wr,voicings:BF},Symbol.toStringTag,{value:"Module"}));async function NF(){const t=Ii(Ii,Promise.resolve().then(()=>um),Promise.resolve().then(()=>pv),Promise.resolve().then(()=>kF),Promise.resolve().then(()=>uv),{hush:zf,evaluate:TF});await Promise.all([t,xm()])}let au,On;function ba(t={}){Fm(),t.miniAllStrings!==!1&&Um();const{prebake:e,...n}=t;return On=Wm({...n,transpiler:mb}),au=(async()=>(await NF(),await(e==null?void 0:e()),On))(),Ou(()=>On.scheduler.now()),au}window.initStrudel=ba;nt.prototype.play=function(){if(!On)throw new Error(".play: no repl found. Have you called initStrudel?");return au.then(()=>{On.setPattern(this,!0)}),this};function zf(){On.stop()}async function TF(t,e=!0){return On.evaluate(t,e)}function VF(){ba(),Si("github:tidalcycles/dirt-samples"),Si("github:potatoboiler/bolero");const t=Lr("[sd sd*3]"),e=Lr("[sd sd]"),n=Lr("[sd *6]"),r=Nt("[[c3, g3] ~]"),i=Nt("[[g3, g4] ~]"),s=Nt("[[g2, g3] ~]"),u=Nt("[[g2, g3] ~] ~ g3 ~"),a=Nt("c5@6 b4 c5 d5 c5 b4 a4"),c=Nt("[c5 ~]@2 c5 a4 c5@6 b4 c5"),h=Nt("a4 g4 e4 f4 g4@8"),m=Nt("g4 f4 e4 d4 e4 f4 g4 a4 g4@4"),p=Nt("g4@5 a4 b4 a4 g4 f4 e4 d4"),d=Nt("e4 d4 c4@3 ~ c4 d4 e4 ~ f4 ~"),g=Nt("d4 g4@2"),M=Nt("g4@7 ~"),v=Nt("d5@7 c5 b4 a4 b4 c5"),P=Nt("d5 c5 b4@3 c5 b4 a4 c5 b4 a4 f4"),B=Nt("f4@2 [f4 ~] [f4 ~] [f4 ~]@2 [a4 ~]@2 c5 a4 b4 g4"),S=Nt("f4@2 [f4 ~] [f4 ~] [f4 ~]@2 [a4 ~]@2 b4 g4 a4 f4"),O=Nt("d4 ~ d4 c4 d4@5 ~ [d4 ~] [d4 ~]"),w=Nt("[d4 ~]@2 [f4 ~]@2 a4 f4 g4 e4 [d4 ~]@2 d4 c4"),_=Nt("d4@5 ~ d4 c4 d4@2 e4 f4"),k=Nt("g4@9 f4 e4 d4"),I=Nt("c4 ~@11"),T=Nt("~@12"),H=nr(a,c,h,m,p,d,g,M),G=nr(v,P,B,S,O,w,_,k,I,T),Z=xc([8,H],[10,G]).fast(2/3).sound("nee"),W=nr(t,t,e,t,t,n).fast(2).gain(.2),q=nr(r,i,s,r,i,u).fast(2),X=Vt(W,q,Z);return new window.AudioContext,vn(Xr,{children:[vn("h1",{children:"YOUR MOMMMMM"}),vn("div",{children:[vn("button",{onClick:()=>{X.play()},children:"Play"}),vn("button",{onClick:()=>{zf()},children:"Stop"})]})]})}function RF(){return vn("div",{children:vn(VF,{})})}typeof window<"u"&&(rC(vn(RF,{}),document.getElementById("app")),ba());
